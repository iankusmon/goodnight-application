[6f5689d4-88da-4b2a-a997-7f1d26060968] Started POST "/api/v1/users/1/sleep_sessions/clock_in" for ::1 at 2025-09-22 15:31:57 +0700
[6f5689d4-88da-4b2a-a997-7f1d26060968] Processing by Api::V1::SleepSessionsController#clock_in as */*
[6f5689d4-88da-4b2a-a997-7f1d26060968]   Parameters: {"user_id"=>"1"}
[6f5689d4-88da-4b2a-a997-7f1d26060968] Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 236)


[6f5689d4-88da-4b2a-a997-7f1d26060968]   
[6f5689d4-88da-4b2a-a997-7f1d26060968] NameError (uninitialized constant ApplicationRecord):
[6f5689d4-88da-4b2a-a997-7f1d26060968]   
[6f5689d4-88da-4b2a-a997-7f1d26060968] app/models/user.rb:2:in `<main>'
[6f5689d4-88da-4b2a-a997-7f1d26060968] app/controllers/api/v1/sleep_sessions_controller.rb:32:in `set_user'
  [1m[35m (357.9ms)[0m  [1m[35mCREATE DATABASE "goodnight_development" ENCODING = 'unicode'[0m
  [1m[35m (60.0ms)[0m  [1m[35mCREATE DATABASE "goodnight_test" ENCODING = 'unicode'[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(8391342547787642940)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (3.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-09-22 08:35:55.262258', '2025-09-22 08:35:55.262260') RETURNING "key"[0m
Migrating to CreateUsers (20250922000100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial NOT NULL PRIMARY KEY, "name" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_users_on_name" ON "users" ("name")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250922000100') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateFollows (20250922000200)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "follows" ("id" bigserial NOT NULL PRIMARY KEY, "follower_id" bigint NOT NULL, "followed_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_follows_on_follower_id_and_followed_id" ON "follows" ("follower_id", "followed_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_follows_on_follower_id" ON "follows" ("follower_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_follows_on_followed_id" ON "follows" ("followed_id")[0m
  [1m[35m (4.1ms)[0m  [1m[35mALTER TABLE "follows" ADD CONSTRAINT "fk_rails_622d34a301"
FOREIGN KEY ("follower_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "follows" ADD CONSTRAINT "fk_rails_5ef72a3867"
FOREIGN KEY ("followed_id")
  REFERENCES "users" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250922000200') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateSleepSessions (20250922000300)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "sleep_sessions" ("id" bigserial NOT NULL PRIMARY KEY, "user_id" bigint NOT NULL, "slept_at" timestamp(6) NOT NULL, "woke_at" timestamp(6), "duration_sec" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "sleep_sessions" ADD CONSTRAINT "fk_rails_d7d074e0ae"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_sleep_sessions_on_user_id_and_slept_at" ON "sleep_sessions" ("user_id", "slept_at")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_sleep_sessions_on_user_id_and_woke_at" ON "sleep_sessions" ("user_id", "woke_at")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_sleep_sessions_on_woke_at" ON "sleep_sessions" ("woke_at")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE UNIQUE INDEX idx_unique_open_sleep_session
ON sleep_sessions (user_id)
WHERE woke_at IS NULL;
[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE sleep_sessions
ADD CONSTRAINT slept_before_woke
CHECK (woke_at IS NULL OR slept_at < woke_at);
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250922000300') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(8391342547787642940)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE DATABASE "goodnight_development" ENCODING = 'unicode'[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE DATABASE "goodnight_test" ENCODING = 'unicode'[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(8391342547787642940)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(8391342547787642940)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[75ef2efd-736d-4516-abd1-6c924505d7ad] Started POST "/api/v1/users/1/sleep_sessions/clock_in" for ::1 at 2025-09-22 15:36:19 +0700
[75ef2efd-736d-4516-abd1-6c924505d7ad] Processing by Api::V1::SleepSessionsController#clock_in as */*
[75ef2efd-736d-4516-abd1-6c924505d7ad]   Parameters: {"user_id"=>"1"}
[75ef2efd-736d-4516-abd1-6c924505d7ad] Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 190)


[75ef2efd-736d-4516-abd1-6c924505d7ad]   
[75ef2efd-736d-4516-abd1-6c924505d7ad] NameError (uninitialized constant ApplicationRecord):
[75ef2efd-736d-4516-abd1-6c924505d7ad]   
[75ef2efd-736d-4516-abd1-6c924505d7ad] app/models/user.rb:2:in `<main>'
[75ef2efd-736d-4516-abd1-6c924505d7ad] app/controllers/api/v1/sleep_sessions_controller.rb:32:in `set_user'
[e0028d39-3e78-4767-8b75-3cbdce9f4013] Started POST "/api/v1/users/1/sleep_sessions/clock_in" for ::1 at 2025-09-22 15:36:25 +0700
[e0028d39-3e78-4767-8b75-3cbdce9f4013] Processing by Api::V1::SleepSessionsController#clock_in as */*
[e0028d39-3e78-4767-8b75-3cbdce9f4013]   Parameters: {"user_id"=>"1"}
[e0028d39-3e78-4767-8b75-3cbdce9f4013] Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 106)


[e0028d39-3e78-4767-8b75-3cbdce9f4013]   
[e0028d39-3e78-4767-8b75-3cbdce9f4013] NameError (uninitialized constant ApplicationRecord):
[e0028d39-3e78-4767-8b75-3cbdce9f4013]   
[e0028d39-3e78-4767-8b75-3cbdce9f4013] app/models/user.rb:2:in `<main>'
[e0028d39-3e78-4767-8b75-3cbdce9f4013] app/controllers/api/v1/sleep_sessions_controller.rb:32:in `set_user'
  [1m[35m (2.0ms)[0m  [1m[35mCREATE DATABASE "goodnight_development" ENCODING = 'unicode'[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE DATABASE "goodnight_test" ENCODING = 'unicode'[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(8391342547787642940)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(8391342547787642940)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (103.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "goodnight_test"[0m
  [1m[35m (59.3ms)[0m  [1m[35mCREATE DATABASE "goodnight_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (1.4ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "follows" CASCADE[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "follows" ("id" bigserial primary key, "follower_id" bigint NOT NULL, "followed_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_follows_on_followed_id" ON "follows" ("followed_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_follows_on_follower_id_and_followed_id" ON "follows" ("follower_id", "followed_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_follows_on_follower_id" ON "follows" ("follower_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "sleep_sessions" CASCADE[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "sleep_sessions" ("id" bigserial primary key, "user_id" bigint NOT NULL, "slept_at" timestamp(6) NOT NULL, "woke_at" timestamp(6), "duration_sec" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT slept_before_woke CHECK (woke_at IS NULL OR slept_at < woke_at))[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_sleep_sessions_on_user_id_and_slept_at" ON "sleep_sessions" ("user_id", "slept_at")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_sleep_sessions_on_user_id_and_woke_at" ON "sleep_sessions" ("user_id", "woke_at")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "idx_unique_open_sleep_session" ON "sleep_sessions" ("user_id") WHERE (woke_at IS NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_sleep_sessions_on_woke_at" ON "sleep_sessions" ("woke_at")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_users_on_name" ON "users" ("name")[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "follows" ADD CONSTRAINT "fk_rails_5ef72a3867"
FOREIGN KEY ("followed_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "follows" ADD CONSTRAINT "fk_rails_622d34a301"
FOREIGN KEY ("follower_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "sleep_sessions" ADD CONSTRAINT "fk_rails_d7d074e0ae"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250922000300)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20250922000200),
(20250922000100);[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-09-22 08:49:03.314426', '2025-09-22 08:49:03.314428') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Update (4.2ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = 'test', "updated_at" = '2025-09-22 08:49:03.315210' WHERE "ar_internal_metadata"."key" = 'environment'[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '08b3ef4091bd1f941d53941f40f2e33c7f53aa07', '2025-09-22 08:49:03.319702', '2025-09-22 08:49:03.319702') RETURNING "key"[0m
[b770ed50-1fb0-4182-abec-7669923eed08] Started POST "/api/v1/users/1/sleep_sessions/clock_in" for ::1 at 2025-09-22 15:50:02 +0700
[b770ed50-1fb0-4182-abec-7669923eed08] Processing by Api::V1::SleepSessionsController#clock_in as */*
[b770ed50-1fb0-4182-abec-7669923eed08]   Parameters: {"user_id"=>"1"}
[b770ed50-1fb0-4182-abec-7669923eed08]   [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[b770ed50-1fb0-4182-abec-7669923eed08] Completed 404 Not Found in 76ms (ActiveRecord: 23.1ms | Allocations: 22784)


[b770ed50-1fb0-4182-abec-7669923eed08]   
[b770ed50-1fb0-4182-abec-7669923eed08] ActiveRecord::RecordNotFound (Couldn't find User with 'id'="1"):
[b770ed50-1fb0-4182-abec-7669923eed08]   
[b770ed50-1fb0-4182-abec-7669923eed08] app/controllers/api/v1/sleep_sessions_controller.rb:32:in `set_user'
  [1m[35m (3.0ms)[0m  [1m[35mCREATE DATABASE "goodnight_development" ENCODING = 'unicode'[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE DATABASE "goodnight_test" ENCODING = 'unicode'[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(8391342547787642940)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(8391342547787642940)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[8b0c407e-897c-4ee8-822d-1ab10f16e2d7] Started POST "/api/v1/users/1/sleep_sessions/clock_in" for ::1 at 2025-09-22 16:02:53 +0700
[8b0c407e-897c-4ee8-822d-1ab10f16e2d7] Processing by Api::V1::SleepSessionsController#clock_in as */*
[8b0c407e-897c-4ee8-822d-1ab10f16e2d7]   Parameters: {"user_id"=>"1"}
[8b0c407e-897c-4ee8-822d-1ab10f16e2d7]   [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[8b0c407e-897c-4ee8-822d-1ab10f16e2d7] Completed 404 Not Found in 25ms (ActiveRecord: 9.1ms | Allocations: 5879)


[8b0c407e-897c-4ee8-822d-1ab10f16e2d7]   
[8b0c407e-897c-4ee8-822d-1ab10f16e2d7] ActiveRecord::RecordNotFound (Couldn't find User with 'id'="1"):
[8b0c407e-897c-4ee8-822d-1ab10f16e2d7]   
[8b0c407e-897c-4ee8-822d-1ab10f16e2d7] app/controllers/api/v1/sleep_sessions_controller.rb:32:in `set_user'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (5.9ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ryan c"], ["created_at", "2025-09-22 09:03:33.671405"], ["updated_at", "2025-09-22 09:03:33.671405"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
[166bb474-9beb-4e3d-9d9b-f8a6e68fb131] Started POST "/api/v1/users/1/sleep_sessions/clock_in" for ::1 at 2025-09-22 16:03:36 +0700
[166bb474-9beb-4e3d-9d9b-f8a6e68fb131] Processing by Api::V1::SleepSessionsController#clock_in as */*
[166bb474-9beb-4e3d-9d9b-f8a6e68fb131]   Parameters: {"user_id"=>"1"}
[166bb474-9beb-4e3d-9d9b-f8a6e68fb131]   [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[166bb474-9beb-4e3d-9d9b-f8a6e68fb131]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
[166bb474-9beb-4e3d-9d9b-f8a6e68fb131]   [1m[36mUser Load (1.0ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[166bb474-9beb-4e3d-9d9b-f8a6e68fb131]   [1m[36mSleepSession Exists? (2.2ms)[0m  [1m[34mSELECT 1 AS one FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[166bb474-9beb-4e3d-9d9b-f8a6e68fb131]   [1m[36mSleepSession Create (1.9ms)[0m  [1m[32mINSERT INTO "sleep_sessions" ("user_id", "slept_at", "woke_at", "duration_sec", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 1], ["slept_at", "2025-09-22 09:03:36.270922"], ["woke_at", nil], ["duration_sec", nil], ["created_at", "2025-09-22 09:03:36.274882"], ["updated_at", "2025-09-22 09:03:36.274882"]]
[166bb474-9beb-4e3d-9d9b-f8a6e68fb131]   [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
[166bb474-9beb-4e3d-9d9b-f8a6e68fb131] Completed 201 Created in 59ms (Views: 0.2ms | ActiveRecord: 13.9ms | Allocations: 24623)


[cd5e7757-6fe8-4c7e-a814-6bebe680a627] Started POST "/api/v1/users/1/sleep_sessions/clock_in" for ::1 at 2025-09-22 16:13:10 +0700
[cd5e7757-6fe8-4c7e-a814-6bebe680a627] Processing by Api::V1::SleepSessionsController#clock_in as */*
[cd5e7757-6fe8-4c7e-a814-6bebe680a627]   Parameters: {"user_id"=>"1"}
[cd5e7757-6fe8-4c7e-a814-6bebe680a627]   [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[cd5e7757-6fe8-4c7e-a814-6bebe680a627]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[cd5e7757-6fe8-4c7e-a814-6bebe680a627]   [1m[36mUser Load (0.6ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[cd5e7757-6fe8-4c7e-a814-6bebe680a627]   [1m[36mSleepSession Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[cd5e7757-6fe8-4c7e-a814-6bebe680a627]   [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
[cd5e7757-6fe8-4c7e-a814-6bebe680a627] Completed 422 Unprocessable Content in 33ms (Views: 0.3ms | ActiveRecord: 16.0ms | Allocations: 4189)


[01c5178d-c321-4511-8288-aca9cd64ae6a] Started POST "/api/v1/users/1/sleep_sessions/clock_in" for ::1 at 2025-09-22 16:14:17 +0700
[01c5178d-c321-4511-8288-aca9cd64ae6a] Processing by Api::V1::SleepSessionsController#clock_in as */*
[01c5178d-c321-4511-8288-aca9cd64ae6a]   Parameters: {"user_id"=>"1"}
[01c5178d-c321-4511-8288-aca9cd64ae6a]   [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[01c5178d-c321-4511-8288-aca9cd64ae6a]   [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
[01c5178d-c321-4511-8288-aca9cd64ae6a]   [1m[36mUser Load (1.8ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[01c5178d-c321-4511-8288-aca9cd64ae6a]   [1m[36mSleepSession Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[01c5178d-c321-4511-8288-aca9cd64ae6a]   [1m[36mTRANSACTION (22.8ms)[0m  [1m[35mCOMMIT[0m
[01c5178d-c321-4511-8288-aca9cd64ae6a] Completed 422 Unprocessable Content in 30ms (Views: 0.3ms | ActiveRecord: 26.5ms | Allocations: 894)


[6def26e6-d162-47eb-b234-b394b83dda48] Started POST "/api/v1/users/1/sleep_sessions/clock_in" for ::1 at 2025-09-22 16:14:17 +0700
[6def26e6-d162-47eb-b234-b394b83dda48] Processing by Api::V1::SleepSessionsController#clock_in as */*
[6def26e6-d162-47eb-b234-b394b83dda48]   Parameters: {"user_id"=>"1"}
[6def26e6-d162-47eb-b234-b394b83dda48]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[6def26e6-d162-47eb-b234-b394b83dda48]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[6def26e6-d162-47eb-b234-b394b83dda48]   [1m[36mUser Load (0.3ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[6def26e6-d162-47eb-b234-b394b83dda48]   [1m[36mSleepSession Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[6def26e6-d162-47eb-b234-b394b83dda48]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
[6def26e6-d162-47eb-b234-b394b83dda48] Completed 422 Unprocessable Content in 2ms (Views: 0.1ms | ActiveRecord: 0.9ms | Allocations: 882)


[c2d859b7-d7eb-4dd0-b8bf-768fb261e1cf] Started POST "/api/v1/users/1/sleep_sessions/clock_out" for ::1 at 2025-09-22 16:14:17 +0700
[c2d859b7-d7eb-4dd0-b8bf-768fb261e1cf] Processing by Api::V1::SleepSessionsController#clock_out as */*
[c2d859b7-d7eb-4dd0-b8bf-768fb261e1cf]   Parameters: {"user_id"=>"1"}
[c2d859b7-d7eb-4dd0-b8bf-768fb261e1cf]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[c2d859b7-d7eb-4dd0-b8bf-768fb261e1cf]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[c2d859b7-d7eb-4dd0-b8bf-768fb261e1cf]   [1m[36mUser Load (0.4ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[c2d859b7-d7eb-4dd0-b8bf-768fb261e1cf]   [1m[36mSleepSession Load (0.2ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL ORDER BY "sleep_sessions"."slept_at" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[c2d859b7-d7eb-4dd0-b8bf-768fb261e1cf]   [1m[36mSleepSession Update (141.6ms)[0m  [1m[33mUPDATE "sleep_sessions" SET "woke_at" = $1, "duration_sec" = $2, "updated_at" = $3 WHERE "sleep_sessions"."id" = $4[0m  [["woke_at", "2025-09-22 09:14:17.214598"], ["duration_sec", 640], ["updated_at", "2025-09-22 09:14:17.214971"], ["id", 1]]
[c2d859b7-d7eb-4dd0-b8bf-768fb261e1cf]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
[c2d859b7-d7eb-4dd0-b8bf-768fb261e1cf] Completed 200 OK in 147ms (Views: 0.1ms | ActiveRecord: 142.6ms | Allocations: 1591)


[a26268da-ca57-4342-a4f5-52d708950de8] Started POST "/api/v1/users/1/sleep_sessions/clock_out" for ::1 at 2025-09-22 16:14:17 +0700
[a26268da-ca57-4342-a4f5-52d708950de8] Processing by Api::V1::SleepSessionsController#clock_out as */*
[a26268da-ca57-4342-a4f5-52d708950de8]   Parameters: {"user_id"=>"1"}
[a26268da-ca57-4342-a4f5-52d708950de8]   [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[a26268da-ca57-4342-a4f5-52d708950de8]   [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
[a26268da-ca57-4342-a4f5-52d708950de8]   [1m[36mUser Load (0.7ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[a26268da-ca57-4342-a4f5-52d708950de8]   [1m[36mSleepSession Load (0.2ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL ORDER BY "sleep_sessions"."slept_at" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[a26268da-ca57-4342-a4f5-52d708950de8]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
[a26268da-ca57-4342-a4f5-52d708950de8] Completed 422 Unprocessable Content in 4ms (Views: 0.1ms | ActiveRecord: 1.7ms | Allocations: 916)


[4ef1d6b4-43cd-49c1-bdf7-93f435b94817] Started GET "/api/v1/users/1/sleep_sessions" for ::1 at 2025-09-22 16:14:17 +0700
[4ef1d6b4-43cd-49c1-bdf7-93f435b94817] Processing by Api::V1::SleepSessionsController#index as */*
[4ef1d6b4-43cd-49c1-bdf7-93f435b94817]   Parameters: {"user_id"=>"1"}
[4ef1d6b4-43cd-49c1-bdf7-93f435b94817]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[4ef1d6b4-43cd-49c1-bdf7-93f435b94817]   [1m[36mSleepSession Load (3.0ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 ORDER BY "sleep_sessions"."created_at" ASC[0m  [["user_id", 1]]
[4ef1d6b4-43cd-49c1-bdf7-93f435b94817] Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 3.2ms | Allocations: 565)


[9eb983bb-eb74-4889-8637-dce69ae62f77] Started POST "/api/v1/users/1/follows" for ::1 at 2025-09-22 16:14:17 +0700
[9eb983bb-eb74-4889-8637-dce69ae62f77] Processing by Api::V1::FollowsController#create as */*
[9eb983bb-eb74-4889-8637-dce69ae62f77]   Parameters: {"followed_id"=>2, "user_id"=>"1", "follow"=>{"followed_id"=>2}}
[9eb983bb-eb74-4889-8637-dce69ae62f77]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[9eb983bb-eb74-4889-8637-dce69ae62f77]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[9eb983bb-eb74-4889-8637-dce69ae62f77] Completed 404 Not Found in 2ms (ActiveRecord: 181.2ms | Allocations: 418)


[9eb983bb-eb74-4889-8637-dce69ae62f77]   
[9eb983bb-eb74-4889-8637-dce69ae62f77] ActiveRecord::RecordNotFound (Couldn't find User with 'id'=2):
[9eb983bb-eb74-4889-8637-dce69ae62f77]   
[9eb983bb-eb74-4889-8637-dce69ae62f77] app/controllers/api/v1/follows_controller.rb:6:in `create'
[b29f5f2c-6ffb-4c6a-9b0d-f29a3a2f5728] Started POST "/api/v1/users/1/follows" for ::1 at 2025-09-22 16:14:17 +0700
[b29f5f2c-6ffb-4c6a-9b0d-f29a3a2f5728] Processing by Api::V1::FollowsController#create as */*
[b29f5f2c-6ffb-4c6a-9b0d-f29a3a2f5728]   Parameters: {"followed_id"=>2, "user_id"=>"1", "follow"=>{"followed_id"=>2}}
[b29f5f2c-6ffb-4c6a-9b0d-f29a3a2f5728]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[b29f5f2c-6ffb-4c6a-9b0d-f29a3a2f5728]   [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[b29f5f2c-6ffb-4c6a-9b0d-f29a3a2f5728] Completed 404 Not Found in 2ms (ActiveRecord: 0.7ms | Allocations: 353)


[b29f5f2c-6ffb-4c6a-9b0d-f29a3a2f5728]   
[b29f5f2c-6ffb-4c6a-9b0d-f29a3a2f5728] ActiveRecord::RecordNotFound (Couldn't find User with 'id'=2):
[b29f5f2c-6ffb-4c6a-9b0d-f29a3a2f5728]   
[b29f5f2c-6ffb-4c6a-9b0d-f29a3a2f5728] app/controllers/api/v1/follows_controller.rb:6:in `create'
[6271dc51-f184-40a5-9a6a-418c4c1cca49] Started POST "/api/v1/users/1/follows" for ::1 at 2025-09-22 16:14:17 +0700
[6271dc51-f184-40a5-9a6a-418c4c1cca49] Processing by Api::V1::FollowsController#create as */*
[6271dc51-f184-40a5-9a6a-418c4c1cca49]   Parameters: {"followed_id"=>1, "user_id"=>"1", "follow"=>{"followed_id"=>1}}
[6271dc51-f184-40a5-9a6a-418c4c1cca49]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[6271dc51-f184-40a5-9a6a-418c4c1cca49]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[6271dc51-f184-40a5-9a6a-418c4c1cca49]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[6271dc51-f184-40a5-9a6a-418c4c1cca49]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[6271dc51-f184-40a5-9a6a-418c4c1cca49]   [1m[36mFollow Exists? (6.5ms)[0m  [1m[34mSELECT 1 AS one FROM "follows" WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2 LIMIT $3[0m  [["follower_id", 1], ["followed_id", 1], ["LIMIT", 1]]
[6271dc51-f184-40a5-9a6a-418c4c1cca49]   [1m[36mTRANSACTION (19.6ms)[0m  [1m[31mROLLBACK[0m
[6271dc51-f184-40a5-9a6a-418c4c1cca49] Completed 422 Unprocessable Content in 844ms (ActiveRecord: 56.9ms | Allocations: 980177)


[6271dc51-f184-40a5-9a6a-418c4c1cca49]   
[6271dc51-f184-40a5-9a6a-418c4c1cca49] ActiveRecord::RecordInvalid (Validation failed: cannot follow self):
[6271dc51-f184-40a5-9a6a-418c4c1cca49]   
[6271dc51-f184-40a5-9a6a-418c4c1cca49] app/controllers/api/v1/follows_controller.rb:7:in `create'
[48fae1c4-e152-4d40-bb9d-9958aa2d68d2] Started DELETE "/api/v1/users/1/follows/2" for ::1 at 2025-09-22 16:14:18 +0700
[48fae1c4-e152-4d40-bb9d-9958aa2d68d2] Processing by Api::V1::FollowsController#destroy as */*
[48fae1c4-e152-4d40-bb9d-9958aa2d68d2]   Parameters: {"user_id"=>"1", "followed_id"=>"2"}
[48fae1c4-e152-4d40-bb9d-9958aa2d68d2]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[48fae1c4-e152-4d40-bb9d-9958aa2d68d2]   [1m[36mFollow Load (0.3ms)[0m  [1m[34mSELECT "follows".* FROM "follows" WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2 LIMIT $3[0m  [["follower_id", 1], ["followed_id", 2], ["LIMIT", 1]]
[48fae1c4-e152-4d40-bb9d-9958aa2d68d2] Completed 404 Not Found in 3ms (ActiveRecord: 0.5ms | Allocations: 679)


[48fae1c4-e152-4d40-bb9d-9958aa2d68d2]   
[48fae1c4-e152-4d40-bb9d-9958aa2d68d2] ActiveRecord::RecordNotFound (Couldn't find Follow with [WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2]):
[48fae1c4-e152-4d40-bb9d-9958aa2d68d2]   
[48fae1c4-e152-4d40-bb9d-9958aa2d68d2] app/controllers/api/v1/follows_controller.rb:12:in `destroy'
[e94a90d7-abeb-40b1-997b-e193c9dc31ae] Started GET "/api/v1/users/1/feed" for ::1 at 2025-09-22 16:14:18 +0700
[e94a90d7-abeb-40b1-997b-e193c9dc31ae] Processing by Api::V1::FeedsController#index as */*
[e94a90d7-abeb-40b1-997b-e193c9dc31ae]   Parameters: {"user_id"=>"1"}
[e94a90d7-abeb-40b1-997b-e193c9dc31ae]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[e94a90d7-abeb-40b1-997b-e193c9dc31ae]   [1m[36mSleepSession Load (1.3ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."woke_at" IS NOT NULL AND "sleep_sessions"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "follows" ON "users"."id" = "follows"."followed_id" WHERE "follows"."follower_id" = $1) AND "sleep_sessions"."woke_at" BETWEEN $2 AND $3 ORDER BY "sleep_sessions"."duration_sec" DESC, "sleep_sessions"."woke_at" DESC, "sleep_sessions"."id" DESC[0m  [["follower_id", 1], ["woke_at", "2025-09-15 00:00:00"], ["woke_at", "2025-09-22 23:59:59.999999"]]
[e94a90d7-abeb-40b1-997b-e193c9dc31ae] Completed 200 OK in 26ms (Views: 0.1ms | ActiveRecord: 1.5ms | Allocations: 5781)


[ac76cc15-4ae7-4860-8622-78288d18aaf8] Started GET "/api/v1/users/99/feed" for ::1 at 2025-09-22 16:14:18 +0700
[ac76cc15-4ae7-4860-8622-78288d18aaf8] Processing by Api::V1::FeedsController#index as */*
[ac76cc15-4ae7-4860-8622-78288d18aaf8]   Parameters: {"user_id"=>"99"}
[ac76cc15-4ae7-4860-8622-78288d18aaf8]   [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 99], ["LIMIT", 1]]
[ac76cc15-4ae7-4860-8622-78288d18aaf8] Completed 404 Not Found in 2ms (ActiveRecord: 0.3ms | Allocations: 216)


[ac76cc15-4ae7-4860-8622-78288d18aaf8]   
[ac76cc15-4ae7-4860-8622-78288d18aaf8] ActiveRecord::RecordNotFound (Couldn't find User with 'id'="99"):
[ac76cc15-4ae7-4860-8622-78288d18aaf8]   
[ac76cc15-4ae7-4860-8622-78288d18aaf8] app/controllers/api/v1/feeds_controller.rb:20:in `set_user'
[707b3338-28c2-4444-9576-e05797928fd8] Started POST "/api/v1/users/1/sleep_sessions/clock_in" for ::1 at 2025-09-22 16:15:55 +0700
[707b3338-28c2-4444-9576-e05797928fd8] Processing by Api::V1::SleepSessionsController#clock_in as */*
[707b3338-28c2-4444-9576-e05797928fd8]   Parameters: {"user_id"=>"1"}
[707b3338-28c2-4444-9576-e05797928fd8]   [1m[36mUser Load (7.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[707b3338-28c2-4444-9576-e05797928fd8]   [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
[707b3338-28c2-4444-9576-e05797928fd8]   [1m[36mUser Load (11.5ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[707b3338-28c2-4444-9576-e05797928fd8]   [1m[36mSleepSession Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[707b3338-28c2-4444-9576-e05797928fd8]   [1m[36mSleepSession Create (7.7ms)[0m  [1m[32mINSERT INTO "sleep_sessions" ("user_id", "slept_at", "woke_at", "duration_sec", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 1], ["slept_at", "2025-09-22 09:15:55.177221"], ["woke_at", nil], ["duration_sec", nil], ["created_at", "2025-09-22 09:15:55.179805"], ["updated_at", "2025-09-22 09:15:55.179805"]]
[707b3338-28c2-4444-9576-e05797928fd8]   [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
[707b3338-28c2-4444-9576-e05797928fd8] Completed 201 Created in 43ms (Views: 0.2ms | ActiveRecord: 28.9ms | Allocations: 1328)


[9956280d-7170-4941-800b-4d6ca43a1790] Started POST "/api/v1/users/1/sleep_sessions/clock_in" for ::1 at 2025-09-22 16:15:55 +0700
[9956280d-7170-4941-800b-4d6ca43a1790] Processing by Api::V1::SleepSessionsController#clock_in as */*
[9956280d-7170-4941-800b-4d6ca43a1790]   Parameters: {"user_id"=>"1"}
[9956280d-7170-4941-800b-4d6ca43a1790]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[9956280d-7170-4941-800b-4d6ca43a1790]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[9956280d-7170-4941-800b-4d6ca43a1790]   [1m[36mUser Load (4.6ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[9956280d-7170-4941-800b-4d6ca43a1790]   [1m[36mSleepSession Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[9956280d-7170-4941-800b-4d6ca43a1790]   [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
[9956280d-7170-4941-800b-4d6ca43a1790] Completed 422 Unprocessable Content in 8ms (Views: 0.1ms | ActiveRecord: 5.7ms | Allocations: 881)


[dac2fcd3-fad7-41ca-8b8e-e61a7f6f5b18] Started POST "/api/v1/users/1/sleep_sessions/clock_out" for ::1 at 2025-09-22 16:15:55 +0700
[dac2fcd3-fad7-41ca-8b8e-e61a7f6f5b18] Processing by Api::V1::SleepSessionsController#clock_out as */*
[dac2fcd3-fad7-41ca-8b8e-e61a7f6f5b18]   Parameters: {"user_id"=>"1"}
[dac2fcd3-fad7-41ca-8b8e-e61a7f6f5b18]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[dac2fcd3-fad7-41ca-8b8e-e61a7f6f5b18]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[dac2fcd3-fad7-41ca-8b8e-e61a7f6f5b18]   [1m[36mUser Load (0.4ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[dac2fcd3-fad7-41ca-8b8e-e61a7f6f5b18]   [1m[36mSleepSession Load (0.4ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL ORDER BY "sleep_sessions"."slept_at" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[dac2fcd3-fad7-41ca-8b8e-e61a7f6f5b18]   [1m[36mSleepSession Update (0.3ms)[0m  [1m[33mUPDATE "sleep_sessions" SET "woke_at" = $1, "duration_sec" = $2, "updated_at" = $3 WHERE "sleep_sessions"."id" = $4[0m  [["woke_at", "2025-09-22 09:15:55.222685"], ["duration_sec", 0], ["updated_at", "2025-09-22 09:15:55.222943"], ["id", 2]]
[dac2fcd3-fad7-41ca-8b8e-e61a7f6f5b18]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
[dac2fcd3-fad7-41ca-8b8e-e61a7f6f5b18] Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 1.6ms | Allocations: 1300)


[942ef9a8-5218-4ce8-92d5-cc51f96b7cec] Started POST "/api/v1/users/1/sleep_sessions/clock_out" for ::1 at 2025-09-22 16:15:55 +0700
[942ef9a8-5218-4ce8-92d5-cc51f96b7cec] Processing by Api::V1::SleepSessionsController#clock_out as */*
[942ef9a8-5218-4ce8-92d5-cc51f96b7cec]   Parameters: {"user_id"=>"1"}
[942ef9a8-5218-4ce8-92d5-cc51f96b7cec]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[942ef9a8-5218-4ce8-92d5-cc51f96b7cec]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[942ef9a8-5218-4ce8-92d5-cc51f96b7cec]   [1m[36mUser Load (1.0ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[942ef9a8-5218-4ce8-92d5-cc51f96b7cec]   [1m[36mSleepSession Load (0.2ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL ORDER BY "sleep_sessions"."slept_at" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[942ef9a8-5218-4ce8-92d5-cc51f96b7cec]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
[942ef9a8-5218-4ce8-92d5-cc51f96b7cec] Completed 422 Unprocessable Content in 3ms (Views: 0.1ms | ActiveRecord: 1.7ms | Allocations: 916)


[48befd87-066a-4def-9225-89d48bd73ab3] Started GET "/api/v1/users/1/sleep_sessions" for ::1 at 2025-09-22 16:15:55 +0700
[48befd87-066a-4def-9225-89d48bd73ab3] Processing by Api::V1::SleepSessionsController#index as */*
[48befd87-066a-4def-9225-89d48bd73ab3]   Parameters: {"user_id"=>"1"}
[48befd87-066a-4def-9225-89d48bd73ab3]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[48befd87-066a-4def-9225-89d48bd73ab3]   [1m[36mSleepSession Load (0.6ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 ORDER BY "sleep_sessions"."created_at" ASC[0m  [["user_id", 1]]
[48befd87-066a-4def-9225-89d48bd73ab3] Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 589)


[bd58b26b-d6a5-4d3c-a3e7-9af8a44fff7a] Started POST "/api/v1/users/1/follows" for ::1 at 2025-09-22 16:15:55 +0700
[bd58b26b-d6a5-4d3c-a3e7-9af8a44fff7a] Processing by Api::V1::FollowsController#create as */*
[bd58b26b-d6a5-4d3c-a3e7-9af8a44fff7a]   Parameters: {"followed_id"=>2, "user_id"=>"1", "follow"=>{"followed_id"=>2}}
[bd58b26b-d6a5-4d3c-a3e7-9af8a44fff7a]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[bd58b26b-d6a5-4d3c-a3e7-9af8a44fff7a]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[bd58b26b-d6a5-4d3c-a3e7-9af8a44fff7a] Completed 404 Not Found in 1ms (ActiveRecord: 0.3ms | Allocations: 353)


[bd58b26b-d6a5-4d3c-a3e7-9af8a44fff7a]   
[bd58b26b-d6a5-4d3c-a3e7-9af8a44fff7a] ActiveRecord::RecordNotFound (Couldn't find User with 'id'=2):
[bd58b26b-d6a5-4d3c-a3e7-9af8a44fff7a]   
[bd58b26b-d6a5-4d3c-a3e7-9af8a44fff7a] app/controllers/api/v1/follows_controller.rb:6:in `create'
[5c3380f3-d754-424f-8585-b32eade81fc9] Started POST "/api/v1/users/1/follows" for ::1 at 2025-09-22 16:15:55 +0700
[5c3380f3-d754-424f-8585-b32eade81fc9] Processing by Api::V1::FollowsController#create as */*
[5c3380f3-d754-424f-8585-b32eade81fc9]   Parameters: {"followed_id"=>2, "user_id"=>"1", "follow"=>{"followed_id"=>2}}
[5c3380f3-d754-424f-8585-b32eade81fc9]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[5c3380f3-d754-424f-8585-b32eade81fc9]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[5c3380f3-d754-424f-8585-b32eade81fc9] Completed 404 Not Found in 1ms (ActiveRecord: 0.2ms | Allocations: 353)


[5c3380f3-d754-424f-8585-b32eade81fc9]   
[5c3380f3-d754-424f-8585-b32eade81fc9] ActiveRecord::RecordNotFound (Couldn't find User with 'id'=2):
[5c3380f3-d754-424f-8585-b32eade81fc9]   
[5c3380f3-d754-424f-8585-b32eade81fc9] app/controllers/api/v1/follows_controller.rb:6:in `create'
[a0a9c6dd-5bf0-40ef-b526-58e7ae70783b] Started POST "/api/v1/users/1/follows" for ::1 at 2025-09-22 16:15:55 +0700
[a0a9c6dd-5bf0-40ef-b526-58e7ae70783b] Processing by Api::V1::FollowsController#create as */*
[a0a9c6dd-5bf0-40ef-b526-58e7ae70783b]   Parameters: {"followed_id"=>1, "user_id"=>"1", "follow"=>{"followed_id"=>1}}
[a0a9c6dd-5bf0-40ef-b526-58e7ae70783b]   [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[a0a9c6dd-5bf0-40ef-b526-58e7ae70783b]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[a0a9c6dd-5bf0-40ef-b526-58e7ae70783b]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[a0a9c6dd-5bf0-40ef-b526-58e7ae70783b]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
[a0a9c6dd-5bf0-40ef-b526-58e7ae70783b]   [1m[36mFollow Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "follows" WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2 LIMIT $3[0m  [["follower_id", 1], ["followed_id", 1], ["LIMIT", 1]]
[a0a9c6dd-5bf0-40ef-b526-58e7ae70783b]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
[a0a9c6dd-5bf0-40ef-b526-58e7ae70783b] Completed 422 Unprocessable Content in 4ms (ActiveRecord: 1.4ms | Allocations: 1241)


[a0a9c6dd-5bf0-40ef-b526-58e7ae70783b]   
[a0a9c6dd-5bf0-40ef-b526-58e7ae70783b] ActiveRecord::RecordInvalid (Validation failed: cannot follow self):
[a0a9c6dd-5bf0-40ef-b526-58e7ae70783b]   
[a0a9c6dd-5bf0-40ef-b526-58e7ae70783b] app/controllers/api/v1/follows_controller.rb:7:in `create'
[d7c7d55e-5267-4b61-9f0e-c9b1fce7937f] Started DELETE "/api/v1/users/1/follows/2" for ::1 at 2025-09-22 16:15:55 +0700
[d7c7d55e-5267-4b61-9f0e-c9b1fce7937f] Processing by Api::V1::FollowsController#destroy as */*
[d7c7d55e-5267-4b61-9f0e-c9b1fce7937f]   Parameters: {"user_id"=>"1", "followed_id"=>"2"}
[d7c7d55e-5267-4b61-9f0e-c9b1fce7937f]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[d7c7d55e-5267-4b61-9f0e-c9b1fce7937f]   [1m[36mFollow Load (0.4ms)[0m  [1m[34mSELECT "follows".* FROM "follows" WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2 LIMIT $3[0m  [["follower_id", 1], ["followed_id", 2], ["LIMIT", 1]]
[d7c7d55e-5267-4b61-9f0e-c9b1fce7937f] Completed 404 Not Found in 2ms (ActiveRecord: 0.5ms | Allocations: 595)


[d7c7d55e-5267-4b61-9f0e-c9b1fce7937f]   
[d7c7d55e-5267-4b61-9f0e-c9b1fce7937f] ActiveRecord::RecordNotFound (Couldn't find Follow with [WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2]):
[d7c7d55e-5267-4b61-9f0e-c9b1fce7937f]   
[d7c7d55e-5267-4b61-9f0e-c9b1fce7937f] app/controllers/api/v1/follows_controller.rb:12:in `destroy'
[bedb158c-37e4-4208-9caf-e6262efeaafe] Started GET "/api/v1/users/1/feed" for ::1 at 2025-09-22 16:15:55 +0700
[bedb158c-37e4-4208-9caf-e6262efeaafe] Processing by Api::V1::FeedsController#index as */*
[bedb158c-37e4-4208-9caf-e6262efeaafe]   Parameters: {"user_id"=>"1"}
[bedb158c-37e4-4208-9caf-e6262efeaafe]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[bedb158c-37e4-4208-9caf-e6262efeaafe]   [1m[36mSleepSession Load (1.4ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."woke_at" IS NOT NULL AND "sleep_sessions"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "follows" ON "users"."id" = "follows"."followed_id" WHERE "follows"."follower_id" = $1) AND "sleep_sessions"."woke_at" BETWEEN $2 AND $3 ORDER BY "sleep_sessions"."duration_sec" DESC, "sleep_sessions"."woke_at" DESC, "sleep_sessions"."id" DESC[0m  [["follower_id", 1], ["woke_at", "2025-09-15 00:00:00"], ["woke_at", "2025-09-22 23:59:59.999999"]]
[bedb158c-37e4-4208-9caf-e6262efeaafe] Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 1.6ms | Allocations: 1102)


[597b51a2-22ef-4da4-9d13-63a32588ff85] Started GET "/api/v1/users/99/feed" for ::1 at 2025-09-22 16:15:55 +0700
[597b51a2-22ef-4da4-9d13-63a32588ff85] Processing by Api::V1::FeedsController#index as */*
[597b51a2-22ef-4da4-9d13-63a32588ff85]   Parameters: {"user_id"=>"99"}
[597b51a2-22ef-4da4-9d13-63a32588ff85]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 99], ["LIMIT", 1]]
[597b51a2-22ef-4da4-9d13-63a32588ff85] Completed 404 Not Found in 1ms (ActiveRecord: 0.2ms | Allocations: 209)


[597b51a2-22ef-4da4-9d13-63a32588ff85]   
[597b51a2-22ef-4da4-9d13-63a32588ff85] ActiveRecord::RecordNotFound (Couldn't find User with 'id'="99"):
[597b51a2-22ef-4da4-9d13-63a32588ff85]   
[597b51a2-22ef-4da4-9d13-63a32588ff85] app/controllers/api/v1/feeds_controller.rb:20:in `set_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (3.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ronny verhouven"], ["created_at", "2025-09-22 09:21:04.002660"], ["updated_at", "2025-09-22 09:21:04.002660"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
[c268dc13-94ec-409f-a3c4-aec7a0d6f03c] Started POST "/api/v1/users/1/sleep_sessions/clock_in" for ::1 at 2025-09-22 16:21:07 +0700
[c268dc13-94ec-409f-a3c4-aec7a0d6f03c] Processing by Api::V1::SleepSessionsController#clock_in as */*
[c268dc13-94ec-409f-a3c4-aec7a0d6f03c]   Parameters: {"user_id"=>"1"}
[c268dc13-94ec-409f-a3c4-aec7a0d6f03c]   [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[c268dc13-94ec-409f-a3c4-aec7a0d6f03c]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
[c268dc13-94ec-409f-a3c4-aec7a0d6f03c]   [1m[36mUser Load (0.7ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[c268dc13-94ec-409f-a3c4-aec7a0d6f03c]   [1m[36mSleepSession Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[c268dc13-94ec-409f-a3c4-aec7a0d6f03c]   [1m[36mSleepSession Create (0.8ms)[0m  [1m[32mINSERT INTO "sleep_sessions" ("user_id", "slept_at", "woke_at", "duration_sec", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 1], ["slept_at", "2025-09-22 09:21:07.520694"], ["woke_at", nil], ["duration_sec", nil], ["created_at", "2025-09-22 09:21:07.521562"], ["updated_at", "2025-09-22 09:21:07.521562"]]
[c268dc13-94ec-409f-a3c4-aec7a0d6f03c]   [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
[c268dc13-94ec-409f-a3c4-aec7a0d6f03c] Completed 201 Created in 10ms (Views: 0.3ms | ActiveRecord: 3.4ms | Allocations: 1320)


[27b43886-0f3b-484f-a7af-872de2030d69] Started POST "/api/v1/users/1/sleep_sessions/clock_in" for ::1 at 2025-09-22 16:21:07 +0700
[27b43886-0f3b-484f-a7af-872de2030d69] Processing by Api::V1::SleepSessionsController#clock_in as */*
[27b43886-0f3b-484f-a7af-872de2030d69]   Parameters: {"user_id"=>"1"}
[27b43886-0f3b-484f-a7af-872de2030d69]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[27b43886-0f3b-484f-a7af-872de2030d69]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[27b43886-0f3b-484f-a7af-872de2030d69]   [1m[36mUser Load (0.4ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[27b43886-0f3b-484f-a7af-872de2030d69]   [1m[36mSleepSession Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[27b43886-0f3b-484f-a7af-872de2030d69]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
[27b43886-0f3b-484f-a7af-872de2030d69] Completed 422 Unprocessable Content in 3ms (Views: 0.1ms | ActiveRecord: 1.2ms | Allocations: 880)


[9d0acae6-2e83-43d4-b48a-ab3c47de9f01] Started POST "/api/v1/users/1/sleep_sessions/clock_out" for ::1 at 2025-09-22 16:21:07 +0700
[9d0acae6-2e83-43d4-b48a-ab3c47de9f01] Processing by Api::V1::SleepSessionsController#clock_out as */*
[9d0acae6-2e83-43d4-b48a-ab3c47de9f01]   Parameters: {"user_id"=>"1"}
[9d0acae6-2e83-43d4-b48a-ab3c47de9f01]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[9d0acae6-2e83-43d4-b48a-ab3c47de9f01]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[9d0acae6-2e83-43d4-b48a-ab3c47de9f01]   [1m[36mUser Load (0.5ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[9d0acae6-2e83-43d4-b48a-ab3c47de9f01]   [1m[36mSleepSession Load (0.5ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL ORDER BY "sleep_sessions"."slept_at" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[9d0acae6-2e83-43d4-b48a-ab3c47de9f01]   [1m[36mSleepSession Update (0.4ms)[0m  [1m[33mUPDATE "sleep_sessions" SET "woke_at" = $1, "duration_sec" = $2, "updated_at" = $3 WHERE "sleep_sessions"."id" = $4[0m  [["woke_at", "2025-09-22 09:21:07.556636"], ["duration_sec", 0], ["updated_at", "2025-09-22 09:21:07.556804"], ["id", 3]]
[9d0acae6-2e83-43d4-b48a-ab3c47de9f01]   [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
[9d0acae6-2e83-43d4-b48a-ab3c47de9f01] Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 1.9ms | Allocations: 1300)


[ce31feeb-3216-4dc4-96e7-58d547971456] Started POST "/api/v1/users/1/sleep_sessions/clock_out" for ::1 at 2025-09-22 16:21:07 +0700
[ce31feeb-3216-4dc4-96e7-58d547971456] Processing by Api::V1::SleepSessionsController#clock_out as */*
[ce31feeb-3216-4dc4-96e7-58d547971456]   Parameters: {"user_id"=>"1"}
[ce31feeb-3216-4dc4-96e7-58d547971456]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ce31feeb-3216-4dc4-96e7-58d547971456]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[ce31feeb-3216-4dc4-96e7-58d547971456]   [1m[36mUser Load (0.6ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[ce31feeb-3216-4dc4-96e7-58d547971456]   [1m[36mSleepSession Load (0.2ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL ORDER BY "sleep_sessions"."slept_at" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[ce31feeb-3216-4dc4-96e7-58d547971456]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
[ce31feeb-3216-4dc4-96e7-58d547971456] Completed 422 Unprocessable Content in 3ms (Views: 0.1ms | ActiveRecord: 1.3ms | Allocations: 914)


[f0618753-1254-46d6-a92d-35f04dcb4ec0] Started GET "/api/v1/users/1/sleep_sessions" for ::1 at 2025-09-22 16:21:07 +0700
[f0618753-1254-46d6-a92d-35f04dcb4ec0] Processing by Api::V1::SleepSessionsController#index as */*
[f0618753-1254-46d6-a92d-35f04dcb4ec0]   Parameters: {"user_id"=>"1"}
[f0618753-1254-46d6-a92d-35f04dcb4ec0]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[f0618753-1254-46d6-a92d-35f04dcb4ec0]   [1m[36mSleepSession Load (0.4ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 ORDER BY "sleep_sessions"."created_at" ASC[0m  [["user_id", 1]]
[f0618753-1254-46d6-a92d-35f04dcb4ec0] Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 633)


[d12c5ebb-46ef-41e2-b222-62c26b8bb2e0] Started POST "/api/v1/users/1/follows" for ::1 at 2025-09-22 16:21:07 +0700
[d12c5ebb-46ef-41e2-b222-62c26b8bb2e0] Processing by Api::V1::FollowsController#create as */*
[d12c5ebb-46ef-41e2-b222-62c26b8bb2e0]   Parameters: {"followed_id"=>2, "user_id"=>"1", "follow"=>{"followed_id"=>2}}
[d12c5ebb-46ef-41e2-b222-62c26b8bb2e0]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[d12c5ebb-46ef-41e2-b222-62c26b8bb2e0]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[d12c5ebb-46ef-41e2-b222-62c26b8bb2e0]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[d12c5ebb-46ef-41e2-b222-62c26b8bb2e0]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[d12c5ebb-46ef-41e2-b222-62c26b8bb2e0]   [1m[36mFollow Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "follows" WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2 LIMIT $3[0m  [["follower_id", 1], ["followed_id", 2], ["LIMIT", 1]]
[d12c5ebb-46ef-41e2-b222-62c26b8bb2e0]   [1m[36mFollow Create (3.8ms)[0m  [1m[32mINSERT INTO "follows" ("follower_id", "followed_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["follower_id", 1], ["followed_id", 2], ["created_at", "2025-09-22 09:21:07.604727"], ["updated_at", "2025-09-22 09:21:07.604727"]]
[d12c5ebb-46ef-41e2-b222-62c26b8bb2e0]   [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
[d12c5ebb-46ef-41e2-b222-62c26b8bb2e0] Completed 201 Created in 8ms (Views: 0.1ms | ActiveRecord: 5.1ms | Allocations: 1526)


[00ab3dc4-d69f-4790-ad3b-6ecbb2ce216f] Started POST "/api/v1/users/1/follows" for ::1 at 2025-09-22 16:21:07 +0700
[00ab3dc4-d69f-4790-ad3b-6ecbb2ce216f] Processing by Api::V1::FollowsController#create as */*
[00ab3dc4-d69f-4790-ad3b-6ecbb2ce216f]   Parameters: {"followed_id"=>2, "user_id"=>"1", "follow"=>{"followed_id"=>2}}
[00ab3dc4-d69f-4790-ad3b-6ecbb2ce216f]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[00ab3dc4-d69f-4790-ad3b-6ecbb2ce216f]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[00ab3dc4-d69f-4790-ad3b-6ecbb2ce216f]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[00ab3dc4-d69f-4790-ad3b-6ecbb2ce216f]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[00ab3dc4-d69f-4790-ad3b-6ecbb2ce216f]   [1m[36mFollow Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "follows" WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2 LIMIT $3[0m  [["follower_id", 1], ["followed_id", 2], ["LIMIT", 1]]
[00ab3dc4-d69f-4790-ad3b-6ecbb2ce216f]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
[00ab3dc4-d69f-4790-ad3b-6ecbb2ce216f] Completed 422 Unprocessable Content in 5ms (ActiveRecord: 1.2ms | Allocations: 1708)


[00ab3dc4-d69f-4790-ad3b-6ecbb2ce216f]   
[00ab3dc4-d69f-4790-ad3b-6ecbb2ce216f] ActiveRecord::RecordInvalid (Validation failed: Follower has already been taken):
[00ab3dc4-d69f-4790-ad3b-6ecbb2ce216f]   
[00ab3dc4-d69f-4790-ad3b-6ecbb2ce216f] app/controllers/api/v1/follows_controller.rb:7:in `create'
[c824c971-7113-4ef0-b4e9-c9450bcedbc0] Started POST "/api/v1/users/1/follows" for ::1 at 2025-09-22 16:21:07 +0700
[c824c971-7113-4ef0-b4e9-c9450bcedbc0] Processing by Api::V1::FollowsController#create as */*
[c824c971-7113-4ef0-b4e9-c9450bcedbc0]   Parameters: {"followed_id"=>1, "user_id"=>"1", "follow"=>{"followed_id"=>1}}
[c824c971-7113-4ef0-b4e9-c9450bcedbc0]   [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[c824c971-7113-4ef0-b4e9-c9450bcedbc0]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[c824c971-7113-4ef0-b4e9-c9450bcedbc0]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[c824c971-7113-4ef0-b4e9-c9450bcedbc0]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[c824c971-7113-4ef0-b4e9-c9450bcedbc0]   [1m[36mFollow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "follows" WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2 LIMIT $3[0m  [["follower_id", 1], ["followed_id", 1], ["LIMIT", 1]]
[c824c971-7113-4ef0-b4e9-c9450bcedbc0]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
[c824c971-7113-4ef0-b4e9-c9450bcedbc0] Completed 422 Unprocessable Content in 4ms (ActiveRecord: 1.1ms | Allocations: 1236)


[c824c971-7113-4ef0-b4e9-c9450bcedbc0]   
[c824c971-7113-4ef0-b4e9-c9450bcedbc0] ActiveRecord::RecordInvalid (Validation failed: cannot follow self):
[c824c971-7113-4ef0-b4e9-c9450bcedbc0]   
[c824c971-7113-4ef0-b4e9-c9450bcedbc0] app/controllers/api/v1/follows_controller.rb:7:in `create'
[7b11a79c-a55f-48b5-af43-106e54c73481] Started DELETE "/api/v1/users/1/follows/2" for ::1 at 2025-09-22 16:21:07 +0700
[7b11a79c-a55f-48b5-af43-106e54c73481] Processing by Api::V1::FollowsController#destroy as */*
[7b11a79c-a55f-48b5-af43-106e54c73481]   Parameters: {"user_id"=>"1", "followed_id"=>"2"}
[7b11a79c-a55f-48b5-af43-106e54c73481]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[7b11a79c-a55f-48b5-af43-106e54c73481]   [1m[36mFollow Load (0.3ms)[0m  [1m[34mSELECT "follows".* FROM "follows" WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2 LIMIT $3[0m  [["follower_id", 1], ["followed_id", 2], ["LIMIT", 1]]
[7b11a79c-a55f-48b5-af43-106e54c73481]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[7b11a79c-a55f-48b5-af43-106e54c73481]   [1m[36mFollow Destroy (0.4ms)[0m  [1m[31mDELETE FROM "follows" WHERE "follows"."id" = $1[0m  [["id", 1]]
[7b11a79c-a55f-48b5-af43-106e54c73481]   [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
[7b11a79c-a55f-48b5-af43-106e54c73481] Completed 204 No Content in 3ms (ActiveRecord: 1.2ms | Allocations: 832)


[b41bd05a-b48d-475e-b15b-92b466d27e33] Started GET "/api/v1/users/1/feed" for ::1 at 2025-09-22 16:21:07 +0700
[b41bd05a-b48d-475e-b15b-92b466d27e33] Processing by Api::V1::FeedsController#index as */*
[b41bd05a-b48d-475e-b15b-92b466d27e33]   Parameters: {"user_id"=>"1"}
[b41bd05a-b48d-475e-b15b-92b466d27e33]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[b41bd05a-b48d-475e-b15b-92b466d27e33]   [1m[36mSleepSession Load (1.2ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."woke_at" IS NOT NULL AND "sleep_sessions"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "follows" ON "users"."id" = "follows"."followed_id" WHERE "follows"."follower_id" = $1) AND "sleep_sessions"."woke_at" BETWEEN $2 AND $3 ORDER BY "sleep_sessions"."duration_sec" DESC, "sleep_sessions"."woke_at" DESC, "sleep_sessions"."id" DESC[0m  [["follower_id", 1], ["woke_at", "2025-09-15 00:00:00"], ["woke_at", "2025-09-22 23:59:59.999999"]]
[b41bd05a-b48d-475e-b15b-92b466d27e33] Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 1.4ms | Allocations: 1100)


[8bd209d0-12bc-4006-bf31-d7125f7664ce] Started GET "/api/v1/users/99/feed" for ::1 at 2025-09-22 16:21:07 +0700
[8bd209d0-12bc-4006-bf31-d7125f7664ce] Processing by Api::V1::FeedsController#index as */*
[8bd209d0-12bc-4006-bf31-d7125f7664ce]   Parameters: {"user_id"=>"99"}
[8bd209d0-12bc-4006-bf31-d7125f7664ce]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 99], ["LIMIT", 1]]
[8bd209d0-12bc-4006-bf31-d7125f7664ce] Completed 404 Not Found in 1ms (ActiveRecord: 0.2ms | Allocations: 209)


[8bd209d0-12bc-4006-bf31-d7125f7664ce]   
[8bd209d0-12bc-4006-bf31-d7125f7664ce] ActiveRecord::RecordNotFound (Couldn't find User with 'id'="99"):
[8bd209d0-12bc-4006-bf31-d7125f7664ce]   
[8bd209d0-12bc-4006-bf31-d7125f7664ce] app/controllers/api/v1/feeds_controller.rb:20:in `set_user'
[3fbbb764-f08c-4e82-8bfb-4267379146cc] Started POST "/api/v1/users/1/sleep_sessions/clock_in" for ::1 at 2025-09-22 16:25:10 +0700
[3fbbb764-f08c-4e82-8bfb-4267379146cc] Processing by Api::V1::SleepSessionsController#clock_in as */*
[3fbbb764-f08c-4e82-8bfb-4267379146cc]   Parameters: {"user_id"=>"1"}
[3fbbb764-f08c-4e82-8bfb-4267379146cc]   [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[3fbbb764-f08c-4e82-8bfb-4267379146cc]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
[3fbbb764-f08c-4e82-8bfb-4267379146cc]   [1m[36mUser Load (1.5ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[3fbbb764-f08c-4e82-8bfb-4267379146cc]   [1m[36mSleepSession Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[3fbbb764-f08c-4e82-8bfb-4267379146cc]   [1m[36mSleepSession Create (0.8ms)[0m  [1m[32mINSERT INTO "sleep_sessions" ("user_id", "slept_at", "woke_at", "duration_sec", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 1], ["slept_at", "2025-09-22 09:25:10.027912"], ["woke_at", nil], ["duration_sec", nil], ["created_at", "2025-09-22 09:25:10.028685"], ["updated_at", "2025-09-22 09:25:10.028685"]]
[3fbbb764-f08c-4e82-8bfb-4267379146cc]   [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
[3fbbb764-f08c-4e82-8bfb-4267379146cc] Completed 201 Created in 11ms (Views: 0.2ms | ActiveRecord: 4.8ms | Allocations: 1320)


[6666698a-c5c1-4ea3-ae66-85a2ef54d350] Started POST "/api/v1/users/1/sleep_sessions/clock_in" for ::1 at 2025-09-22 16:25:10 +0700
[6666698a-c5c1-4ea3-ae66-85a2ef54d350] Processing by Api::V1::SleepSessionsController#clock_in as */*
[6666698a-c5c1-4ea3-ae66-85a2ef54d350]   Parameters: {"user_id"=>"1"}
[6666698a-c5c1-4ea3-ae66-85a2ef54d350]   [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[6666698a-c5c1-4ea3-ae66-85a2ef54d350]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[6666698a-c5c1-4ea3-ae66-85a2ef54d350]   [1m[36mUser Load (1.3ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[6666698a-c5c1-4ea3-ae66-85a2ef54d350]   [1m[36mSleepSession Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[6666698a-c5c1-4ea3-ae66-85a2ef54d350]   [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
[6666698a-c5c1-4ea3-ae66-85a2ef54d350] Completed 422 Unprocessable Content in 11ms (Views: 0.5ms | ActiveRecord: 3.7ms | Allocations: 880)


[e210f3ba-e12f-4f09-8e8f-396a36e76e63] Started POST "/api/v1/users/1/sleep_sessions/clock_out" for ::1 at 2025-09-22 16:25:10 +0700
[e210f3ba-e12f-4f09-8e8f-396a36e76e63] Processing by Api::V1::SleepSessionsController#clock_out as */*
[e210f3ba-e12f-4f09-8e8f-396a36e76e63]   Parameters: {"user_id"=>"1"}
[e210f3ba-e12f-4f09-8e8f-396a36e76e63]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[e210f3ba-e12f-4f09-8e8f-396a36e76e63]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
[e210f3ba-e12f-4f09-8e8f-396a36e76e63]   [1m[36mUser Load (0.6ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[e210f3ba-e12f-4f09-8e8f-396a36e76e63]   [1m[36mSleepSession Load (0.1ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL ORDER BY "sleep_sessions"."slept_at" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[e210f3ba-e12f-4f09-8e8f-396a36e76e63]   [1m[36mSleepSession Update (1.0ms)[0m  [1m[33mUPDATE "sleep_sessions" SET "woke_at" = $1, "duration_sec" = $2, "updated_at" = $3 WHERE "sleep_sessions"."id" = $4[0m  [["woke_at", "2025-09-22 09:25:10.098959"], ["duration_sec", 0], ["updated_at", "2025-09-22 09:25:10.099115"], ["id", 4]]
[e210f3ba-e12f-4f09-8e8f-396a36e76e63]   [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
[e210f3ba-e12f-4f09-8e8f-396a36e76e63] Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 2.5ms | Allocations: 1299)


[e74df4e6-5042-4b16-8fdd-a9e5f783c2dd] Started POST "/api/v1/users/1/sleep_sessions/clock_out" for ::1 at 2025-09-22 16:25:10 +0700
[e74df4e6-5042-4b16-8fdd-a9e5f783c2dd] Processing by Api::V1::SleepSessionsController#clock_out as */*
[e74df4e6-5042-4b16-8fdd-a9e5f783c2dd]   Parameters: {"user_id"=>"1"}
[e74df4e6-5042-4b16-8fdd-a9e5f783c2dd]   [1m[36mUser Load (3.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[e74df4e6-5042-4b16-8fdd-a9e5f783c2dd]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[e74df4e6-5042-4b16-8fdd-a9e5f783c2dd]   [1m[36mUser Load (0.5ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[e74df4e6-5042-4b16-8fdd-a9e5f783c2dd]   [1m[36mSleepSession Load (0.1ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL ORDER BY "sleep_sessions"."slept_at" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[e74df4e6-5042-4b16-8fdd-a9e5f783c2dd]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
[e74df4e6-5042-4b16-8fdd-a9e5f783c2dd] Completed 422 Unprocessable Content in 15ms (Views: 0.1ms | ActiveRecord: 4.8ms | Allocations: 914)


[b77c0188-5981-4406-b9c3-a5ff90d8b47a] Started GET "/api/v1/users/1/sleep_sessions" for ::1 at 2025-09-22 16:25:10 +0700
[b77c0188-5981-4406-b9c3-a5ff90d8b47a] Processing by Api::V1::SleepSessionsController#index as */*
[b77c0188-5981-4406-b9c3-a5ff90d8b47a]   Parameters: {"user_id"=>"1"}
[b77c0188-5981-4406-b9c3-a5ff90d8b47a]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[b77c0188-5981-4406-b9c3-a5ff90d8b47a]   [1m[36mSleepSession Load (0.5ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 ORDER BY "sleep_sessions"."created_at" ASC[0m  [["user_id", 1]]
[b77c0188-5981-4406-b9c3-a5ff90d8b47a] Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 674)


[19426d1e-3f2a-472d-b25f-a75654bda6a8] Started POST "/api/v1/users/1/follows" for ::1 at 2025-09-22 16:25:10 +0700
[19426d1e-3f2a-472d-b25f-a75654bda6a8] Processing by Api::V1::FollowsController#create as */*
[19426d1e-3f2a-472d-b25f-a75654bda6a8]   Parameters: {"followed_id"=>2, "user_id"=>"1", "follow"=>{"followed_id"=>2}}
[19426d1e-3f2a-472d-b25f-a75654bda6a8]   [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[19426d1e-3f2a-472d-b25f-a75654bda6a8]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[19426d1e-3f2a-472d-b25f-a75654bda6a8]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[19426d1e-3f2a-472d-b25f-a75654bda6a8]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[19426d1e-3f2a-472d-b25f-a75654bda6a8]   [1m[36mFollow Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "follows" WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2 LIMIT $3[0m  [["follower_id", 1], ["followed_id", 2], ["LIMIT", 1]]
[19426d1e-3f2a-472d-b25f-a75654bda6a8]   [1m[36mFollow Create (0.6ms)[0m  [1m[32mINSERT INTO "follows" ("follower_id", "followed_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["follower_id", 1], ["followed_id", 2], ["created_at", "2025-09-22 09:25:10.197162"], ["updated_at", "2025-09-22 09:25:10.197162"]]
[19426d1e-3f2a-472d-b25f-a75654bda6a8]   [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
[19426d1e-3f2a-472d-b25f-a75654bda6a8] Completed 201 Created in 5ms (Views: 0.1ms | ActiveRecord: 2.3ms | Allocations: 1397)


[a51ca572-0449-4c98-b339-8a5de257a133] Started POST "/api/v1/users/1/follows" for ::1 at 2025-09-22 16:25:10 +0700
[a51ca572-0449-4c98-b339-8a5de257a133] Processing by Api::V1::FollowsController#create as */*
[a51ca572-0449-4c98-b339-8a5de257a133]   Parameters: {"followed_id"=>2, "user_id"=>"1", "follow"=>{"followed_id"=>2}}
[a51ca572-0449-4c98-b339-8a5de257a133]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[a51ca572-0449-4c98-b339-8a5de257a133]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[a51ca572-0449-4c98-b339-8a5de257a133]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[a51ca572-0449-4c98-b339-8a5de257a133]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[a51ca572-0449-4c98-b339-8a5de257a133]   [1m[36mFollow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "follows" WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2 LIMIT $3[0m  [["follower_id", 1], ["followed_id", 2], ["LIMIT", 1]]
[a51ca572-0449-4c98-b339-8a5de257a133]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
[a51ca572-0449-4c98-b339-8a5de257a133] Completed 422 Unprocessable Content in 4ms (ActiveRecord: 1.2ms | Allocations: 1547)


[a51ca572-0449-4c98-b339-8a5de257a133]   
[a51ca572-0449-4c98-b339-8a5de257a133] ActiveRecord::RecordInvalid (Validation failed: Follower has already been taken):
[a51ca572-0449-4c98-b339-8a5de257a133]   
[a51ca572-0449-4c98-b339-8a5de257a133] app/controllers/api/v1/follows_controller.rb:7:in `create'
[ade24312-568b-4278-b88a-1b82ed5cf33e] Started POST "/api/v1/users/1/follows" for ::1 at 2025-09-22 16:25:10 +0700
[ade24312-568b-4278-b88a-1b82ed5cf33e] Processing by Api::V1::FollowsController#create as */*
[ade24312-568b-4278-b88a-1b82ed5cf33e]   Parameters: {"followed_id"=>1, "user_id"=>"1", "follow"=>{"followed_id"=>1}}
[ade24312-568b-4278-b88a-1b82ed5cf33e]   [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ade24312-568b-4278-b88a-1b82ed5cf33e]   [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ade24312-568b-4278-b88a-1b82ed5cf33e]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ade24312-568b-4278-b88a-1b82ed5cf33e]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[ade24312-568b-4278-b88a-1b82ed5cf33e]   [1m[36mFollow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "follows" WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2 LIMIT $3[0m  [["follower_id", 1], ["followed_id", 1], ["LIMIT", 1]]
[ade24312-568b-4278-b88a-1b82ed5cf33e]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
[ade24312-568b-4278-b88a-1b82ed5cf33e] Completed 422 Unprocessable Content in 6ms (ActiveRecord: 1.3ms | Allocations: 1236)


[ade24312-568b-4278-b88a-1b82ed5cf33e]   
[ade24312-568b-4278-b88a-1b82ed5cf33e] ActiveRecord::RecordInvalid (Validation failed: cannot follow self):
[ade24312-568b-4278-b88a-1b82ed5cf33e]   
[ade24312-568b-4278-b88a-1b82ed5cf33e] app/controllers/api/v1/follows_controller.rb:7:in `create'
[7b9951c6-e48d-47e4-b017-4ff8d26f4864] Started DELETE "/api/v1/users/1/follows/2" for ::1 at 2025-09-22 16:25:10 +0700
[7b9951c6-e48d-47e4-b017-4ff8d26f4864] Processing by Api::V1::FollowsController#destroy as */*
[7b9951c6-e48d-47e4-b017-4ff8d26f4864]   Parameters: {"user_id"=>"1", "followed_id"=>"2"}
[7b9951c6-e48d-47e4-b017-4ff8d26f4864]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[7b9951c6-e48d-47e4-b017-4ff8d26f4864]   [1m[36mFollow Load (0.3ms)[0m  [1m[34mSELECT "follows".* FROM "follows" WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2 LIMIT $3[0m  [["follower_id", 1], ["followed_id", 2], ["LIMIT", 1]]
[7b9951c6-e48d-47e4-b017-4ff8d26f4864]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[7b9951c6-e48d-47e4-b017-4ff8d26f4864]   [1m[36mFollow Destroy (0.4ms)[0m  [1m[31mDELETE FROM "follows" WHERE "follows"."id" = $1[0m  [["id", 2]]
[7b9951c6-e48d-47e4-b017-4ff8d26f4864]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
[7b9951c6-e48d-47e4-b017-4ff8d26f4864] Completed 204 No Content in 3ms (ActiveRecord: 1.2ms | Allocations: 738)


[194b5cf6-cb27-4cf3-840b-ec4341443260] Started POST "/api/v1/users/1/sleep_sessions/clock_in" for ::1 at 2025-09-22 16:25:24 +0700
[194b5cf6-cb27-4cf3-840b-ec4341443260] Processing by Api::V1::SleepSessionsController#clock_in as */*
[194b5cf6-cb27-4cf3-840b-ec4341443260]   Parameters: {"user_id"=>"1"}
[194b5cf6-cb27-4cf3-840b-ec4341443260]   [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[194b5cf6-cb27-4cf3-840b-ec4341443260]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
[194b5cf6-cb27-4cf3-840b-ec4341443260]   [1m[36mUser Load (0.8ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[194b5cf6-cb27-4cf3-840b-ec4341443260]   [1m[36mSleepSession Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[194b5cf6-cb27-4cf3-840b-ec4341443260]   [1m[36mSleepSession Create (0.6ms)[0m  [1m[32mINSERT INTO "sleep_sessions" ("user_id", "slept_at", "woke_at", "duration_sec", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 1], ["slept_at", "2025-09-22 09:25:24.979615"], ["woke_at", nil], ["duration_sec", nil], ["created_at", "2025-09-22 09:25:24.980030"], ["updated_at", "2025-09-22 09:25:24.980030"]]
[194b5cf6-cb27-4cf3-840b-ec4341443260]   [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
[194b5cf6-cb27-4cf3-840b-ec4341443260] Completed 201 Created in 6ms (Views: 0.1ms | ActiveRecord: 2.8ms | Allocations: 1320)


[32d86827-7ef9-4bf4-be55-e81aeb12c412] Started POST "/api/v1/users/1/sleep_sessions/clock_in" for ::1 at 2025-09-22 16:25:24 +0700
[32d86827-7ef9-4bf4-be55-e81aeb12c412] Processing by Api::V1::SleepSessionsController#clock_in as */*
[32d86827-7ef9-4bf4-be55-e81aeb12c412]   Parameters: {"user_id"=>"1"}
[32d86827-7ef9-4bf4-be55-e81aeb12c412]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[32d86827-7ef9-4bf4-be55-e81aeb12c412]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[32d86827-7ef9-4bf4-be55-e81aeb12c412]   [1m[36mUser Load (0.4ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[32d86827-7ef9-4bf4-be55-e81aeb12c412]   [1m[36mSleepSession Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[32d86827-7ef9-4bf4-be55-e81aeb12c412]   [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
[32d86827-7ef9-4bf4-be55-e81aeb12c412] Completed 422 Unprocessable Content in 3ms (Views: 0.1ms | ActiveRecord: 1.2ms | Allocations: 880)


[29dd43cc-4e80-48ea-8ec5-29200ed76240] Started POST "/api/v1/users/1/sleep_sessions/clock_out" for ::1 at 2025-09-22 16:25:25 +0700
[29dd43cc-4e80-48ea-8ec5-29200ed76240] Processing by Api::V1::SleepSessionsController#clock_out as */*
[29dd43cc-4e80-48ea-8ec5-29200ed76240]   Parameters: {"user_id"=>"1"}
[29dd43cc-4e80-48ea-8ec5-29200ed76240]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[29dd43cc-4e80-48ea-8ec5-29200ed76240]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[29dd43cc-4e80-48ea-8ec5-29200ed76240]   [1m[36mUser Load (0.5ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[29dd43cc-4e80-48ea-8ec5-29200ed76240]   [1m[36mSleepSession Load (0.1ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL ORDER BY "sleep_sessions"."slept_at" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[29dd43cc-4e80-48ea-8ec5-29200ed76240]   [1m[36mSleepSession Update (0.4ms)[0m  [1m[33mUPDATE "sleep_sessions" SET "woke_at" = $1, "duration_sec" = $2, "updated_at" = $3 WHERE "sleep_sessions"."id" = $4[0m  [["woke_at", "2025-09-22 09:25:25.014114"], ["duration_sec", 0], ["updated_at", "2025-09-22 09:25:25.014271"], ["id", 5]]
[29dd43cc-4e80-48ea-8ec5-29200ed76240]   [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
[29dd43cc-4e80-48ea-8ec5-29200ed76240] Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 1.6ms | Allocations: 1299)


[eded63d7-2e93-451f-8321-a15b294f7c6b] Started POST "/api/v1/users/1/sleep_sessions/clock_out" for ::1 at 2025-09-22 16:25:25 +0700
[eded63d7-2e93-451f-8321-a15b294f7c6b] Processing by Api::V1::SleepSessionsController#clock_out as */*
[eded63d7-2e93-451f-8321-a15b294f7c6b]   Parameters: {"user_id"=>"1"}
[eded63d7-2e93-451f-8321-a15b294f7c6b]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[eded63d7-2e93-451f-8321-a15b294f7c6b]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[eded63d7-2e93-451f-8321-a15b294f7c6b]   [1m[36mUser Load (0.6ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[eded63d7-2e93-451f-8321-a15b294f7c6b]   [1m[36mSleepSession Load (0.1ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL ORDER BY "sleep_sessions"."slept_at" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[eded63d7-2e93-451f-8321-a15b294f7c6b]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
[eded63d7-2e93-451f-8321-a15b294f7c6b] Completed 422 Unprocessable Content in 2ms (Views: 0.1ms | ActiveRecord: 1.0ms | Allocations: 916)


[1dcbe50f-1784-45b2-9190-083a77e600b0] Started GET "/api/v1/users/1/sleep_sessions" for ::1 at 2025-09-22 16:25:25 +0700
[1dcbe50f-1784-45b2-9190-083a77e600b0] Processing by Api::V1::SleepSessionsController#index as */*
[1dcbe50f-1784-45b2-9190-083a77e600b0]   Parameters: {"user_id"=>"1"}
[1dcbe50f-1784-45b2-9190-083a77e600b0]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[1dcbe50f-1784-45b2-9190-083a77e600b0]   [1m[36mSleepSession Load (0.2ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 ORDER BY "sleep_sessions"."created_at" ASC[0m  [["user_id", 1]]
[1dcbe50f-1784-45b2-9190-083a77e600b0] Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 718)


[af7a03cb-6ce5-4830-8734-7ee45fcdf07d] Started POST "/api/v1/users/1/follows" for ::1 at 2025-09-22 16:25:25 +0700
[af7a03cb-6ce5-4830-8734-7ee45fcdf07d] Processing by Api::V1::FollowsController#create as */*
[af7a03cb-6ce5-4830-8734-7ee45fcdf07d]   Parameters: {"followed_id"=>2, "user_id"=>"1", "follow"=>{"followed_id"=>2}}
[af7a03cb-6ce5-4830-8734-7ee45fcdf07d]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[af7a03cb-6ce5-4830-8734-7ee45fcdf07d]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[af7a03cb-6ce5-4830-8734-7ee45fcdf07d]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[af7a03cb-6ce5-4830-8734-7ee45fcdf07d]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[af7a03cb-6ce5-4830-8734-7ee45fcdf07d]   [1m[36mFollow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "follows" WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2 LIMIT $3[0m  [["follower_id", 1], ["followed_id", 2], ["LIMIT", 1]]
[af7a03cb-6ce5-4830-8734-7ee45fcdf07d]   [1m[36mFollow Create (0.4ms)[0m  [1m[32mINSERT INTO "follows" ("follower_id", "followed_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["follower_id", 1], ["followed_id", 2], ["created_at", "2025-09-22 09:25:25.060803"], ["updated_at", "2025-09-22 09:25:25.060803"]]
[af7a03cb-6ce5-4830-8734-7ee45fcdf07d]   [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
[af7a03cb-6ce5-4830-8734-7ee45fcdf07d] Completed 201 Created in 4ms (Views: 0.1ms | ActiveRecord: 1.7ms | Allocations: 1396)


[99a11277-fc48-428c-bef9-c12d3a6f468c] Started DELETE "/api/v1/users/1/follows/2" for ::1 at 2025-09-22 16:25:25 +0700
[99a11277-fc48-428c-bef9-c12d3a6f468c] Processing by Api::V1::FollowsController#destroy as */*
[99a11277-fc48-428c-bef9-c12d3a6f468c]   Parameters: {"user_id"=>"1", "followed_id"=>"2"}
[99a11277-fc48-428c-bef9-c12d3a6f468c]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[99a11277-fc48-428c-bef9-c12d3a6f468c]   [1m[36mFollow Load (0.3ms)[0m  [1m[34mSELECT "follows".* FROM "follows" WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2 LIMIT $3[0m  [["follower_id", 1], ["followed_id", 2], ["LIMIT", 1]]
[99a11277-fc48-428c-bef9-c12d3a6f468c]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[99a11277-fc48-428c-bef9-c12d3a6f468c]   [1m[36mFollow Destroy (0.5ms)[0m  [1m[31mDELETE FROM "follows" WHERE "follows"."id" = $1[0m  [["id", 3]]
[99a11277-fc48-428c-bef9-c12d3a6f468c]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
[99a11277-fc48-428c-bef9-c12d3a6f468c] Completed 204 No Content in 2ms (ActiveRecord: 1.4ms | Allocations: 738)


[5d7bb5c3-42cf-4484-9313-8d4e424bce36] Started GET "/api/v1/users/1/feed" for ::1 at 2025-09-22 16:25:25 +0700
[5d7bb5c3-42cf-4484-9313-8d4e424bce36] Processing by Api::V1::FeedsController#index as */*
[5d7bb5c3-42cf-4484-9313-8d4e424bce36]   Parameters: {"user_id"=>"1"}
[5d7bb5c3-42cf-4484-9313-8d4e424bce36]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[5d7bb5c3-42cf-4484-9313-8d4e424bce36]   [1m[36mSleepSession Load (1.1ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."woke_at" IS NOT NULL AND "sleep_sessions"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "follows" ON "users"."id" = "follows"."followed_id" WHERE "follows"."follower_id" = $1) AND "sleep_sessions"."woke_at" BETWEEN $2 AND $3 ORDER BY "sleep_sessions"."duration_sec" DESC, "sleep_sessions"."woke_at" DESC, "sleep_sessions"."id" DESC[0m  [["follower_id", 1], ["woke_at", "2025-09-15 00:00:00"], ["woke_at", "2025-09-22 23:59:59.999999"]]
[5d7bb5c3-42cf-4484-9313-8d4e424bce36] Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 1.3ms | Allocations: 1101)


[f2790c56-dd8c-40ad-ad45-f92924f9de38] Started GET "/api/v1/users/99/feed" for ::1 at 2025-09-22 16:25:25 +0700
[f2790c56-dd8c-40ad-ad45-f92924f9de38] Processing by Api::V1::FeedsController#index as */*
[f2790c56-dd8c-40ad-ad45-f92924f9de38]   Parameters: {"user_id"=>"99"}
[f2790c56-dd8c-40ad-ad45-f92924f9de38]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 99], ["LIMIT", 1]]
[f2790c56-dd8c-40ad-ad45-f92924f9de38] Completed 404 Not Found in 1ms (ActiveRecord: 0.2ms | Allocations: 209)


[f2790c56-dd8c-40ad-ad45-f92924f9de38]   
[f2790c56-dd8c-40ad-ad45-f92924f9de38] ActiveRecord::RecordNotFound (Couldn't find User with 'id'="99"):
[f2790c56-dd8c-40ad-ad45-f92924f9de38]   
[f2790c56-dd8c-40ad-ad45-f92924f9de38] app/controllers/api/v1/feeds_controller.rb:20:in `set_user'
[fb1fb5cf-7f73-4f7c-a127-d39c8eb45ca1] Started POST "/api/v1/users/1/sleep_sessions/clock_in" for ::1 at 2025-09-22 16:26:00 +0700
[fb1fb5cf-7f73-4f7c-a127-d39c8eb45ca1] Processing by Api::V1::SleepSessionsController#clock_in as */*
[fb1fb5cf-7f73-4f7c-a127-d39c8eb45ca1]   Parameters: {"user_id"=>"1"}
[fb1fb5cf-7f73-4f7c-a127-d39c8eb45ca1]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[fb1fb5cf-7f73-4f7c-a127-d39c8eb45ca1]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[fb1fb5cf-7f73-4f7c-a127-d39c8eb45ca1]   [1m[36mUser Load (0.7ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[fb1fb5cf-7f73-4f7c-a127-d39c8eb45ca1]   [1m[36mSleepSession Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[fb1fb5cf-7f73-4f7c-a127-d39c8eb45ca1]   [1m[36mSleepSession Create (0.5ms)[0m  [1m[32mINSERT INTO "sleep_sessions" ("user_id", "slept_at", "woke_at", "duration_sec", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 1], ["slept_at", "2025-09-22 09:26:00.135709"], ["woke_at", nil], ["duration_sec", nil], ["created_at", "2025-09-22 09:26:00.136551"], ["updated_at", "2025-09-22 09:26:00.136551"]]
[fb1fb5cf-7f73-4f7c-a127-d39c8eb45ca1]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
[fb1fb5cf-7f73-4f7c-a127-d39c8eb45ca1] Completed 201 Created in 6ms (Views: 0.4ms | ActiveRecord: 2.1ms | Allocations: 1320)


[e4ed539d-361a-4cf5-906c-cbe2aa4ad477] Started POST "/api/v1/users/1/sleep_sessions/clock_in" for ::1 at 2025-09-22 16:26:00 +0700
[e4ed539d-361a-4cf5-906c-cbe2aa4ad477] Processing by Api::V1::SleepSessionsController#clock_in as */*
[e4ed539d-361a-4cf5-906c-cbe2aa4ad477]   Parameters: {"user_id"=>"1"}
[e4ed539d-361a-4cf5-906c-cbe2aa4ad477]   [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[e4ed539d-361a-4cf5-906c-cbe2aa4ad477]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[e4ed539d-361a-4cf5-906c-cbe2aa4ad477]   [1m[36mUser Load (0.4ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[e4ed539d-361a-4cf5-906c-cbe2aa4ad477]   [1m[36mSleepSession Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[e4ed539d-361a-4cf5-906c-cbe2aa4ad477]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
[e4ed539d-361a-4cf5-906c-cbe2aa4ad477] Completed 422 Unprocessable Content in 4ms (Views: 0.1ms | ActiveRecord: 1.3ms | Allocations: 880)


[fb4b15c8-0d7b-4658-bedf-3bdeec8cb95c] Started POST "/api/v1/users/1/sleep_sessions/clock_out" for ::1 at 2025-09-22 16:26:00 +0700
[fb4b15c8-0d7b-4658-bedf-3bdeec8cb95c] Processing by Api::V1::SleepSessionsController#clock_out as */*
[fb4b15c8-0d7b-4658-bedf-3bdeec8cb95c]   Parameters: {"user_id"=>"1"}
[fb4b15c8-0d7b-4658-bedf-3bdeec8cb95c]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[fb4b15c8-0d7b-4658-bedf-3bdeec8cb95c]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[fb4b15c8-0d7b-4658-bedf-3bdeec8cb95c]   [1m[36mUser Load (0.6ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[fb4b15c8-0d7b-4658-bedf-3bdeec8cb95c]   [1m[36mSleepSession Load (0.1ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL ORDER BY "sleep_sessions"."slept_at" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[fb4b15c8-0d7b-4658-bedf-3bdeec8cb95c]   [1m[36mSleepSession Update (0.5ms)[0m  [1m[33mUPDATE "sleep_sessions" SET "woke_at" = $1, "duration_sec" = $2, "updated_at" = $3 WHERE "sleep_sessions"."id" = $4[0m  [["woke_at", "2025-09-22 09:26:00.171277"], ["duration_sec", 0], ["updated_at", "2025-09-22 09:26:00.171464"], ["id", 6]]
[fb4b15c8-0d7b-4658-bedf-3bdeec8cb95c]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
[fb4b15c8-0d7b-4658-bedf-3bdeec8cb95c] Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 1.7ms | Allocations: 1299)


[c824d157-ffb7-4eaa-bff9-841b2d25e5af] Started POST "/api/v1/users/1/sleep_sessions/clock_out" for ::1 at 2025-09-22 16:26:00 +0700
[c824d157-ffb7-4eaa-bff9-841b2d25e5af] Processing by Api::V1::SleepSessionsController#clock_out as */*
[c824d157-ffb7-4eaa-bff9-841b2d25e5af]   Parameters: {"user_id"=>"1"}
[c824d157-ffb7-4eaa-bff9-841b2d25e5af]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[c824d157-ffb7-4eaa-bff9-841b2d25e5af]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[c824d157-ffb7-4eaa-bff9-841b2d25e5af]   [1m[36mUser Load (0.6ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[c824d157-ffb7-4eaa-bff9-841b2d25e5af]   [1m[36mSleepSession Load (0.2ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL ORDER BY "sleep_sessions"."slept_at" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[c824d157-ffb7-4eaa-bff9-841b2d25e5af]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
[c824d157-ffb7-4eaa-bff9-841b2d25e5af] Completed 422 Unprocessable Content in 3ms (Views: 0.1ms | ActiveRecord: 1.3ms | Allocations: 914)


[79699d07-f36d-4586-a815-a9bcce0c318e] Started GET "/api/v1/users/1/sleep_sessions" for ::1 at 2025-09-22 16:26:00 +0700
[79699d07-f36d-4586-a815-a9bcce0c318e] Processing by Api::V1::SleepSessionsController#index as */*
[79699d07-f36d-4586-a815-a9bcce0c318e]   Parameters: {"user_id"=>"1"}
[79699d07-f36d-4586-a815-a9bcce0c318e]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[79699d07-f36d-4586-a815-a9bcce0c318e]   [1m[36mSleepSession Load (0.4ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 ORDER BY "sleep_sessions"."created_at" ASC[0m  [["user_id", 1]]
[79699d07-f36d-4586-a815-a9bcce0c318e] Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 760)


[537c50cf-75b8-4297-9d81-6a41e5004813] Started POST "/api/v1/users/1/follows" for ::1 at 2025-09-22 16:26:00 +0700
[537c50cf-75b8-4297-9d81-6a41e5004813] Processing by Api::V1::FollowsController#create as */*
[537c50cf-75b8-4297-9d81-6a41e5004813]   Parameters: {"followed_id"=>2, "user_id"=>"1", "follow"=>{"followed_id"=>2}}
[537c50cf-75b8-4297-9d81-6a41e5004813]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[537c50cf-75b8-4297-9d81-6a41e5004813]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[537c50cf-75b8-4297-9d81-6a41e5004813]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[537c50cf-75b8-4297-9d81-6a41e5004813]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[537c50cf-75b8-4297-9d81-6a41e5004813]   [1m[36mFollow Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "follows" WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2 LIMIT $3[0m  [["follower_id", 1], ["followed_id", 2], ["LIMIT", 1]]
[537c50cf-75b8-4297-9d81-6a41e5004813]   [1m[36mFollow Create (0.8ms)[0m  [1m[32mINSERT INTO "follows" ("follower_id", "followed_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["follower_id", 1], ["followed_id", 2], ["created_at", "2025-09-22 09:26:00.218529"], ["updated_at", "2025-09-22 09:26:00.218529"]]
[537c50cf-75b8-4297-9d81-6a41e5004813]   [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
[537c50cf-75b8-4297-9d81-6a41e5004813] Completed 201 Created in 5ms (Views: 0.1ms | ActiveRecord: 2.9ms | Allocations: 1391)


[0d3de6e0-a828-4cc8-9a14-700c69966c4d] Started DELETE "/api/v1/users/1/follows/2" for ::1 at 2025-09-22 16:26:00 +0700
[0d3de6e0-a828-4cc8-9a14-700c69966c4d] Processing by Api::V1::FollowsController#destroy as */*
[0d3de6e0-a828-4cc8-9a14-700c69966c4d]   Parameters: {"user_id"=>"1", "followed_id"=>"2"}
[0d3de6e0-a828-4cc8-9a14-700c69966c4d]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[0d3de6e0-a828-4cc8-9a14-700c69966c4d]   [1m[36mFollow Load (0.4ms)[0m  [1m[34mSELECT "follows".* FROM "follows" WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2 LIMIT $3[0m  [["follower_id", 1], ["followed_id", 2], ["LIMIT", 1]]
[0d3de6e0-a828-4cc8-9a14-700c69966c4d]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[0d3de6e0-a828-4cc8-9a14-700c69966c4d]   [1m[36mFollow Destroy (0.5ms)[0m  [1m[31mDELETE FROM "follows" WHERE "follows"."id" = $1[0m  [["id", 4]]
[0d3de6e0-a828-4cc8-9a14-700c69966c4d]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
[0d3de6e0-a828-4cc8-9a14-700c69966c4d] Completed 204 No Content in 2ms (ActiveRecord: 1.4ms | Allocations: 738)


[973df3ee-8b0b-46d6-b502-bd03b0ff86fb] Started GET "/api/v1/users/1/feed" for ::1 at 2025-09-22 16:26:00 +0700
[973df3ee-8b0b-46d6-b502-bd03b0ff86fb] Processing by Api::V1::FeedsController#index as */*
[973df3ee-8b0b-46d6-b502-bd03b0ff86fb]   Parameters: {"user_id"=>"1"}
[973df3ee-8b0b-46d6-b502-bd03b0ff86fb]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[973df3ee-8b0b-46d6-b502-bd03b0ff86fb]   [1m[36mSleepSession Load (1.1ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."woke_at" IS NOT NULL AND "sleep_sessions"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "follows" ON "users"."id" = "follows"."followed_id" WHERE "follows"."follower_id" = $1) AND "sleep_sessions"."woke_at" BETWEEN $2 AND $3 ORDER BY "sleep_sessions"."duration_sec" DESC, "sleep_sessions"."woke_at" DESC, "sleep_sessions"."id" DESC[0m  [["follower_id", 1], ["woke_at", "2025-09-15 00:00:00"], ["woke_at", "2025-09-22 23:59:59.999999"]]
[973df3ee-8b0b-46d6-b502-bd03b0ff86fb] Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 1.3ms | Allocations: 1098)


[7fd736ab-a61f-4963-9fb3-8514bb99efb1] Started POST "/api/v1/users/1/sleep_sessions/clock_in" for ::1 at 2025-09-22 16:26:11 +0700
[7fd736ab-a61f-4963-9fb3-8514bb99efb1] Processing by Api::V1::SleepSessionsController#clock_in as */*
[7fd736ab-a61f-4963-9fb3-8514bb99efb1]   Parameters: {"user_id"=>"1"}
[7fd736ab-a61f-4963-9fb3-8514bb99efb1]   [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[7fd736ab-a61f-4963-9fb3-8514bb99efb1]   [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mBEGIN[0m
[7fd736ab-a61f-4963-9fb3-8514bb99efb1]   [1m[36mUser Load (2.2ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[7fd736ab-a61f-4963-9fb3-8514bb99efb1]   [1m[36mSleepSession Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[7fd736ab-a61f-4963-9fb3-8514bb99efb1]   [1m[36mSleepSession Create (1.1ms)[0m  [1m[32mINSERT INTO "sleep_sessions" ("user_id", "slept_at", "woke_at", "duration_sec", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 1], ["slept_at", "2025-09-22 09:26:11.954260"], ["woke_at", nil], ["duration_sec", nil], ["created_at", "2025-09-22 09:26:11.955507"], ["updated_at", "2025-09-22 09:26:11.955507"]]
[7fd736ab-a61f-4963-9fb3-8514bb99efb1]   [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
[7fd736ab-a61f-4963-9fb3-8514bb99efb1] Completed 201 Created in 25ms (Views: 0.3ms | ActiveRecord: 6.5ms | Allocations: 1314)


[6b255a7a-0856-48d5-b6b9-f6d5e9d1580c] Started POST "/api/v1/users/1/sleep_sessions/clock_in" for ::1 at 2025-09-22 16:26:11 +0700
[6b255a7a-0856-48d5-b6b9-f6d5e9d1580c] Processing by Api::V1::SleepSessionsController#clock_in as */*
[6b255a7a-0856-48d5-b6b9-f6d5e9d1580c]   Parameters: {"user_id"=>"1"}
[6b255a7a-0856-48d5-b6b9-f6d5e9d1580c]   [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[6b255a7a-0856-48d5-b6b9-f6d5e9d1580c]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
[6b255a7a-0856-48d5-b6b9-f6d5e9d1580c]   [1m[36mUser Load (1.0ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[6b255a7a-0856-48d5-b6b9-f6d5e9d1580c]   [1m[36mSleepSession Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[6b255a7a-0856-48d5-b6b9-f6d5e9d1580c]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
[6b255a7a-0856-48d5-b6b9-f6d5e9d1580c] Completed 422 Unprocessable Content in 4ms (Views: 0.1ms | ActiveRecord: 2.2ms | Allocations: 880)


[cce55e09-8388-4a1d-b7bc-22e3ecb77cff] Started POST "/api/v1/users/1/sleep_sessions/clock_out" for ::1 at 2025-09-22 16:26:11 +0700
[cce55e09-8388-4a1d-b7bc-22e3ecb77cff] Processing by Api::V1::SleepSessionsController#clock_out as */*
[cce55e09-8388-4a1d-b7bc-22e3ecb77cff]   Parameters: {"user_id"=>"1"}
[cce55e09-8388-4a1d-b7bc-22e3ecb77cff]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[cce55e09-8388-4a1d-b7bc-22e3ecb77cff]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[cce55e09-8388-4a1d-b7bc-22e3ecb77cff]   [1m[36mUser Load (0.4ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[cce55e09-8388-4a1d-b7bc-22e3ecb77cff]   [1m[36mSleepSession Load (0.1ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL ORDER BY "sleep_sessions"."slept_at" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[cce55e09-8388-4a1d-b7bc-22e3ecb77cff]   [1m[36mSleepSession Update (0.2ms)[0m  [1m[33mUPDATE "sleep_sessions" SET "woke_at" = $1, "duration_sec" = $2, "updated_at" = $3 WHERE "sleep_sessions"."id" = $4[0m  [["woke_at", "2025-09-22 09:26:11.999249"], ["duration_sec", 0], ["updated_at", "2025-09-22 09:26:11.999420"], ["id", 7]]
[cce55e09-8388-4a1d-b7bc-22e3ecb77cff]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
[cce55e09-8388-4a1d-b7bc-22e3ecb77cff] Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 1.2ms | Allocations: 1299)


[37807da9-448e-4619-b3f7-cb2031054882] Started POST "/api/v1/users/1/sleep_sessions/clock_out" for ::1 at 2025-09-22 16:26:12 +0700
[37807da9-448e-4619-b3f7-cb2031054882] Processing by Api::V1::SleepSessionsController#clock_out as */*
[37807da9-448e-4619-b3f7-cb2031054882]   Parameters: {"user_id"=>"1"}
[37807da9-448e-4619-b3f7-cb2031054882]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[37807da9-448e-4619-b3f7-cb2031054882]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[37807da9-448e-4619-b3f7-cb2031054882]   [1m[36mUser Load (0.4ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[37807da9-448e-4619-b3f7-cb2031054882]   [1m[36mSleepSession Load (0.1ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL ORDER BY "sleep_sessions"."slept_at" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[37807da9-448e-4619-b3f7-cb2031054882]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
[37807da9-448e-4619-b3f7-cb2031054882] Completed 422 Unprocessable Content in 2ms (Views: 0.1ms | ActiveRecord: 0.9ms | Allocations: 914)


[05fc49d2-2e8d-45da-b237-bba810269ae8] Started GET "/api/v1/users/1/sleep_sessions" for ::1 at 2025-09-22 16:26:12 +0700
[05fc49d2-2e8d-45da-b237-bba810269ae8] Processing by Api::V1::SleepSessionsController#index as */*
[05fc49d2-2e8d-45da-b237-bba810269ae8]   Parameters: {"user_id"=>"1"}
[05fc49d2-2e8d-45da-b237-bba810269ae8]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[05fc49d2-2e8d-45da-b237-bba810269ae8]   [1m[36mSleepSession Load (0.2ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 ORDER BY "sleep_sessions"."created_at" ASC[0m  [["user_id", 1]]
[05fc49d2-2e8d-45da-b237-bba810269ae8] Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 803)


[220a95a4-ad39-4ce4-92a8-d7d36353e291] Started POST "/api/v1/users/1/follows" for ::1 at 2025-09-22 16:26:12 +0700
[220a95a4-ad39-4ce4-92a8-d7d36353e291] Processing by Api::V1::FollowsController#create as */*
[220a95a4-ad39-4ce4-92a8-d7d36353e291]   Parameters: {"followed_id"=>2, "user_id"=>"1", "follow"=>{"followed_id"=>2}}
[220a95a4-ad39-4ce4-92a8-d7d36353e291]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[220a95a4-ad39-4ce4-92a8-d7d36353e291]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[220a95a4-ad39-4ce4-92a8-d7d36353e291]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[220a95a4-ad39-4ce4-92a8-d7d36353e291]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[220a95a4-ad39-4ce4-92a8-d7d36353e291]   [1m[36mFollow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "follows" WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2 LIMIT $3[0m  [["follower_id", 1], ["followed_id", 2], ["LIMIT", 1]]
[220a95a4-ad39-4ce4-92a8-d7d36353e291]   [1m[36mFollow Create (0.3ms)[0m  [1m[32mINSERT INTO "follows" ("follower_id", "followed_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["follower_id", 1], ["followed_id", 2], ["created_at", "2025-09-22 09:26:12.058663"], ["updated_at", "2025-09-22 09:26:12.058663"]]
[220a95a4-ad39-4ce4-92a8-d7d36353e291]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
[220a95a4-ad39-4ce4-92a8-d7d36353e291] Completed 201 Created in 4ms (Views: 0.1ms | ActiveRecord: 1.2ms | Allocations: 1389)


[76937a96-a0ac-45f5-8d3e-a396c033097b] Started POST "/api/v1/users/1/follows" for ::1 at 2025-09-22 16:26:12 +0700
[76937a96-a0ac-45f5-8d3e-a396c033097b] Processing by Api::V1::FollowsController#create as */*
[76937a96-a0ac-45f5-8d3e-a396c033097b]   Parameters: {"followed_id"=>2, "user_id"=>"1", "follow"=>{"followed_id"=>2}}
[76937a96-a0ac-45f5-8d3e-a396c033097b]   [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[76937a96-a0ac-45f5-8d3e-a396c033097b]   [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[76937a96-a0ac-45f5-8d3e-a396c033097b]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[76937a96-a0ac-45f5-8d3e-a396c033097b]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[76937a96-a0ac-45f5-8d3e-a396c033097b]   [1m[36mFollow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "follows" WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2 LIMIT $3[0m  [["follower_id", 1], ["followed_id", 2], ["LIMIT", 1]]
[76937a96-a0ac-45f5-8d3e-a396c033097b]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
[76937a96-a0ac-45f5-8d3e-a396c033097b] Completed 422 Unprocessable Content in 4ms (ActiveRecord: 1.7ms | Allocations: 1547)


[76937a96-a0ac-45f5-8d3e-a396c033097b]   
[76937a96-a0ac-45f5-8d3e-a396c033097b] ActiveRecord::RecordInvalid (Validation failed: Follower has already been taken):
[76937a96-a0ac-45f5-8d3e-a396c033097b]   
[76937a96-a0ac-45f5-8d3e-a396c033097b] app/controllers/api/v1/follows_controller.rb:7:in `create'
[82c655ee-c2de-45bb-9e10-857483a2df4d] Started DELETE "/api/v1/users/1/follows/2" for ::1 at 2025-09-22 16:26:12 +0700
[82c655ee-c2de-45bb-9e10-857483a2df4d] Processing by Api::V1::FollowsController#destroy as */*
[82c655ee-c2de-45bb-9e10-857483a2df4d]   Parameters: {"user_id"=>"1", "followed_id"=>"2"}
[82c655ee-c2de-45bb-9e10-857483a2df4d]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[82c655ee-c2de-45bb-9e10-857483a2df4d]   [1m[36mFollow Load (0.1ms)[0m  [1m[34mSELECT "follows".* FROM "follows" WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2 LIMIT $3[0m  [["follower_id", 1], ["followed_id", 2], ["LIMIT", 1]]
[82c655ee-c2de-45bb-9e10-857483a2df4d]   [1m[36mTRANSACTION (5.5ms)[0m  [1m[35mBEGIN[0m
[82c655ee-c2de-45bb-9e10-857483a2df4d]   [1m[36mFollow Destroy (6.2ms)[0m  [1m[31mDELETE FROM "follows" WHERE "follows"."id" = $1[0m  [["id", 5]]
[82c655ee-c2de-45bb-9e10-857483a2df4d]   [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
[82c655ee-c2de-45bb-9e10-857483a2df4d] Completed 204 No Content in 12ms (ActiveRecord: 12.3ms | Allocations: 738)


[93c7293e-5f4b-4d39-a2bc-aa4a62c9db48] Started GET "/api/v1/users/1/feed" for ::1 at 2025-09-22 16:26:12 +0700
[93c7293e-5f4b-4d39-a2bc-aa4a62c9db48] Processing by Api::V1::FeedsController#index as */*
[93c7293e-5f4b-4d39-a2bc-aa4a62c9db48]   Parameters: {"user_id"=>"1"}
[93c7293e-5f4b-4d39-a2bc-aa4a62c9db48]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[93c7293e-5f4b-4d39-a2bc-aa4a62c9db48]   [1m[36mSleepSession Load (0.8ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."woke_at" IS NOT NULL AND "sleep_sessions"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "follows" ON "users"."id" = "follows"."followed_id" WHERE "follows"."follower_id" = $1) AND "sleep_sessions"."woke_at" BETWEEN $2 AND $3 ORDER BY "sleep_sessions"."duration_sec" DESC, "sleep_sessions"."woke_at" DESC, "sleep_sessions"."id" DESC[0m  [["follower_id", 1], ["woke_at", "2025-09-15 00:00:00"], ["woke_at", "2025-09-22 23:59:59.999999"]]
[93c7293e-5f4b-4d39-a2bc-aa4a62c9db48] Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.9ms | Allocations: 1100)


[43af670a-6ad9-44a2-984d-9bdf0b0adf94] Started POST "/api/v1/users/1/sleep_sessions/clock_in" for ::1 at 2025-09-22 16:26:39 +0700
[43af670a-6ad9-44a2-984d-9bdf0b0adf94] Processing by Api::V1::SleepSessionsController#clock_in as */*
[43af670a-6ad9-44a2-984d-9bdf0b0adf94]   Parameters: {"user_id"=>"1"}
[43af670a-6ad9-44a2-984d-9bdf0b0adf94]   [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[43af670a-6ad9-44a2-984d-9bdf0b0adf94]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
[43af670a-6ad9-44a2-984d-9bdf0b0adf94]   [1m[36mUser Load (0.8ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[43af670a-6ad9-44a2-984d-9bdf0b0adf94]   [1m[36mSleepSession Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[43af670a-6ad9-44a2-984d-9bdf0b0adf94]   [1m[36mSleepSession Create (0.5ms)[0m  [1m[32mINSERT INTO "sleep_sessions" ("user_id", "slept_at", "woke_at", "duration_sec", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 1], ["slept_at", "2025-09-22 09:26:39.667212"], ["woke_at", nil], ["duration_sec", nil], ["created_at", "2025-09-22 09:26:39.667521"], ["updated_at", "2025-09-22 09:26:39.667521"]]
[43af670a-6ad9-44a2-984d-9bdf0b0adf94]   [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
[43af670a-6ad9-44a2-984d-9bdf0b0adf94] Completed 201 Created in 5ms (Views: 0.1ms | ActiveRecord: 2.9ms | Allocations: 1322)


[24a5ca39-f9f1-4862-803c-26c4258b6a25] Started POST "/api/v1/users/1/sleep_sessions/clock_in" for ::1 at 2025-09-22 16:26:39 +0700
[24a5ca39-f9f1-4862-803c-26c4258b6a25] Processing by Api::V1::SleepSessionsController#clock_in as */*
[24a5ca39-f9f1-4862-803c-26c4258b6a25]   Parameters: {"user_id"=>"1"}
[24a5ca39-f9f1-4862-803c-26c4258b6a25]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[24a5ca39-f9f1-4862-803c-26c4258b6a25]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[24a5ca39-f9f1-4862-803c-26c4258b6a25]   [1m[36mUser Load (0.5ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[24a5ca39-f9f1-4862-803c-26c4258b6a25]   [1m[36mSleepSession Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[24a5ca39-f9f1-4862-803c-26c4258b6a25]   [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
[24a5ca39-f9f1-4862-803c-26c4258b6a25] Completed 422 Unprocessable Content in 3ms (Views: 0.1ms | ActiveRecord: 1.4ms | Allocations: 881)


[feb9b5b6-b216-4703-a682-987f9a403c10] Started POST "/api/v1/users/1/sleep_sessions/clock_out" for ::1 at 2025-09-22 16:26:39 +0700
[feb9b5b6-b216-4703-a682-987f9a403c10] Processing by Api::V1::SleepSessionsController#clock_out as */*
[feb9b5b6-b216-4703-a682-987f9a403c10]   Parameters: {"user_id"=>"1"}
[feb9b5b6-b216-4703-a682-987f9a403c10]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[feb9b5b6-b216-4703-a682-987f9a403c10]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[feb9b5b6-b216-4703-a682-987f9a403c10]   [1m[36mUser Load (0.4ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[feb9b5b6-b216-4703-a682-987f9a403c10]   [1m[36mSleepSession Load (0.2ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL ORDER BY "sleep_sessions"."slept_at" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[feb9b5b6-b216-4703-a682-987f9a403c10]   [1m[36mSleepSession Update (0.4ms)[0m  [1m[33mUPDATE "sleep_sessions" SET "woke_at" = $1, "duration_sec" = $2, "updated_at" = $3 WHERE "sleep_sessions"."id" = $4[0m  [["woke_at", "2025-09-22 09:26:39.703395"], ["duration_sec", 0], ["updated_at", "2025-09-22 09:26:39.703547"], ["id", 8]]
[feb9b5b6-b216-4703-a682-987f9a403c10]   [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
[feb9b5b6-b216-4703-a682-987f9a403c10] Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 1.6ms | Allocations: 1300)


[67d3c229-097f-4008-a3c3-92a2007f958c] Started POST "/api/v1/users/1/sleep_sessions/clock_out" for ::1 at 2025-09-22 16:26:39 +0700
[67d3c229-097f-4008-a3c3-92a2007f958c] Processing by Api::V1::SleepSessionsController#clock_out as */*
[67d3c229-097f-4008-a3c3-92a2007f958c]   Parameters: {"user_id"=>"1"}
[67d3c229-097f-4008-a3c3-92a2007f958c]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[67d3c229-097f-4008-a3c3-92a2007f958c]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[67d3c229-097f-4008-a3c3-92a2007f958c]   [1m[36mUser Load (0.4ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[67d3c229-097f-4008-a3c3-92a2007f958c]   [1m[36mSleepSession Load (0.1ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL ORDER BY "sleep_sessions"."slept_at" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[67d3c229-097f-4008-a3c3-92a2007f958c]   [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
[67d3c229-097f-4008-a3c3-92a2007f958c] Completed 422 Unprocessable Content in 3ms (Views: 0.1ms | ActiveRecord: 1.2ms | Allocations: 915)


[237119b5-1d8d-4292-8624-84ca31dd8773] Started GET "/api/v1/users/1/sleep_sessions" for ::1 at 2025-09-22 16:26:39 +0700
[237119b5-1d8d-4292-8624-84ca31dd8773] Processing by Api::V1::SleepSessionsController#index as */*
[237119b5-1d8d-4292-8624-84ca31dd8773]   Parameters: {"user_id"=>"1"}
[237119b5-1d8d-4292-8624-84ca31dd8773]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[237119b5-1d8d-4292-8624-84ca31dd8773]   [1m[36mSleepSession Load (0.2ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 ORDER BY "sleep_sessions"."created_at" ASC[0m  [["user_id", 1]]
[237119b5-1d8d-4292-8624-84ca31dd8773] Completed 200 OK in 2ms (Views: 0.6ms | ActiveRecord: 0.4ms | Allocations: 847)


[b46f44a2-943c-4cf3-b4a7-1b4fbb6a34bc] Started POST "/api/v1/users/1/follows" for ::1 at 2025-09-22 16:26:39 +0700
[b46f44a2-943c-4cf3-b4a7-1b4fbb6a34bc] Processing by Api::V1::FollowsController#create as */*
[b46f44a2-943c-4cf3-b4a7-1b4fbb6a34bc]   Parameters: {"followed_id"=>2, "user_id"=>"1", "follow"=>{"followed_id"=>2}}
[b46f44a2-943c-4cf3-b4a7-1b4fbb6a34bc]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[b46f44a2-943c-4cf3-b4a7-1b4fbb6a34bc]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[b46f44a2-943c-4cf3-b4a7-1b4fbb6a34bc]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[b46f44a2-943c-4cf3-b4a7-1b4fbb6a34bc]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[b46f44a2-943c-4cf3-b4a7-1b4fbb6a34bc]   [1m[36mFollow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "follows" WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2 LIMIT $3[0m  [["follower_id", 1], ["followed_id", 2], ["LIMIT", 1]]
[b46f44a2-943c-4cf3-b4a7-1b4fbb6a34bc]   [1m[36mFollow Create (0.4ms)[0m  [1m[32mINSERT INTO "follows" ("follower_id", "followed_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["follower_id", 1], ["followed_id", 2], ["created_at", "2025-09-22 09:26:39.746631"], ["updated_at", "2025-09-22 09:26:39.746631"]]
[b46f44a2-943c-4cf3-b4a7-1b4fbb6a34bc]   [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
[b46f44a2-943c-4cf3-b4a7-1b4fbb6a34bc] Completed 201 Created in 3ms (Views: 0.1ms | ActiveRecord: 1.4ms | Allocations: 1396)


[a9e8f967-0941-4c14-b73b-cfe63e5d13f2] Started POST "/api/v1/users/1/follows" for ::1 at 2025-09-22 16:26:39 +0700
[a9e8f967-0941-4c14-b73b-cfe63e5d13f2] Processing by Api::V1::FollowsController#create as */*
[a9e8f967-0941-4c14-b73b-cfe63e5d13f2]   Parameters: {"followed_id"=>1, "user_id"=>"1", "follow"=>{"followed_id"=>1}}
[a9e8f967-0941-4c14-b73b-cfe63e5d13f2]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[a9e8f967-0941-4c14-b73b-cfe63e5d13f2]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[a9e8f967-0941-4c14-b73b-cfe63e5d13f2]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[a9e8f967-0941-4c14-b73b-cfe63e5d13f2]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[a9e8f967-0941-4c14-b73b-cfe63e5d13f2]   [1m[36mFollow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "follows" WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2 LIMIT $3[0m  [["follower_id", 1], ["followed_id", 1], ["LIMIT", 1]]
[a9e8f967-0941-4c14-b73b-cfe63e5d13f2]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
[a9e8f967-0941-4c14-b73b-cfe63e5d13f2] Completed 422 Unprocessable Content in 2ms (ActiveRecord: 0.9ms | Allocations: 1233)


[a9e8f967-0941-4c14-b73b-cfe63e5d13f2]   
[a9e8f967-0941-4c14-b73b-cfe63e5d13f2] ActiveRecord::RecordInvalid (Validation failed: cannot follow self):
[a9e8f967-0941-4c14-b73b-cfe63e5d13f2]   
[a9e8f967-0941-4c14-b73b-cfe63e5d13f2] app/controllers/api/v1/follows_controller.rb:7:in `create'
[e3181edf-98c0-4eed-b4f8-124f6be4c0ef] Started DELETE "/api/v1/users/1/follows/2" for ::1 at 2025-09-22 16:26:39 +0700
[e3181edf-98c0-4eed-b4f8-124f6be4c0ef] Processing by Api::V1::FollowsController#destroy as */*
[e3181edf-98c0-4eed-b4f8-124f6be4c0ef]   Parameters: {"user_id"=>"1", "followed_id"=>"2"}
[e3181edf-98c0-4eed-b4f8-124f6be4c0ef]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[e3181edf-98c0-4eed-b4f8-124f6be4c0ef]   [1m[36mFollow Load (0.2ms)[0m  [1m[34mSELECT "follows".* FROM "follows" WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2 LIMIT $3[0m  [["follower_id", 1], ["followed_id", 2], ["LIMIT", 1]]
[e3181edf-98c0-4eed-b4f8-124f6be4c0ef]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[e3181edf-98c0-4eed-b4f8-124f6be4c0ef]   [1m[36mFollow Destroy (0.3ms)[0m  [1m[31mDELETE FROM "follows" WHERE "follows"."id" = $1[0m  [["id", 6]]
[e3181edf-98c0-4eed-b4f8-124f6be4c0ef]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
[e3181edf-98c0-4eed-b4f8-124f6be4c0ef] Completed 204 No Content in 3ms (ActiveRecord: 1.0ms | Allocations: 738)


[1dfd47a5-d4bd-4fa0-94ef-8bdfd06e4ee8] Started GET "/api/v1/users/1/feed" for ::1 at 2025-09-22 16:26:39 +0700
[1dfd47a5-d4bd-4fa0-94ef-8bdfd06e4ee8] Processing by Api::V1::FeedsController#index as */*
[1dfd47a5-d4bd-4fa0-94ef-8bdfd06e4ee8]   Parameters: {"user_id"=>"1"}
[1dfd47a5-d4bd-4fa0-94ef-8bdfd06e4ee8]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[1dfd47a5-d4bd-4fa0-94ef-8bdfd06e4ee8]   [1m[36mSleepSession Load (1.2ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."woke_at" IS NOT NULL AND "sleep_sessions"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "follows" ON "users"."id" = "follows"."followed_id" WHERE "follows"."follower_id" = $1) AND "sleep_sessions"."woke_at" BETWEEN $2 AND $3 ORDER BY "sleep_sessions"."duration_sec" DESC, "sleep_sessions"."woke_at" DESC, "sleep_sessions"."id" DESC[0m  [["follower_id", 1], ["woke_at", "2025-09-15 00:00:00"], ["woke_at", "2025-09-22 23:59:59.999999"]]
[1dfd47a5-d4bd-4fa0-94ef-8bdfd06e4ee8] Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 1.4ms | Allocations: 1098)


[95569607-5669-4e57-b347-f9e6c1d128a7] Started POST "/api/v1/users" for ::1 at 2025-09-22 16:32:27 +0700
[95569607-5669-4e57-b347-f9e6c1d128a7]   
[95569607-5669-4e57-b347-f9e6c1d128a7] ActionController::RoutingError (No route matches [POST] "/api/v1/users"):
[95569607-5669-4e57-b347-f9e6c1d128a7]   
[5fcb8552-722c-4157-b995-551768bb1b6c] Started POST "/api/v1/users" for ::1 at 2025-09-22 16:32:27 +0700
[5fcb8552-722c-4157-b995-551768bb1b6c]   
[5fcb8552-722c-4157-b995-551768bb1b6c] ActionController::RoutingError (No route matches [POST] "/api/v1/users"):
[5fcb8552-722c-4157-b995-551768bb1b6c]   
[5ca86fc1-c084-4d6b-81ad-64953b2e54cb] Started POST "/api/v1/users/1/sleep_sessions/clock_in" for ::1 at 2025-09-22 16:32:27 +0700
[5ca86fc1-c084-4d6b-81ad-64953b2e54cb] Processing by Api::V1::SleepSessionsController#clock_in as */*
[5ca86fc1-c084-4d6b-81ad-64953b2e54cb]   Parameters: {"user_id"=>"1"}
[5ca86fc1-c084-4d6b-81ad-64953b2e54cb]   [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[5ca86fc1-c084-4d6b-81ad-64953b2e54cb]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[5ca86fc1-c084-4d6b-81ad-64953b2e54cb]   [1m[36mUser Load (0.4ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[5ca86fc1-c084-4d6b-81ad-64953b2e54cb]   [1m[36mSleepSession Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[5ca86fc1-c084-4d6b-81ad-64953b2e54cb]   [1m[36mSleepSession Create (0.6ms)[0m  [1m[32mINSERT INTO "sleep_sessions" ("user_id", "slept_at", "woke_at", "duration_sec", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 1], ["slept_at", "2025-09-22 09:32:27.904498"], ["woke_at", nil], ["duration_sec", nil], ["created_at", "2025-09-22 09:32:27.906089"], ["updated_at", "2025-09-22 09:32:27.906089"]]
[5ca86fc1-c084-4d6b-81ad-64953b2e54cb]   [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
[5ca86fc1-c084-4d6b-81ad-64953b2e54cb] Completed 201 Created in 33ms (Views: 0.1ms | ActiveRecord: 12.2ms | Allocations: 13008)


[9ac681ce-2c5b-4c4c-bf96-702a9741ca75] Started POST "/api/v1/users/1/sleep_sessions/clock_in" for ::1 at 2025-09-22 16:32:27 +0700
[9ac681ce-2c5b-4c4c-bf96-702a9741ca75] Processing by Api::V1::SleepSessionsController#clock_in as */*
[9ac681ce-2c5b-4c4c-bf96-702a9741ca75]   Parameters: {"user_id"=>"1"}
[9ac681ce-2c5b-4c4c-bf96-702a9741ca75]   [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[9ac681ce-2c5b-4c4c-bf96-702a9741ca75]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[9ac681ce-2c5b-4c4c-bf96-702a9741ca75]   [1m[36mUser Load (0.4ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[9ac681ce-2c5b-4c4c-bf96-702a9741ca75]   [1m[36mSleepSession Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[9ac681ce-2c5b-4c4c-bf96-702a9741ca75]   [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
[9ac681ce-2c5b-4c4c-bf96-702a9741ca75] Completed 422 Unprocessable Content in 2ms (Views: 0.1ms | ActiveRecord: 1.3ms | Allocations: 887)


[6451ce56-2069-408a-bd4f-0f18d14169c1] Started POST "/api/v1/users/1/sleep_sessions/clock_out" for ::1 at 2025-09-22 16:32:27 +0700
[6451ce56-2069-408a-bd4f-0f18d14169c1] Processing by Api::V1::SleepSessionsController#clock_out as */*
[6451ce56-2069-408a-bd4f-0f18d14169c1]   Parameters: {"user_id"=>"1"}
[6451ce56-2069-408a-bd4f-0f18d14169c1]   [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[6451ce56-2069-408a-bd4f-0f18d14169c1]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[6451ce56-2069-408a-bd4f-0f18d14169c1]   [1m[36mUser Load (0.5ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[6451ce56-2069-408a-bd4f-0f18d14169c1]   [1m[36mSleepSession Load (0.3ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL ORDER BY "sleep_sessions"."slept_at" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[6451ce56-2069-408a-bd4f-0f18d14169c1]   [1m[36mSleepSession Update (0.8ms)[0m  [1m[33mUPDATE "sleep_sessions" SET "woke_at" = $1, "duration_sec" = $2, "updated_at" = $3 WHERE "sleep_sessions"."id" = $4[0m  [["woke_at", "2025-09-22 09:32:27.936453"], ["duration_sec", 0], ["updated_at", "2025-09-22 09:32:27.936623"], ["id", 9]]
[6451ce56-2069-408a-bd4f-0f18d14169c1]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
[6451ce56-2069-408a-bd4f-0f18d14169c1] Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 2.2ms | Allocations: 1406)


[e42739a7-958e-4732-9119-da9f6c0e3d97] Started POST "/api/v1/users/1/sleep_sessions/clock_out" for ::1 at 2025-09-22 16:32:27 +0700
[e42739a7-958e-4732-9119-da9f6c0e3d97] Processing by Api::V1::SleepSessionsController#clock_out as */*
[e42739a7-958e-4732-9119-da9f6c0e3d97]   Parameters: {"user_id"=>"1"}
[e42739a7-958e-4732-9119-da9f6c0e3d97]   [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[e42739a7-958e-4732-9119-da9f6c0e3d97]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[e42739a7-958e-4732-9119-da9f6c0e3d97]   [1m[36mUser Load (0.6ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[e42739a7-958e-4732-9119-da9f6c0e3d97]   [1m[36mSleepSession Load (0.2ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL ORDER BY "sleep_sessions"."slept_at" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[e42739a7-958e-4732-9119-da9f6c0e3d97]   [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
[e42739a7-958e-4732-9119-da9f6c0e3d97] Completed 422 Unprocessable Content in 3ms (Views: 0.1ms | ActiveRecord: 1.5ms | Allocations: 916)


[6eb3c602-8656-4b86-9f4a-965251410de8] Started GET "/api/v1/users/1/sleep_sessions" for ::1 at 2025-09-22 16:32:27 +0700
[6eb3c602-8656-4b86-9f4a-965251410de8] Processing by Api::V1::SleepSessionsController#index as */*
[6eb3c602-8656-4b86-9f4a-965251410de8]   Parameters: {"user_id"=>"1"}
[6eb3c602-8656-4b86-9f4a-965251410de8]   [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[6eb3c602-8656-4b86-9f4a-965251410de8]   [1m[36mSleepSession Load (0.3ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 ORDER BY "sleep_sessions"."created_at" ASC[0m  [["user_id", 1]]
[6eb3c602-8656-4b86-9f4a-965251410de8] Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 897)


  [1m[36mUser Count (2.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Delete All (7.5ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
[9f74c5c5-52ce-4159-a9a2-8f9b890d2552] Started POST "/api/v1/users" for ::1 at 2025-09-22 16:34:27 +0700
[9f74c5c5-52ce-4159-a9a2-8f9b890d2552]   
[9f74c5c5-52ce-4159-a9a2-8f9b890d2552] ActionController::RoutingError (No route matches [POST] "/api/v1/users"):
[9f74c5c5-52ce-4159-a9a2-8f9b890d2552]   
[58c68678-59b1-4591-8356-ab006ea778b6] Started POST "/api/v1/users" for ::1 at 2025-09-22 16:34:27 +0700
[58c68678-59b1-4591-8356-ab006ea778b6]   
[58c68678-59b1-4591-8356-ab006ea778b6] ActionController::RoutingError (No route matches [POST] "/api/v1/users"):
[58c68678-59b1-4591-8356-ab006ea778b6]   
[29e8311a-1df4-4c86-bbcb-7fc986204b95] Started POST "/api/v1/users/1/sleep_sessions/clock_in" for ::1 at 2025-09-22 16:34:27 +0700
[29e8311a-1df4-4c86-bbcb-7fc986204b95] Processing by Api::V1::SleepSessionsController#clock_in as */*
[29e8311a-1df4-4c86-bbcb-7fc986204b95]   Parameters: {"user_id"=>"1"}
[29e8311a-1df4-4c86-bbcb-7fc986204b95]   [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[29e8311a-1df4-4c86-bbcb-7fc986204b95]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
[29e8311a-1df4-4c86-bbcb-7fc986204b95]   [1m[36mUser Load (0.8ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[29e8311a-1df4-4c86-bbcb-7fc986204b95]   [1m[36mSleepSession Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[29e8311a-1df4-4c86-bbcb-7fc986204b95]   [1m[36mSleepSession Create (0.8ms)[0m  [1m[32mINSERT INTO "sleep_sessions" ("user_id", "slept_at", "woke_at", "duration_sec", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 1], ["slept_at", "2025-09-22 09:34:27.207834"], ["woke_at", nil], ["duration_sec", nil], ["created_at", "2025-09-22 09:34:27.208413"], ["updated_at", "2025-09-22 09:34:27.208413"]]
[29e8311a-1df4-4c86-bbcb-7fc986204b95]   [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
[29e8311a-1df4-4c86-bbcb-7fc986204b95] Completed 201 Created in 14ms (Views: 0.1ms | ActiveRecord: 3.6ms | Allocations: 1314)


[e0aae8dd-0863-4353-9a4b-0614149672ad] Started POST "/api/v1/users/1/sleep_sessions/clock_in" for ::1 at 2025-09-22 16:34:27 +0700
[e0aae8dd-0863-4353-9a4b-0614149672ad] Processing by Api::V1::SleepSessionsController#clock_in as */*
[e0aae8dd-0863-4353-9a4b-0614149672ad]   Parameters: {"user_id"=>"1"}
[e0aae8dd-0863-4353-9a4b-0614149672ad]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[e0aae8dd-0863-4353-9a4b-0614149672ad]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[e0aae8dd-0863-4353-9a4b-0614149672ad]   [1m[36mUser Load (0.6ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[e0aae8dd-0863-4353-9a4b-0614149672ad]   [1m[36mSleepSession Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[e0aae8dd-0863-4353-9a4b-0614149672ad]   [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
[e0aae8dd-0863-4353-9a4b-0614149672ad] Completed 422 Unprocessable Content in 3ms (Views: 0.1ms | ActiveRecord: 1.3ms | Allocations: 880)


[7209ca8c-4534-4001-9d31-4eef2de44226] Started POST "/api/v1/users/1/sleep_sessions/clock_out" for ::1 at 2025-09-22 16:34:27 +0700
[7209ca8c-4534-4001-9d31-4eef2de44226] Processing by Api::V1::SleepSessionsController#clock_out as */*
[7209ca8c-4534-4001-9d31-4eef2de44226]   Parameters: {"user_id"=>"1"}
[7209ca8c-4534-4001-9d31-4eef2de44226]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[7209ca8c-4534-4001-9d31-4eef2de44226]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[7209ca8c-4534-4001-9d31-4eef2de44226]   [1m[36mUser Load (0.5ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[7209ca8c-4534-4001-9d31-4eef2de44226]   [1m[36mSleepSession Load (0.2ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL ORDER BY "sleep_sessions"."slept_at" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[7209ca8c-4534-4001-9d31-4eef2de44226]   [1m[36mSleepSession Update (0.3ms)[0m  [1m[33mUPDATE "sleep_sessions" SET "woke_at" = $1, "duration_sec" = $2, "updated_at" = $3 WHERE "sleep_sessions"."id" = $4[0m  [["woke_at", "2025-09-22 09:34:27.237151"], ["duration_sec", 0], ["updated_at", "2025-09-22 09:34:27.237294"], ["id", 10]]
[7209ca8c-4534-4001-9d31-4eef2de44226]   [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
[7209ca8c-4534-4001-9d31-4eef2de44226] Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 1.7ms | Allocations: 1300)


[a0fba482-ba84-421f-a819-19451019b7df] Started POST "/api/v1/users/1/sleep_sessions/clock_out" for ::1 at 2025-09-22 16:34:27 +0700
[a0fba482-ba84-421f-a819-19451019b7df] Processing by Api::V1::SleepSessionsController#clock_out as */*
[a0fba482-ba84-421f-a819-19451019b7df]   Parameters: {"user_id"=>"1"}
[a0fba482-ba84-421f-a819-19451019b7df]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[a0fba482-ba84-421f-a819-19451019b7df]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[a0fba482-ba84-421f-a819-19451019b7df]   [1m[36mUser Load (0.5ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[a0fba482-ba84-421f-a819-19451019b7df]   [1m[36mSleepSession Load (0.3ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL ORDER BY "sleep_sessions"."slept_at" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[a0fba482-ba84-421f-a819-19451019b7df]   [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
[a0fba482-ba84-421f-a819-19451019b7df] Completed 422 Unprocessable Content in 2ms (Views: 0.1ms | ActiveRecord: 1.4ms | Allocations: 916)


[acb3b08f-6882-4e01-b268-c4bd4ba829d7] Started GET "/api/v1/users/1/sleep_sessions" for ::1 at 2025-09-22 16:34:27 +0700
[acb3b08f-6882-4e01-b268-c4bd4ba829d7] Processing by Api::V1::SleepSessionsController#index as */*
[acb3b08f-6882-4e01-b268-c4bd4ba829d7]   Parameters: {"user_id"=>"1"}
[acb3b08f-6882-4e01-b268-c4bd4ba829d7]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[acb3b08f-6882-4e01-b268-c4bd4ba829d7]   [1m[36mSleepSession Load (0.4ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 ORDER BY "sleep_sessions"."created_at" ASC[0m  [["user_id", 1]]
[acb3b08f-6882-4e01-b268-c4bd4ba829d7] Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 933)


[4ce2f52f-329e-4d81-b93f-1579af8f0aea] Started POST "/api/v1/users/1/sleep_sessions/clock_in" for ::1 at 2025-09-22 16:35:59 +0700
[4ce2f52f-329e-4d81-b93f-1579af8f0aea] Processing by Api::V1::SleepSessionsController#clock_in as */*
[4ce2f52f-329e-4d81-b93f-1579af8f0aea]   Parameters: {"user_id"=>"1"}
[4ce2f52f-329e-4d81-b93f-1579af8f0aea]   [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[4ce2f52f-329e-4d81-b93f-1579af8f0aea]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
[4ce2f52f-329e-4d81-b93f-1579af8f0aea]   [1m[36mUser Load (1.2ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[4ce2f52f-329e-4d81-b93f-1579af8f0aea]   [1m[36mSleepSession Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[4ce2f52f-329e-4d81-b93f-1579af8f0aea]   [1m[36mSleepSession Create (0.3ms)[0m  [1m[32mINSERT INTO "sleep_sessions" ("user_id", "slept_at", "woke_at", "duration_sec", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 1], ["slept_at", "2025-09-22 09:35:59.438000"], ["woke_at", nil], ["duration_sec", nil], ["created_at", "2025-09-22 09:35:59.438921"], ["updated_at", "2025-09-22 09:35:59.438921"]]
[4ce2f52f-329e-4d81-b93f-1579af8f0aea]   [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
[4ce2f52f-329e-4d81-b93f-1579af8f0aea] Completed 201 Created in 14ms (Views: 0.2ms | ActiveRecord: 3.3ms | Allocations: 1317)


[0211fbe7-ae9d-4dae-917f-f4357411ffb6] Started POST "/api/v1/users/1/sleep_sessions/clock_in" for ::1 at 2025-09-22 16:35:59 +0700
[0211fbe7-ae9d-4dae-917f-f4357411ffb6] Processing by Api::V1::SleepSessionsController#clock_in as */*
[0211fbe7-ae9d-4dae-917f-f4357411ffb6]   Parameters: {"user_id"=>"1"}
[0211fbe7-ae9d-4dae-917f-f4357411ffb6]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[0211fbe7-ae9d-4dae-917f-f4357411ffb6]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[0211fbe7-ae9d-4dae-917f-f4357411ffb6]   [1m[36mUser Load (0.6ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[0211fbe7-ae9d-4dae-917f-f4357411ffb6]   [1m[36mSleepSession Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[0211fbe7-ae9d-4dae-917f-f4357411ffb6]   [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
[0211fbe7-ae9d-4dae-917f-f4357411ffb6] Completed 422 Unprocessable Content in 3ms (Views: 0.1ms | ActiveRecord: 1.6ms | Allocations: 881)


[e9402fc8-35e6-475c-948f-f6651160d638] Started POST "/api/v1/users/1/sleep_sessions/clock_out" for ::1 at 2025-09-22 16:35:59 +0700
[e9402fc8-35e6-475c-948f-f6651160d638] Processing by Api::V1::SleepSessionsController#clock_out as */*
[e9402fc8-35e6-475c-948f-f6651160d638]   Parameters: {"user_id"=>"1"}
[e9402fc8-35e6-475c-948f-f6651160d638]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[e9402fc8-35e6-475c-948f-f6651160d638]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[e9402fc8-35e6-475c-948f-f6651160d638]   [1m[36mUser Load (0.6ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[e9402fc8-35e6-475c-948f-f6651160d638]   [1m[36mSleepSession Load (0.3ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL ORDER BY "sleep_sessions"."slept_at" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[e9402fc8-35e6-475c-948f-f6651160d638]   [1m[36mSleepSession Update (0.3ms)[0m  [1m[33mUPDATE "sleep_sessions" SET "woke_at" = $1, "duration_sec" = $2, "updated_at" = $3 WHERE "sleep_sessions"."id" = $4[0m  [["woke_at", "2025-09-22 09:35:59.475066"], ["duration_sec", 0], ["updated_at", "2025-09-22 09:35:59.475218"], ["id", 11]]
[e9402fc8-35e6-475c-948f-f6651160d638]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
[e9402fc8-35e6-475c-948f-f6651160d638] Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 1.7ms | Allocations: 1301)


[584aeb1e-5a4a-4017-ab35-9d519a146cb5] Started POST "/api/v1/users/1/sleep_sessions/clock_out" for ::1 at 2025-09-22 16:35:59 +0700
[584aeb1e-5a4a-4017-ab35-9d519a146cb5] Processing by Api::V1::SleepSessionsController#clock_out as */*
[584aeb1e-5a4a-4017-ab35-9d519a146cb5]   Parameters: {"user_id"=>"1"}
[584aeb1e-5a4a-4017-ab35-9d519a146cb5]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[584aeb1e-5a4a-4017-ab35-9d519a146cb5]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[584aeb1e-5a4a-4017-ab35-9d519a146cb5]   [1m[36mUser Load (0.3ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[584aeb1e-5a4a-4017-ab35-9d519a146cb5]   [1m[36mSleepSession Load (0.2ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL ORDER BY "sleep_sessions"."slept_at" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[584aeb1e-5a4a-4017-ab35-9d519a146cb5]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
[584aeb1e-5a4a-4017-ab35-9d519a146cb5] Completed 422 Unprocessable Content in 2ms (Views: 0.1ms | ActiveRecord: 1.0ms | Allocations: 915)


[de3e88b2-9cc4-48c3-afac-9241550e23e6] Started POST "/api/v1/users" for ::1 at 2025-09-22 16:37:43 +0700
[de3e88b2-9cc4-48c3-afac-9241550e23e6]   
[de3e88b2-9cc4-48c3-afac-9241550e23e6] ActionController::RoutingError (No route matches [POST] "/api/v1/users"):
[de3e88b2-9cc4-48c3-afac-9241550e23e6]   
[2db9a456-49b1-4b43-972f-698e96b967f3] Started POST "/api/v1/users" for ::1 at 2025-09-22 16:37:43 +0700
[2db9a456-49b1-4b43-972f-698e96b967f3]   
[2db9a456-49b1-4b43-972f-698e96b967f3] ActionController::RoutingError (No route matches [POST] "/api/v1/users"):
[2db9a456-49b1-4b43-972f-698e96b967f3]   
[549be2e9-0f8c-482f-a213-17cc13c1dda0] Started POST "/api/v1/users/1/sleep_sessions/clock_in" for ::1 at 2025-09-22 16:37:43 +0700
[549be2e9-0f8c-482f-a213-17cc13c1dda0] Processing by Api::V1::SleepSessionsController#clock_in as */*
[549be2e9-0f8c-482f-a213-17cc13c1dda0]   Parameters: {"user_id"=>"1"}
[549be2e9-0f8c-482f-a213-17cc13c1dda0]   [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[549be2e9-0f8c-482f-a213-17cc13c1dda0]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[549be2e9-0f8c-482f-a213-17cc13c1dda0]   [1m[36mUser Load (0.5ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[549be2e9-0f8c-482f-a213-17cc13c1dda0]   [1m[36mSleepSession Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[549be2e9-0f8c-482f-a213-17cc13c1dda0]   [1m[36mSleepSession Create (0.7ms)[0m  [1m[32mINSERT INTO "sleep_sessions" ("user_id", "slept_at", "woke_at", "duration_sec", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 1], ["slept_at", "2025-09-22 09:37:43.268742"], ["woke_at", nil], ["duration_sec", nil], ["created_at", "2025-09-22 09:37:43.269312"], ["updated_at", "2025-09-22 09:37:43.269312"]]
[549be2e9-0f8c-482f-a213-17cc13c1dda0]   [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
[549be2e9-0f8c-482f-a213-17cc13c1dda0] Completed 201 Created in 8ms (Views: 0.3ms | ActiveRecord: 3.2ms | Allocations: 1314)


[beea734a-5550-4a73-92d4-05c5ef8e83b3] Started POST "/api/v1/users/1/sleep_sessions/clock_in" for ::1 at 2025-09-22 16:37:43 +0700
[beea734a-5550-4a73-92d4-05c5ef8e83b3] Processing by Api::V1::SleepSessionsController#clock_in as */*
[beea734a-5550-4a73-92d4-05c5ef8e83b3]   Parameters: {"user_id"=>"1"}
[beea734a-5550-4a73-92d4-05c5ef8e83b3]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[beea734a-5550-4a73-92d4-05c5ef8e83b3]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[beea734a-5550-4a73-92d4-05c5ef8e83b3]   [1m[36mUser Load (0.6ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[beea734a-5550-4a73-92d4-05c5ef8e83b3]   [1m[36mSleepSession Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[beea734a-5550-4a73-92d4-05c5ef8e83b3]   [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
[beea734a-5550-4a73-92d4-05c5ef8e83b3] Completed 422 Unprocessable Content in 3ms (Views: 0.1ms | ActiveRecord: 1.7ms | Allocations: 880)


[ca2113d2-0db3-46d9-82fe-a806934ce76d] Started POST "/api/v1/users/1/sleep_sessions/clock_out" for ::1 at 2025-09-22 16:37:43 +0700
[ca2113d2-0db3-46d9-82fe-a806934ce76d] Processing by Api::V1::SleepSessionsController#clock_out as */*
[ca2113d2-0db3-46d9-82fe-a806934ce76d]   Parameters: {"user_id"=>"1"}
[ca2113d2-0db3-46d9-82fe-a806934ce76d]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ca2113d2-0db3-46d9-82fe-a806934ce76d]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[ca2113d2-0db3-46d9-82fe-a806934ce76d]   [1m[36mUser Load (0.7ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[ca2113d2-0db3-46d9-82fe-a806934ce76d]   [1m[36mSleepSession Load (0.2ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL ORDER BY "sleep_sessions"."slept_at" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[ca2113d2-0db3-46d9-82fe-a806934ce76d]   [1m[36mSleepSession Update (0.5ms)[0m  [1m[33mUPDATE "sleep_sessions" SET "woke_at" = $1, "duration_sec" = $2, "updated_at" = $3 WHERE "sleep_sessions"."id" = $4[0m  [["woke_at", "2025-09-22 09:37:43.340190"], ["duration_sec", 0], ["updated_at", "2025-09-22 09:37:43.340346"], ["id", 12]]
[ca2113d2-0db3-46d9-82fe-a806934ce76d]   [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
[ca2113d2-0db3-46d9-82fe-a806934ce76d] Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 2.1ms | Allocations: 1300)


[77f01b45-2b3b-44b7-a63b-7f602720205e] Started POST "/api/v1/users/1/sleep_sessions/clock_out" for ::1 at 2025-09-22 16:37:43 +0700
[77f01b45-2b3b-44b7-a63b-7f602720205e] Processing by Api::V1::SleepSessionsController#clock_out as */*
[77f01b45-2b3b-44b7-a63b-7f602720205e]   Parameters: {"user_id"=>"1"}
[77f01b45-2b3b-44b7-a63b-7f602720205e]   [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[77f01b45-2b3b-44b7-a63b-7f602720205e]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[77f01b45-2b3b-44b7-a63b-7f602720205e]   [1m[36mUser Load (0.7ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[77f01b45-2b3b-44b7-a63b-7f602720205e]   [1m[36mSleepSession Load (0.1ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL ORDER BY "sleep_sessions"."slept_at" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[77f01b45-2b3b-44b7-a63b-7f602720205e]   [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
[77f01b45-2b3b-44b7-a63b-7f602720205e] Completed 422 Unprocessable Content in 4ms (Views: 0.1ms | ActiveRecord: 1.5ms | Allocations: 914)


[8e21f288-5b6d-46e3-a7be-abca1cec4a2d] Started GET "/api/v1/users/1/sleep_sessions" for ::1 at 2025-09-22 16:37:43 +0700
[8e21f288-5b6d-46e3-a7be-abca1cec4a2d] Processing by Api::V1::SleepSessionsController#index as */*
[8e21f288-5b6d-46e3-a7be-abca1cec4a2d]   Parameters: {"user_id"=>"1"}
[8e21f288-5b6d-46e3-a7be-abca1cec4a2d]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[8e21f288-5b6d-46e3-a7be-abca1cec4a2d]   [1m[36mSleepSession Load (0.5ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 ORDER BY "sleep_sessions"."created_at" ASC[0m  [["user_id", 1]]
[8e21f288-5b6d-46e3-a7be-abca1cec4a2d] Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 1019)


[db2331bb-c75d-4fdd-aa91-09ace1b008a3] Started POST "/api/v1/users/1/follows" for ::1 at 2025-09-22 16:37:43 +0700
[db2331bb-c75d-4fdd-aa91-09ace1b008a3] Processing by Api::V1::FollowsController#create as */*
[db2331bb-c75d-4fdd-aa91-09ace1b008a3]   Parameters: {"followed_id"=>2, "user_id"=>"1", "follow"=>{"followed_id"=>2}}
[db2331bb-c75d-4fdd-aa91-09ace1b008a3]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[db2331bb-c75d-4fdd-aa91-09ace1b008a3]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[db2331bb-c75d-4fdd-aa91-09ace1b008a3]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[db2331bb-c75d-4fdd-aa91-09ace1b008a3]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[db2331bb-c75d-4fdd-aa91-09ace1b008a3]   [1m[36mFollow Exists? (2.0ms)[0m  [1m[34mSELECT 1 AS one FROM "follows" WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2 LIMIT $3[0m  [["follower_id", 1], ["followed_id", 2], ["LIMIT", 1]]
[db2331bb-c75d-4fdd-aa91-09ace1b008a3]   [1m[36mFollow Create (0.5ms)[0m  [1m[32mINSERT INTO "follows" ("follower_id", "followed_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["follower_id", 1], ["followed_id", 2], ["created_at", "2025-09-22 09:37:43.417975"], ["updated_at", "2025-09-22 09:37:43.417975"]]
[db2331bb-c75d-4fdd-aa91-09ace1b008a3]   [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
[db2331bb-c75d-4fdd-aa91-09ace1b008a3] Completed 201 Created in 7ms (Views: 0.1ms | ActiveRecord: 3.6ms | Allocations: 4366)


[5c628907-5694-46f0-aa0a-bfa44e12aaf9] Started POST "/api/v1/users/1/follows" for ::1 at 2025-09-22 16:37:43 +0700
[5c628907-5694-46f0-aa0a-bfa44e12aaf9] Processing by Api::V1::FollowsController#create as */*
[5c628907-5694-46f0-aa0a-bfa44e12aaf9]   Parameters: {"followed_id"=>2, "user_id"=>"1", "follow"=>{"followed_id"=>2}}
[5c628907-5694-46f0-aa0a-bfa44e12aaf9]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[5c628907-5694-46f0-aa0a-bfa44e12aaf9]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[5c628907-5694-46f0-aa0a-bfa44e12aaf9]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[5c628907-5694-46f0-aa0a-bfa44e12aaf9]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[5c628907-5694-46f0-aa0a-bfa44e12aaf9]   [1m[36mFollow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "follows" WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2 LIMIT $3[0m  [["follower_id", 1], ["followed_id", 2], ["LIMIT", 1]]
[5c628907-5694-46f0-aa0a-bfa44e12aaf9]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
[5c628907-5694-46f0-aa0a-bfa44e12aaf9] Completed 422 Unprocessable Content in 3ms (ActiveRecord: 1.1ms | Allocations: 1577)


[5c628907-5694-46f0-aa0a-bfa44e12aaf9]   
[5c628907-5694-46f0-aa0a-bfa44e12aaf9] ActiveRecord::RecordInvalid (Validation failed: Follower has already been taken):
[5c628907-5694-46f0-aa0a-bfa44e12aaf9]   
[5c628907-5694-46f0-aa0a-bfa44e12aaf9] app/controllers/api/v1/follows_controller.rb:7:in `create'
[39221817-fd42-49e4-98b2-988a93b60174] Started POST "/api/v1/users/1/follows" for ::1 at 2025-09-22 16:37:43 +0700
[39221817-fd42-49e4-98b2-988a93b60174] Processing by Api::V1::FollowsController#create as */*
[39221817-fd42-49e4-98b2-988a93b60174]   Parameters: {"followed_id"=>1, "user_id"=>"1", "follow"=>{"followed_id"=>1}}
[39221817-fd42-49e4-98b2-988a93b60174]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[39221817-fd42-49e4-98b2-988a93b60174]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[39221817-fd42-49e4-98b2-988a93b60174]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[39221817-fd42-49e4-98b2-988a93b60174]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[39221817-fd42-49e4-98b2-988a93b60174]   [1m[36mFollow Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "follows" WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2 LIMIT $3[0m  [["follower_id", 1], ["followed_id", 1], ["LIMIT", 1]]
[39221817-fd42-49e4-98b2-988a93b60174]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
[39221817-fd42-49e4-98b2-988a93b60174] Completed 422 Unprocessable Content in 3ms (ActiveRecord: 1.2ms | Allocations: 1236)


[39221817-fd42-49e4-98b2-988a93b60174]   
[39221817-fd42-49e4-98b2-988a93b60174] ActiveRecord::RecordInvalid (Validation failed: cannot follow self):
[39221817-fd42-49e4-98b2-988a93b60174]   
[39221817-fd42-49e4-98b2-988a93b60174] app/controllers/api/v1/follows_controller.rb:7:in `create'
[b7d3ff66-ff29-4255-8051-239e8679ee42] Started DELETE "/api/v1/users/1/follows/2" for ::1 at 2025-09-22 16:37:43 +0700
[b7d3ff66-ff29-4255-8051-239e8679ee42] Processing by Api::V1::FollowsController#destroy as */*
[b7d3ff66-ff29-4255-8051-239e8679ee42]   Parameters: {"user_id"=>"1", "followed_id"=>"2"}
[b7d3ff66-ff29-4255-8051-239e8679ee42]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[b7d3ff66-ff29-4255-8051-239e8679ee42]   [1m[36mFollow Load (0.2ms)[0m  [1m[34mSELECT "follows".* FROM "follows" WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2 LIMIT $3[0m  [["follower_id", 1], ["followed_id", 2], ["LIMIT", 1]]
[b7d3ff66-ff29-4255-8051-239e8679ee42]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[b7d3ff66-ff29-4255-8051-239e8679ee42]   [1m[36mFollow Destroy (0.5ms)[0m  [1m[31mDELETE FROM "follows" WHERE "follows"."id" = $1[0m  [["id", 7]]
[b7d3ff66-ff29-4255-8051-239e8679ee42]   [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
[b7d3ff66-ff29-4255-8051-239e8679ee42] Completed 204 No Content in 3ms (ActiveRecord: 1.3ms | Allocations: 838)


[33c768e6-b506-47d9-8a1f-39fe89a09dab] Started GET "/api/v1/users/1/feed" for ::1 at 2025-09-22 16:37:43 +0700
[33c768e6-b506-47d9-8a1f-39fe89a09dab] Processing by Api::V1::FeedsController#index as */*
[33c768e6-b506-47d9-8a1f-39fe89a09dab]   Parameters: {"user_id"=>"1"}
[33c768e6-b506-47d9-8a1f-39fe89a09dab]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[33c768e6-b506-47d9-8a1f-39fe89a09dab]   [1m[36mSleepSession Load (2.3ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."woke_at" IS NOT NULL AND "sleep_sessions"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "follows" ON "users"."id" = "follows"."followed_id" WHERE "follows"."follower_id" = $1) AND "sleep_sessions"."woke_at" BETWEEN $2 AND $3 ORDER BY "sleep_sessions"."duration_sec" DESC, "sleep_sessions"."woke_at" DESC, "sleep_sessions"."id" DESC[0m  [["follower_id", 1], ["woke_at", "2025-09-15 00:00:00"], ["woke_at", "2025-09-22 23:59:59.999999"]]
[33c768e6-b506-47d9-8a1f-39fe89a09dab] Completed 200 OK in 4ms (Views: 0.0ms | ActiveRecord: 2.4ms | Allocations: 1345)


[3fe50905-c9ab-4454-a4c4-aef68269cb37] Started GET "/api/v1/users/99/feed" for ::1 at 2025-09-22 16:37:43 +0700
[3fe50905-c9ab-4454-a4c4-aef68269cb37] Processing by Api::V1::FeedsController#index as */*
[3fe50905-c9ab-4454-a4c4-aef68269cb37]   Parameters: {"user_id"=>"99"}
[3fe50905-c9ab-4454-a4c4-aef68269cb37]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 99], ["LIMIT", 1]]
[3fe50905-c9ab-4454-a4c4-aef68269cb37] Completed 404 Not Found in 1ms (ActiveRecord: 0.2ms | Allocations: 218)


[3fe50905-c9ab-4454-a4c4-aef68269cb37]   
[3fe50905-c9ab-4454-a4c4-aef68269cb37] ActiveRecord::RecordNotFound (Couldn't find User with 'id'="99"):
[3fe50905-c9ab-4454-a4c4-aef68269cb37]   
[3fe50905-c9ab-4454-a4c4-aef68269cb37] app/controllers/api/v1/feeds_controller.rb:20:in `set_user'
[873ba051-46cd-40b1-b78a-711205010807] Started POST "/api/v1/users/1/sleep_sessions/clock_in" for ::1 at 2025-09-22 16:38:11 +0700
[873ba051-46cd-40b1-b78a-711205010807] Processing by Api::V1::SleepSessionsController#clock_in as */*
[873ba051-46cd-40b1-b78a-711205010807]   Parameters: {"user_id"=>"1"}
[873ba051-46cd-40b1-b78a-711205010807]   [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[873ba051-46cd-40b1-b78a-711205010807]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[873ba051-46cd-40b1-b78a-711205010807]   [1m[36mUser Load (0.6ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[873ba051-46cd-40b1-b78a-711205010807]   [1m[36mSleepSession Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[873ba051-46cd-40b1-b78a-711205010807]   [1m[36mSleepSession Create (0.4ms)[0m  [1m[32mINSERT INTO "sleep_sessions" ("user_id", "slept_at", "woke_at", "duration_sec", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 1], ["slept_at", "2025-09-22 09:38:11.762975"], ["woke_at", nil], ["duration_sec", nil], ["created_at", "2025-09-22 09:38:11.765927"], ["updated_at", "2025-09-22 09:38:11.765927"]]
[873ba051-46cd-40b1-b78a-711205010807]   [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
[873ba051-46cd-40b1-b78a-711205010807] Completed 201 Created in 13ms (Views: 0.3ms | ActiveRecord: 2.6ms | Allocations: 1321)


[52ac1cdd-1e69-494b-97b7-b3b5546f1b99] Started POST "/api/v1/users/1/sleep_sessions/clock_in" for ::1 at 2025-09-22 16:38:11 +0700
[52ac1cdd-1e69-494b-97b7-b3b5546f1b99] Processing by Api::V1::SleepSessionsController#clock_in as */*
[52ac1cdd-1e69-494b-97b7-b3b5546f1b99]   Parameters: {"user_id"=>"1"}
[52ac1cdd-1e69-494b-97b7-b3b5546f1b99]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[52ac1cdd-1e69-494b-97b7-b3b5546f1b99]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[52ac1cdd-1e69-494b-97b7-b3b5546f1b99]   [1m[36mUser Load (0.4ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[52ac1cdd-1e69-494b-97b7-b3b5546f1b99]   [1m[36mSleepSession Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[52ac1cdd-1e69-494b-97b7-b3b5546f1b99]   [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
[52ac1cdd-1e69-494b-97b7-b3b5546f1b99] Completed 422 Unprocessable Content in 3ms (Views: 0.1ms | ActiveRecord: 1.4ms | Allocations: 880)


[25ac34e1-0371-44cc-8e9d-feb323409916] Started POST "/api/v1/users/1/sleep_sessions/clock_out" for ::1 at 2025-09-22 16:38:11 +0700
[25ac34e1-0371-44cc-8e9d-feb323409916] Processing by Api::V1::SleepSessionsController#clock_out as */*
[25ac34e1-0371-44cc-8e9d-feb323409916]   Parameters: {"user_id"=>"1"}
[25ac34e1-0371-44cc-8e9d-feb323409916]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[25ac34e1-0371-44cc-8e9d-feb323409916]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[25ac34e1-0371-44cc-8e9d-feb323409916]   [1m[36mUser Load (0.4ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[25ac34e1-0371-44cc-8e9d-feb323409916]   [1m[36mSleepSession Load (0.2ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL ORDER BY "sleep_sessions"."slept_at" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[25ac34e1-0371-44cc-8e9d-feb323409916]   [1m[36mSleepSession Update (0.5ms)[0m  [1m[33mUPDATE "sleep_sessions" SET "woke_at" = $1, "duration_sec" = $2, "updated_at" = $3 WHERE "sleep_sessions"."id" = $4[0m  [["woke_at", "2025-09-22 09:38:11.805976"], ["duration_sec", 0], ["updated_at", "2025-09-22 09:38:11.806161"], ["id", 13]]
[25ac34e1-0371-44cc-8e9d-feb323409916]   [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
[25ac34e1-0371-44cc-8e9d-feb323409916] Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 1.7ms | Allocations: 1300)


[160efc2e-b7d3-41aa-8fa3-b2b109652a86] Started POST "/api/v1/users/1/sleep_sessions/clock_out" for ::1 at 2025-09-22 16:38:11 +0700
[160efc2e-b7d3-41aa-8fa3-b2b109652a86] Processing by Api::V1::SleepSessionsController#clock_out as */*
[160efc2e-b7d3-41aa-8fa3-b2b109652a86]   Parameters: {"user_id"=>"1"}
[160efc2e-b7d3-41aa-8fa3-b2b109652a86]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[160efc2e-b7d3-41aa-8fa3-b2b109652a86]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[160efc2e-b7d3-41aa-8fa3-b2b109652a86]   [1m[36mUser Load (0.4ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[160efc2e-b7d3-41aa-8fa3-b2b109652a86]   [1m[36mSleepSession Load (0.2ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL ORDER BY "sleep_sessions"."slept_at" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[160efc2e-b7d3-41aa-8fa3-b2b109652a86]   [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
[160efc2e-b7d3-41aa-8fa3-b2b109652a86] Completed 422 Unprocessable Content in 2ms (Views: 0.1ms | ActiveRecord: 1.2ms | Allocations: 914)


[b9110ac6-50e2-471d-9340-da502a25f9ec] Started POST "/api/v1/users/1/follows" for ::1 at 2025-09-22 16:38:11 +0700
[b9110ac6-50e2-471d-9340-da502a25f9ec] Processing by Api::V1::FollowsController#create as */*
[b9110ac6-50e2-471d-9340-da502a25f9ec]   Parameters: {"followed_id"=>2, "user_id"=>"1", "follow"=>{"followed_id"=>2}}
[b9110ac6-50e2-471d-9340-da502a25f9ec]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[b9110ac6-50e2-471d-9340-da502a25f9ec]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[b9110ac6-50e2-471d-9340-da502a25f9ec]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[b9110ac6-50e2-471d-9340-da502a25f9ec]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[b9110ac6-50e2-471d-9340-da502a25f9ec]   [1m[36mFollow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "follows" WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2 LIMIT $3[0m  [["follower_id", 1], ["followed_id", 2], ["LIMIT", 1]]
[b9110ac6-50e2-471d-9340-da502a25f9ec]   [1m[36mFollow Create (0.4ms)[0m  [1m[32mINSERT INTO "follows" ("follower_id", "followed_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["follower_id", 1], ["followed_id", 2], ["created_at", "2025-09-22 09:38:11.839998"], ["updated_at", "2025-09-22 09:38:11.839998"]]
[b9110ac6-50e2-471d-9340-da502a25f9ec]   [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
[b9110ac6-50e2-471d-9340-da502a25f9ec] Completed 201 Created in 6ms (Views: 0.1ms | ActiveRecord: 1.4ms | Allocations: 1395)


[3cb3abd5-09f9-4482-b593-64849a772f55] Started POST "/api/v1/users/1/follows" for ::1 at 2025-09-22 16:38:11 +0700
[3cb3abd5-09f9-4482-b593-64849a772f55] Processing by Api::V1::FollowsController#create as */*
[3cb3abd5-09f9-4482-b593-64849a772f55]   Parameters: {"followed_id"=>2, "user_id"=>"1", "follow"=>{"followed_id"=>2}}
[3cb3abd5-09f9-4482-b593-64849a772f55]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[3cb3abd5-09f9-4482-b593-64849a772f55]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[3cb3abd5-09f9-4482-b593-64849a772f55]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[3cb3abd5-09f9-4482-b593-64849a772f55]   [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[3cb3abd5-09f9-4482-b593-64849a772f55]   [1m[36mFollow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "follows" WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2 LIMIT $3[0m  [["follower_id", 1], ["followed_id", 2], ["LIMIT", 1]]
[3cb3abd5-09f9-4482-b593-64849a772f55]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
[3cb3abd5-09f9-4482-b593-64849a772f55] Completed 422 Unprocessable Content in 3ms (ActiveRecord: 1.1ms | Allocations: 1547)


[3cb3abd5-09f9-4482-b593-64849a772f55]   
[3cb3abd5-09f9-4482-b593-64849a772f55] ActiveRecord::RecordInvalid (Validation failed: Follower has already been taken):
[3cb3abd5-09f9-4482-b593-64849a772f55]   
[3cb3abd5-09f9-4482-b593-64849a772f55] app/controllers/api/v1/follows_controller.rb:7:in `create'
[98b32a70-8721-426f-b79f-febd401ec862] Started POST "/api/v1/users/1/follows" for ::1 at 2025-09-22 16:38:11 +0700
[98b32a70-8721-426f-b79f-febd401ec862] Processing by Api::V1::FollowsController#create as */*
[98b32a70-8721-426f-b79f-febd401ec862]   Parameters: {"followed_id"=>1, "user_id"=>"1", "follow"=>{"followed_id"=>1}}
[98b32a70-8721-426f-b79f-febd401ec862]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[98b32a70-8721-426f-b79f-febd401ec862]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[98b32a70-8721-426f-b79f-febd401ec862]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[98b32a70-8721-426f-b79f-febd401ec862]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[98b32a70-8721-426f-b79f-febd401ec862]   [1m[36mFollow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "follows" WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2 LIMIT $3[0m  [["follower_id", 1], ["followed_id", 1], ["LIMIT", 1]]
[98b32a70-8721-426f-b79f-febd401ec862]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
[98b32a70-8721-426f-b79f-febd401ec862] Completed 422 Unprocessable Content in 3ms (ActiveRecord: 0.9ms | Allocations: 1236)


[98b32a70-8721-426f-b79f-febd401ec862]   
[98b32a70-8721-426f-b79f-febd401ec862] ActiveRecord::RecordInvalid (Validation failed: cannot follow self):
[98b32a70-8721-426f-b79f-febd401ec862]   
[98b32a70-8721-426f-b79f-febd401ec862] app/controllers/api/v1/follows_controller.rb:7:in `create'
[3bfb8060-28c6-47ac-86a9-5bf4742f8e86] Started DELETE "/api/v1/users/1/follows/2" for ::1 at 2025-09-22 16:38:11 +0700
[3bfb8060-28c6-47ac-86a9-5bf4742f8e86] Processing by Api::V1::FollowsController#destroy as */*
[3bfb8060-28c6-47ac-86a9-5bf4742f8e86]   Parameters: {"user_id"=>"1", "followed_id"=>"2"}
[3bfb8060-28c6-47ac-86a9-5bf4742f8e86]   [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[3bfb8060-28c6-47ac-86a9-5bf4742f8e86]   [1m[36mFollow Load (0.3ms)[0m  [1m[34mSELECT "follows".* FROM "follows" WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2 LIMIT $3[0m  [["follower_id", 1], ["followed_id", 2], ["LIMIT", 1]]
[3bfb8060-28c6-47ac-86a9-5bf4742f8e86]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[3bfb8060-28c6-47ac-86a9-5bf4742f8e86]   [1m[36mFollow Destroy (0.3ms)[0m  [1m[31mDELETE FROM "follows" WHERE "follows"."id" = $1[0m  [["id", 8]]
[3bfb8060-28c6-47ac-86a9-5bf4742f8e86]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
[3bfb8060-28c6-47ac-86a9-5bf4742f8e86] Completed 204 No Content in 3ms (ActiveRecord: 1.2ms | Allocations: 738)


[bb3484db-350e-48ea-b957-a6db4651d713] Started GET "/api/v1/users/1/feed" for ::1 at 2025-09-22 16:38:11 +0700
[bb3484db-350e-48ea-b957-a6db4651d713] Processing by Api::V1::FeedsController#index as */*
[bb3484db-350e-48ea-b957-a6db4651d713]   Parameters: {"user_id"=>"1"}
[bb3484db-350e-48ea-b957-a6db4651d713]   [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[bb3484db-350e-48ea-b957-a6db4651d713]   [1m[36mSleepSession Load (1.0ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."woke_at" IS NOT NULL AND "sleep_sessions"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "follows" ON "users"."id" = "follows"."followed_id" WHERE "follows"."follower_id" = $1) AND "sleep_sessions"."woke_at" BETWEEN $2 AND $3 ORDER BY "sleep_sessions"."duration_sec" DESC, "sleep_sessions"."woke_at" DESC, "sleep_sessions"."id" DESC[0m  [["follower_id", 1], ["woke_at", "2025-09-15 00:00:00"], ["woke_at", "2025-09-22 23:59:59.999999"]]
[bb3484db-350e-48ea-b957-a6db4651d713] Completed 200 OK in 3ms (Views: 0.0ms | ActiveRecord: 1.3ms | Allocations: 1098)


[45cc28b8-a9d8-4abb-81cf-0b7153577e30] Started POST "/api/v1/users/1/sleep_sessions/clock_in" for ::1 at 2025-09-22 16:38:27 +0700
[45cc28b8-a9d8-4abb-81cf-0b7153577e30] Processing by Api::V1::SleepSessionsController#clock_in as */*
[45cc28b8-a9d8-4abb-81cf-0b7153577e30]   Parameters: {"user_id"=>"1"}
[45cc28b8-a9d8-4abb-81cf-0b7153577e30]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[45cc28b8-a9d8-4abb-81cf-0b7153577e30]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[45cc28b8-a9d8-4abb-81cf-0b7153577e30]   [1m[36mUser Load (0.6ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[45cc28b8-a9d8-4abb-81cf-0b7153577e30]   [1m[36mSleepSession Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[45cc28b8-a9d8-4abb-81cf-0b7153577e30]   [1m[36mSleepSession Create (0.6ms)[0m  [1m[32mINSERT INTO "sleep_sessions" ("user_id", "slept_at", "woke_at", "duration_sec", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 1], ["slept_at", "2025-09-22 09:38:27.172424"], ["woke_at", nil], ["duration_sec", nil], ["created_at", "2025-09-22 09:38:27.172852"], ["updated_at", "2025-09-22 09:38:27.172852"]]
[45cc28b8-a9d8-4abb-81cf-0b7153577e30]   [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
[45cc28b8-a9d8-4abb-81cf-0b7153577e30] Completed 201 Created in 5ms (Views: 0.1ms | ActiveRecord: 2.5ms | Allocations: 1320)


[a23ce115-46b8-48f5-bcf9-6f9b90c16ab8] Started POST "/api/v1/users/1/sleep_sessions/clock_in" for ::1 at 2025-09-22 16:38:27 +0700
[a23ce115-46b8-48f5-bcf9-6f9b90c16ab8] Processing by Api::V1::SleepSessionsController#clock_in as */*
[a23ce115-46b8-48f5-bcf9-6f9b90c16ab8]   Parameters: {"user_id"=>"1"}
[a23ce115-46b8-48f5-bcf9-6f9b90c16ab8]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[a23ce115-46b8-48f5-bcf9-6f9b90c16ab8]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[a23ce115-46b8-48f5-bcf9-6f9b90c16ab8]   [1m[36mUser Load (0.6ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[a23ce115-46b8-48f5-bcf9-6f9b90c16ab8]   [1m[36mSleepSession Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[a23ce115-46b8-48f5-bcf9-6f9b90c16ab8]   [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
[a23ce115-46b8-48f5-bcf9-6f9b90c16ab8] Completed 422 Unprocessable Content in 2ms (Views: 0.1ms | ActiveRecord: 1.4ms | Allocations: 880)


[254874c4-775d-41c3-9673-dab68b817632] Started POST "/api/v1/users/1/sleep_sessions/clock_out" for ::1 at 2025-09-22 16:38:27 +0700
[254874c4-775d-41c3-9673-dab68b817632] Processing by Api::V1::SleepSessionsController#clock_out as */*
[254874c4-775d-41c3-9673-dab68b817632]   Parameters: {"user_id"=>"1"}
[254874c4-775d-41c3-9673-dab68b817632]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[254874c4-775d-41c3-9673-dab68b817632]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[254874c4-775d-41c3-9673-dab68b817632]   [1m[36mUser Load (0.4ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[254874c4-775d-41c3-9673-dab68b817632]   [1m[36mSleepSession Load (0.2ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL ORDER BY "sleep_sessions"."slept_at" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[254874c4-775d-41c3-9673-dab68b817632]   [1m[36mSleepSession Update (0.4ms)[0m  [1m[33mUPDATE "sleep_sessions" SET "woke_at" = $1, "duration_sec" = $2, "updated_at" = $3 WHERE "sleep_sessions"."id" = $4[0m  [["woke_at", "2025-09-22 09:38:27.203837"], ["duration_sec", 0], ["updated_at", "2025-09-22 09:38:27.203988"], ["id", 14]]
[254874c4-775d-41c3-9673-dab68b817632]   [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
[254874c4-775d-41c3-9673-dab68b817632] Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 1.7ms | Allocations: 1300)


[28beedc4-0bae-45fc-824b-8b31c2ff197b] Started POST "/api/v1/users/1/sleep_sessions/clock_out" for ::1 at 2025-09-22 16:38:27 +0700
[28beedc4-0bae-45fc-824b-8b31c2ff197b] Processing by Api::V1::SleepSessionsController#clock_out as */*
[28beedc4-0bae-45fc-824b-8b31c2ff197b]   Parameters: {"user_id"=>"1"}
[28beedc4-0bae-45fc-824b-8b31c2ff197b]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[28beedc4-0bae-45fc-824b-8b31c2ff197b]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[28beedc4-0bae-45fc-824b-8b31c2ff197b]   [1m[36mUser Load (0.4ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[28beedc4-0bae-45fc-824b-8b31c2ff197b]   [1m[36mSleepSession Load (0.1ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL ORDER BY "sleep_sessions"."slept_at" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[28beedc4-0bae-45fc-824b-8b31c2ff197b]   [1m[36mTRANSACTION (8.2ms)[0m  [1m[35mCOMMIT[0m
[28beedc4-0bae-45fc-824b-8b31c2ff197b] Completed 422 Unprocessable Content in 11ms (Views: 0.2ms | ActiveRecord: 8.9ms | Allocations: 914)


[4d9ebbd7-6f79-42e4-9f47-5d7a6782d359] Started POST "/api/v1/users/1/follows" for ::1 at 2025-09-22 16:38:27 +0700
[4d9ebbd7-6f79-42e4-9f47-5d7a6782d359] Processing by Api::V1::FollowsController#create as */*
[4d9ebbd7-6f79-42e4-9f47-5d7a6782d359]   Parameters: {"followed_id"=>2, "user_id"=>"1", "follow"=>{"followed_id"=>2}}
[4d9ebbd7-6f79-42e4-9f47-5d7a6782d359]   [1m[36mUser Load (7.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[4d9ebbd7-6f79-42e4-9f47-5d7a6782d359]   [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[4d9ebbd7-6f79-42e4-9f47-5d7a6782d359]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[4d9ebbd7-6f79-42e4-9f47-5d7a6782d359]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[4d9ebbd7-6f79-42e4-9f47-5d7a6782d359]   [1m[36mFollow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "follows" WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2 LIMIT $3[0m  [["follower_id", 1], ["followed_id", 2], ["LIMIT", 1]]
[4d9ebbd7-6f79-42e4-9f47-5d7a6782d359]   [1m[36mFollow Create (0.6ms)[0m  [1m[32mINSERT INTO "follows" ("follower_id", "followed_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["follower_id", 1], ["followed_id", 2], ["created_at", "2025-09-22 09:38:27.268881"], ["updated_at", "2025-09-22 09:38:27.268881"]]
[4d9ebbd7-6f79-42e4-9f47-5d7a6782d359]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
[4d9ebbd7-6f79-42e4-9f47-5d7a6782d359] Completed 201 Created in 13ms (Views: 0.1ms | ActiveRecord: 9.0ms | Allocations: 1395)


[730eafe0-cbe7-447f-8118-3cdc1a90cdba] Started POST "/api/v1/users/1/follows" for ::1 at 2025-09-22 16:38:27 +0700
[730eafe0-cbe7-447f-8118-3cdc1a90cdba] Processing by Api::V1::FollowsController#create as */*
[730eafe0-cbe7-447f-8118-3cdc1a90cdba]   Parameters: {"followed_id"=>2, "user_id"=>"1", "follow"=>{"followed_id"=>2}}
[730eafe0-cbe7-447f-8118-3cdc1a90cdba]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[730eafe0-cbe7-447f-8118-3cdc1a90cdba]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[730eafe0-cbe7-447f-8118-3cdc1a90cdba]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[730eafe0-cbe7-447f-8118-3cdc1a90cdba]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[730eafe0-cbe7-447f-8118-3cdc1a90cdba]   [1m[36mFollow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "follows" WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2 LIMIT $3[0m  [["follower_id", 1], ["followed_id", 2], ["LIMIT", 1]]
[730eafe0-cbe7-447f-8118-3cdc1a90cdba]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
[730eafe0-cbe7-447f-8118-3cdc1a90cdba] Completed 422 Unprocessable Content in 3ms (ActiveRecord: 1.0ms | Allocations: 1547)


[730eafe0-cbe7-447f-8118-3cdc1a90cdba]   
[730eafe0-cbe7-447f-8118-3cdc1a90cdba] ActiveRecord::RecordInvalid (Validation failed: Follower has already been taken):
[730eafe0-cbe7-447f-8118-3cdc1a90cdba]   
[730eafe0-cbe7-447f-8118-3cdc1a90cdba] app/controllers/api/v1/follows_controller.rb:7:in `create'
[a2e5dead-d3fb-4075-abc6-4b3d525c61bc] Started POST "/api/v1/users/1/follows" for ::1 at 2025-09-22 16:38:27 +0700
[a2e5dead-d3fb-4075-abc6-4b3d525c61bc] Processing by Api::V1::FollowsController#create as */*
[a2e5dead-d3fb-4075-abc6-4b3d525c61bc]   Parameters: {"followed_id"=>1, "user_id"=>"1", "follow"=>{"followed_id"=>1}}
[a2e5dead-d3fb-4075-abc6-4b3d525c61bc]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[a2e5dead-d3fb-4075-abc6-4b3d525c61bc]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[a2e5dead-d3fb-4075-abc6-4b3d525c61bc]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[a2e5dead-d3fb-4075-abc6-4b3d525c61bc]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[a2e5dead-d3fb-4075-abc6-4b3d525c61bc]   [1m[36mFollow Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "follows" WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2 LIMIT $3[0m  [["follower_id", 1], ["followed_id", 1], ["LIMIT", 1]]
[a2e5dead-d3fb-4075-abc6-4b3d525c61bc]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
[a2e5dead-d3fb-4075-abc6-4b3d525c61bc] Completed 422 Unprocessable Content in 3ms (ActiveRecord: 1.1ms | Allocations: 1236)


[a2e5dead-d3fb-4075-abc6-4b3d525c61bc]   
[a2e5dead-d3fb-4075-abc6-4b3d525c61bc] ActiveRecord::RecordInvalid (Validation failed: cannot follow self):
[a2e5dead-d3fb-4075-abc6-4b3d525c61bc]   
[a2e5dead-d3fb-4075-abc6-4b3d525c61bc] app/controllers/api/v1/follows_controller.rb:7:in `create'
[eb324196-62ef-4989-8209-665ca01b2db3] Started DELETE "/api/v1/users/1/follows/2" for ::1 at 2025-09-22 16:38:27 +0700
[eb324196-62ef-4989-8209-665ca01b2db3] Processing by Api::V1::FollowsController#destroy as */*
[eb324196-62ef-4989-8209-665ca01b2db3]   Parameters: {"user_id"=>"1", "followed_id"=>"2"}
[eb324196-62ef-4989-8209-665ca01b2db3]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[eb324196-62ef-4989-8209-665ca01b2db3]   [1m[36mFollow Load (0.2ms)[0m  [1m[34mSELECT "follows".* FROM "follows" WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2 LIMIT $3[0m  [["follower_id", 1], ["followed_id", 2], ["LIMIT", 1]]
[eb324196-62ef-4989-8209-665ca01b2db3]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[eb324196-62ef-4989-8209-665ca01b2db3]   [1m[36mFollow Destroy (0.5ms)[0m  [1m[31mDELETE FROM "follows" WHERE "follows"."id" = $1[0m  [["id", 9]]
[eb324196-62ef-4989-8209-665ca01b2db3]   [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
[eb324196-62ef-4989-8209-665ca01b2db3] Completed 204 No Content in 3ms (ActiveRecord: 1.4ms | Allocations: 738)


[fc54e38f-d8a6-44ad-b9d0-21a3dabcace3] Started POST "/api/v1/users" for ::1 at 2025-09-22 16:39:31 +0700
[fc54e38f-d8a6-44ad-b9d0-21a3dabcace3]   
[fc54e38f-d8a6-44ad-b9d0-21a3dabcace3] ActionController::RoutingError (No route matches [POST] "/api/v1/users"):
[fc54e38f-d8a6-44ad-b9d0-21a3dabcace3]   
[66bbef5c-ecab-474d-b333-ccea7d712bf3] Started POST "/api/v1/users" for ::1 at 2025-09-22 16:39:31 +0700
[66bbef5c-ecab-474d-b333-ccea7d712bf3]   
[66bbef5c-ecab-474d-b333-ccea7d712bf3] ActionController::RoutingError (No route matches [POST] "/api/v1/users"):
[66bbef5c-ecab-474d-b333-ccea7d712bf3]   
[b7453383-b57d-4861-bcff-d81040fd7cc1] Started POST "/api/v1/users/1/sleep_sessions/clock_in" for ::1 at 2025-09-22 16:39:31 +0700
[b7453383-b57d-4861-bcff-d81040fd7cc1] Processing by Api::V1::SleepSessionsController#clock_in as */*
[b7453383-b57d-4861-bcff-d81040fd7cc1]   Parameters: {"user_id"=>"1"}
[b7453383-b57d-4861-bcff-d81040fd7cc1]   [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[b7453383-b57d-4861-bcff-d81040fd7cc1]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[b7453383-b57d-4861-bcff-d81040fd7cc1]   [1m[36mUser Load (1.2ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[b7453383-b57d-4861-bcff-d81040fd7cc1]   [1m[36mSleepSession Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[b7453383-b57d-4861-bcff-d81040fd7cc1]   [1m[36mSleepSession Create (0.7ms)[0m  [1m[32mINSERT INTO "sleep_sessions" ("user_id", "slept_at", "woke_at", "duration_sec", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 1], ["slept_at", "2025-09-22 09:39:31.718111"], ["woke_at", nil], ["duration_sec", nil], ["created_at", "2025-09-22 09:39:31.719324"], ["updated_at", "2025-09-22 09:39:31.719324"]]
[b7453383-b57d-4861-bcff-d81040fd7cc1]   [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
[b7453383-b57d-4861-bcff-d81040fd7cc1] Completed 201 Created in 8ms (Views: 0.1ms | ActiveRecord: 4.3ms | Allocations: 1320)


[fad4f9b8-c477-4380-b0fc-53a16836d0f3] Started POST "/api/v1/users/1/sleep_sessions/clock_in" for ::1 at 2025-09-22 16:39:31 +0700
[fad4f9b8-c477-4380-b0fc-53a16836d0f3] Processing by Api::V1::SleepSessionsController#clock_in as */*
[fad4f9b8-c477-4380-b0fc-53a16836d0f3]   Parameters: {"user_id"=>"1"}
[fad4f9b8-c477-4380-b0fc-53a16836d0f3]   [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[fad4f9b8-c477-4380-b0fc-53a16836d0f3]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[fad4f9b8-c477-4380-b0fc-53a16836d0f3]   [1m[36mUser Load (0.5ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[fad4f9b8-c477-4380-b0fc-53a16836d0f3]   [1m[36mSleepSession Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[fad4f9b8-c477-4380-b0fc-53a16836d0f3]   [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
[fad4f9b8-c477-4380-b0fc-53a16836d0f3] Completed 422 Unprocessable Content in 4ms (Views: 0.1ms | ActiveRecord: 1.4ms | Allocations: 880)


[ba6c08be-8751-4d29-b0c0-d5834944c5b0] Started POST "/api/v1/users/1/sleep_sessions/clock_out" for ::1 at 2025-09-22 16:39:31 +0700
[ba6c08be-8751-4d29-b0c0-d5834944c5b0] Processing by Api::V1::SleepSessionsController#clock_out as */*
[ba6c08be-8751-4d29-b0c0-d5834944c5b0]   Parameters: {"user_id"=>"1"}
[ba6c08be-8751-4d29-b0c0-d5834944c5b0]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ba6c08be-8751-4d29-b0c0-d5834944c5b0]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[ba6c08be-8751-4d29-b0c0-d5834944c5b0]   [1m[36mUser Load (0.6ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[ba6c08be-8751-4d29-b0c0-d5834944c5b0]   [1m[36mSleepSession Load (0.2ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL ORDER BY "sleep_sessions"."slept_at" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[ba6c08be-8751-4d29-b0c0-d5834944c5b0]   [1m[36mSleepSession Update (0.3ms)[0m  [1m[33mUPDATE "sleep_sessions" SET "woke_at" = $1, "duration_sec" = $2, "updated_at" = $3 WHERE "sleep_sessions"."id" = $4[0m  [["woke_at", "2025-09-22 09:39:31.749309"], ["duration_sec", 0], ["updated_at", "2025-09-22 09:39:31.749467"], ["id", 15]]
[ba6c08be-8751-4d29-b0c0-d5834944c5b0]   [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
[ba6c08be-8751-4d29-b0c0-d5834944c5b0] Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 1.8ms | Allocations: 1300)


[d6ca2b77-3c95-4c8a-8737-57ed1453ad31] Started POST "/api/v1/users/1/sleep_sessions/clock_out" for ::1 at 2025-09-22 16:39:31 +0700
[d6ca2b77-3c95-4c8a-8737-57ed1453ad31] Processing by Api::V1::SleepSessionsController#clock_out as */*
[d6ca2b77-3c95-4c8a-8737-57ed1453ad31]   Parameters: {"user_id"=>"1"}
[d6ca2b77-3c95-4c8a-8737-57ed1453ad31]   [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[d6ca2b77-3c95-4c8a-8737-57ed1453ad31]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[d6ca2b77-3c95-4c8a-8737-57ed1453ad31]   [1m[36mUser Load (0.6ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[d6ca2b77-3c95-4c8a-8737-57ed1453ad31]   [1m[36mSleepSession Load (0.2ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL ORDER BY "sleep_sessions"."slept_at" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[d6ca2b77-3c95-4c8a-8737-57ed1453ad31]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
[d6ca2b77-3c95-4c8a-8737-57ed1453ad31] Completed 422 Unprocessable Content in 3ms (Views: 0.3ms | ActiveRecord: 1.3ms | Allocations: 914)


[16b60095-12fc-4baa-a45d-2ec9e347f880] Started GET "/api/v1/users/1/sleep_sessions" for ::1 at 2025-09-22 16:39:31 +0700
[16b60095-12fc-4baa-a45d-2ec9e347f880] Processing by Api::V1::SleepSessionsController#index as */*
[16b60095-12fc-4baa-a45d-2ec9e347f880]   Parameters: {"user_id"=>"1"}
[16b60095-12fc-4baa-a45d-2ec9e347f880]   [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[16b60095-12fc-4baa-a45d-2ec9e347f880]   [1m[36mSleepSession Load (0.6ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 ORDER BY "sleep_sessions"."created_at" ASC[0m  [["user_id", 1]]
[16b60095-12fc-4baa-a45d-2ec9e347f880] Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 1150)


[68cc0bfd-b9c0-430c-981b-50c810aeb122] Started POST "/api/v1/users/1/follows" for ::1 at 2025-09-22 16:39:31 +0700
[68cc0bfd-b9c0-430c-981b-50c810aeb122] Processing by Api::V1::FollowsController#create as */*
[68cc0bfd-b9c0-430c-981b-50c810aeb122]   Parameters: {"followed_id"=>2, "user_id"=>"1", "follow"=>{"followed_id"=>2}}
[68cc0bfd-b9c0-430c-981b-50c810aeb122]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[68cc0bfd-b9c0-430c-981b-50c810aeb122]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[68cc0bfd-b9c0-430c-981b-50c810aeb122]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[68cc0bfd-b9c0-430c-981b-50c810aeb122]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[68cc0bfd-b9c0-430c-981b-50c810aeb122]   [1m[36mFollow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "follows" WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2 LIMIT $3[0m  [["follower_id", 1], ["followed_id", 2], ["LIMIT", 1]]
[68cc0bfd-b9c0-430c-981b-50c810aeb122]   [1m[36mFollow Create (0.6ms)[0m  [1m[32mINSERT INTO "follows" ("follower_id", "followed_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["follower_id", 1], ["followed_id", 2], ["created_at", "2025-09-22 09:39:31.802985"], ["updated_at", "2025-09-22 09:39:31.802985"]]
[68cc0bfd-b9c0-430c-981b-50c810aeb122]   [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
[68cc0bfd-b9c0-430c-981b-50c810aeb122] Completed 201 Created in 4ms (Views: 0.1ms | ActiveRecord: 1.8ms | Allocations: 1396)


[c3fe21f2-fe9d-4ae2-a16c-fd918baaa527] Started POST "/api/v1/users/1/follows" for ::1 at 2025-09-22 16:39:31 +0700
[c3fe21f2-fe9d-4ae2-a16c-fd918baaa527] Processing by Api::V1::FollowsController#create as */*
[c3fe21f2-fe9d-4ae2-a16c-fd918baaa527]   Parameters: {"followed_id"=>2, "user_id"=>"1", "follow"=>{"followed_id"=>2}}
[c3fe21f2-fe9d-4ae2-a16c-fd918baaa527]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[c3fe21f2-fe9d-4ae2-a16c-fd918baaa527]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[c3fe21f2-fe9d-4ae2-a16c-fd918baaa527]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[c3fe21f2-fe9d-4ae2-a16c-fd918baaa527]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[c3fe21f2-fe9d-4ae2-a16c-fd918baaa527]   [1m[36mFollow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "follows" WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2 LIMIT $3[0m  [["follower_id", 1], ["followed_id", 2], ["LIMIT", 1]]
[c3fe21f2-fe9d-4ae2-a16c-fd918baaa527]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
[c3fe21f2-fe9d-4ae2-a16c-fd918baaa527] Completed 422 Unprocessable Content in 3ms (ActiveRecord: 1.0ms | Allocations: 1547)


[c3fe21f2-fe9d-4ae2-a16c-fd918baaa527]   
[c3fe21f2-fe9d-4ae2-a16c-fd918baaa527] ActiveRecord::RecordInvalid (Validation failed: Follower has already been taken):
[c3fe21f2-fe9d-4ae2-a16c-fd918baaa527]   
[c3fe21f2-fe9d-4ae2-a16c-fd918baaa527] app/controllers/api/v1/follows_controller.rb:7:in `create'
[681b3ba8-3eda-4c66-a26d-23372bccb390] Started POST "/api/v1/users/1/follows" for ::1 at 2025-09-22 16:39:31 +0700
[681b3ba8-3eda-4c66-a26d-23372bccb390] Processing by Api::V1::FollowsController#create as */*
[681b3ba8-3eda-4c66-a26d-23372bccb390]   Parameters: {"followed_id"=>1, "user_id"=>"1", "follow"=>{"followed_id"=>1}}
[681b3ba8-3eda-4c66-a26d-23372bccb390]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[681b3ba8-3eda-4c66-a26d-23372bccb390]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[681b3ba8-3eda-4c66-a26d-23372bccb390]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[681b3ba8-3eda-4c66-a26d-23372bccb390]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[681b3ba8-3eda-4c66-a26d-23372bccb390]   [1m[36mFollow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "follows" WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2 LIMIT $3[0m  [["follower_id", 1], ["followed_id", 1], ["LIMIT", 1]]
[681b3ba8-3eda-4c66-a26d-23372bccb390]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
[681b3ba8-3eda-4c66-a26d-23372bccb390] Completed 422 Unprocessable Content in 2ms (ActiveRecord: 0.7ms | Allocations: 1236)


[681b3ba8-3eda-4c66-a26d-23372bccb390]   
[681b3ba8-3eda-4c66-a26d-23372bccb390] ActiveRecord::RecordInvalid (Validation failed: cannot follow self):
[681b3ba8-3eda-4c66-a26d-23372bccb390]   
[681b3ba8-3eda-4c66-a26d-23372bccb390] app/controllers/api/v1/follows_controller.rb:7:in `create'
[646a3a78-3931-4dfe-b933-8d876f03ab9b] Started DELETE "/api/v1/users/1/follows/2" for ::1 at 2025-09-22 16:39:31 +0700
[646a3a78-3931-4dfe-b933-8d876f03ab9b] Processing by Api::V1::FollowsController#destroy as */*
[646a3a78-3931-4dfe-b933-8d876f03ab9b]   Parameters: {"user_id"=>"1", "followed_id"=>"2"}
[646a3a78-3931-4dfe-b933-8d876f03ab9b]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[646a3a78-3931-4dfe-b933-8d876f03ab9b]   [1m[36mFollow Load (0.4ms)[0m  [1m[34mSELECT "follows".* FROM "follows" WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2 LIMIT $3[0m  [["follower_id", 1], ["followed_id", 2], ["LIMIT", 1]]
[646a3a78-3931-4dfe-b933-8d876f03ab9b]   [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
[646a3a78-3931-4dfe-b933-8d876f03ab9b]   [1m[36mFollow Destroy (2.1ms)[0m  [1m[31mDELETE FROM "follows" WHERE "follows"."id" = $1[0m  [["id", 10]]
[646a3a78-3931-4dfe-b933-8d876f03ab9b]   [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
[646a3a78-3931-4dfe-b933-8d876f03ab9b] Completed 204 No Content in 9ms (ActiveRecord: 4.5ms | Allocations: 738)


[720ff306-40d3-4ca7-8678-062c37c01246] Started POST "/api/v1/users" for ::1 at 2025-09-22 16:41:10 +0700
[720ff306-40d3-4ca7-8678-062c37c01246]   
[720ff306-40d3-4ca7-8678-062c37c01246] ActionController::RoutingError (No route matches [POST] "/api/v1/users"):
[720ff306-40d3-4ca7-8678-062c37c01246]   
[8e9527e4-5335-4acc-b3fb-a9758e357e5a] Started POST "/api/v1/users" for ::1 at 2025-09-22 16:41:10 +0700
[8e9527e4-5335-4acc-b3fb-a9758e357e5a]   
[8e9527e4-5335-4acc-b3fb-a9758e357e5a] ActionController::RoutingError (No route matches [POST] "/api/v1/users"):
[8e9527e4-5335-4acc-b3fb-a9758e357e5a]   
[427a51c0-a31e-45c7-80d2-96de80694acf] Started POST "/api/v1/users/1/sleep_sessions/clock_in" for ::1 at 2025-09-22 16:41:10 +0700
[427a51c0-a31e-45c7-80d2-96de80694acf] Processing by Api::V1::SleepSessionsController#clock_in as */*
[427a51c0-a31e-45c7-80d2-96de80694acf]   Parameters: {"user_id"=>"1"}
[427a51c0-a31e-45c7-80d2-96de80694acf]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[427a51c0-a31e-45c7-80d2-96de80694acf]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[427a51c0-a31e-45c7-80d2-96de80694acf]   [1m[36mUser Load (0.5ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[427a51c0-a31e-45c7-80d2-96de80694acf]   [1m[36mSleepSession Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[427a51c0-a31e-45c7-80d2-96de80694acf]   [1m[36mSleepSession Create (0.3ms)[0m  [1m[32mINSERT INTO "sleep_sessions" ("user_id", "slept_at", "woke_at", "duration_sec", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 1], ["slept_at", "2025-09-22 09:41:10.237006"], ["woke_at", nil], ["duration_sec", nil], ["created_at", "2025-09-22 09:41:10.240427"], ["updated_at", "2025-09-22 09:41:10.240427"]]
[427a51c0-a31e-45c7-80d2-96de80694acf]   [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
[427a51c0-a31e-45c7-80d2-96de80694acf] Completed 201 Created in 30ms (Views: 0.2ms | ActiveRecord: 17.7ms | Allocations: 10208)


[86d9cf88-8428-443f-8e57-6c7c098cc3bd] Started POST "/api/v1/users/1/sleep_sessions/clock_in" for ::1 at 2025-09-22 16:41:10 +0700
[86d9cf88-8428-443f-8e57-6c7c098cc3bd] Processing by Api::V1::SleepSessionsController#clock_in as */*
[86d9cf88-8428-443f-8e57-6c7c098cc3bd]   Parameters: {"user_id"=>"1"}
[86d9cf88-8428-443f-8e57-6c7c098cc3bd]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[86d9cf88-8428-443f-8e57-6c7c098cc3bd]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[86d9cf88-8428-443f-8e57-6c7c098cc3bd]   [1m[36mUser Load (0.6ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[86d9cf88-8428-443f-8e57-6c7c098cc3bd]   [1m[36mSleepSession Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[86d9cf88-8428-443f-8e57-6c7c098cc3bd]   [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
[86d9cf88-8428-443f-8e57-6c7c098cc3bd] Completed 422 Unprocessable Content in 3ms (Views: 0.1ms | ActiveRecord: 1.5ms | Allocations: 887)


[883b4fa0-a3b5-46d4-b123-886282a064c9] Started POST "/api/v1/users/1/sleep_sessions/clock_out" for ::1 at 2025-09-22 16:41:10 +0700
[883b4fa0-a3b5-46d4-b123-886282a064c9] Processing by Api::V1::SleepSessionsController#clock_out as */*
[883b4fa0-a3b5-46d4-b123-886282a064c9]   Parameters: {"user_id"=>"1"}
[883b4fa0-a3b5-46d4-b123-886282a064c9]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[883b4fa0-a3b5-46d4-b123-886282a064c9]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[883b4fa0-a3b5-46d4-b123-886282a064c9]   [1m[36mUser Load (0.4ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[883b4fa0-a3b5-46d4-b123-886282a064c9]   [1m[36mSleepSession Load (0.1ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL ORDER BY "sleep_sessions"."slept_at" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[883b4fa0-a3b5-46d4-b123-886282a064c9]   [1m[36mSleepSession Update (0.2ms)[0m  [1m[33mUPDATE "sleep_sessions" SET "woke_at" = $1, "duration_sec" = $2, "updated_at" = $3 WHERE "sleep_sessions"."id" = $4[0m  [["woke_at", "2025-09-22 09:41:10.270451"], ["duration_sec", 0], ["updated_at", "2025-09-22 09:41:10.270625"], ["id", 16]]
[883b4fa0-a3b5-46d4-b123-886282a064c9]   [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
[883b4fa0-a3b5-46d4-b123-886282a064c9] Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 1.3ms | Allocations: 1404)


[d41c91c8-938e-4ba1-8872-1701aeab0c73] Started POST "/api/v1/users/1/sleep_sessions/clock_out" for ::1 at 2025-09-22 16:41:10 +0700
[d41c91c8-938e-4ba1-8872-1701aeab0c73] Processing by Api::V1::SleepSessionsController#clock_out as */*
[d41c91c8-938e-4ba1-8872-1701aeab0c73]   Parameters: {"user_id"=>"1"}
[d41c91c8-938e-4ba1-8872-1701aeab0c73]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[d41c91c8-938e-4ba1-8872-1701aeab0c73]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[d41c91c8-938e-4ba1-8872-1701aeab0c73]   [1m[36mUser Load (0.6ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[d41c91c8-938e-4ba1-8872-1701aeab0c73]   [1m[36mSleepSession Load (0.2ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL ORDER BY "sleep_sessions"."slept_at" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[d41c91c8-938e-4ba1-8872-1701aeab0c73]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
[d41c91c8-938e-4ba1-8872-1701aeab0c73] Completed 422 Unprocessable Content in 2ms (Views: 0.3ms | ActiveRecord: 1.3ms | Allocations: 915)


[3d2b8eea-14b1-4dee-9e87-6d58f2167ff7] Started GET "/api/v1/users/1/sleep_sessions" for ::1 at 2025-09-22 16:41:10 +0700
[3d2b8eea-14b1-4dee-9e87-6d58f2167ff7] Processing by Api::V1::SleepSessionsController#index as */*
[3d2b8eea-14b1-4dee-9e87-6d58f2167ff7]   Parameters: {"user_id"=>"1"}
[3d2b8eea-14b1-4dee-9e87-6d58f2167ff7]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[3d2b8eea-14b1-4dee-9e87-6d58f2167ff7]   [1m[36mSleepSession Load (0.5ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 ORDER BY "sleep_sessions"."created_at" ASC[0m  [["user_id", 1]]
[3d2b8eea-14b1-4dee-9e87-6d58f2167ff7] Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 1196)


[b5b682f8-96cd-4d15-88e3-a4e7c6815f9a] Started POST "/api/v1/users/1/follows" for ::1 at 2025-09-22 16:41:10 +0700
[b5b682f8-96cd-4d15-88e3-a4e7c6815f9a] Processing by Api::V1::FollowsController#create as */*
[b5b682f8-96cd-4d15-88e3-a4e7c6815f9a]   Parameters: {"followed_id"=>2, "user_id"=>"1", "follow"=>{"followed_id"=>2}}
[b5b682f8-96cd-4d15-88e3-a4e7c6815f9a]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[b5b682f8-96cd-4d15-88e3-a4e7c6815f9a]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[b5b682f8-96cd-4d15-88e3-a4e7c6815f9a]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[b5b682f8-96cd-4d15-88e3-a4e7c6815f9a]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[b5b682f8-96cd-4d15-88e3-a4e7c6815f9a]   [1m[36mFollow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "follows" WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2 LIMIT $3[0m  [["follower_id", 1], ["followed_id", 2], ["LIMIT", 1]]
[b5b682f8-96cd-4d15-88e3-a4e7c6815f9a]   [1m[36mFollow Create (0.4ms)[0m  [1m[32mINSERT INTO "follows" ("follower_id", "followed_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["follower_id", 1], ["followed_id", 2], ["created_at", "2025-09-22 09:41:10.328413"], ["updated_at", "2025-09-22 09:41:10.328413"]]
[b5b682f8-96cd-4d15-88e3-a4e7c6815f9a]   [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
[b5b682f8-96cd-4d15-88e3-a4e7c6815f9a] Completed 201 Created in 6ms (Views: 0.1ms | ActiveRecord: 4.2ms | Allocations: 4328)


[eed20ef0-a495-4f77-9952-e8d401c3c340] Started POST "/api/v1/users/1/follows" for ::1 at 2025-09-22 16:41:10 +0700
[eed20ef0-a495-4f77-9952-e8d401c3c340] Processing by Api::V1::FollowsController#create as */*
[eed20ef0-a495-4f77-9952-e8d401c3c340]   Parameters: {"followed_id"=>2, "user_id"=>"1", "follow"=>{"followed_id"=>2}}
[eed20ef0-a495-4f77-9952-e8d401c3c340]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[eed20ef0-a495-4f77-9952-e8d401c3c340]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[eed20ef0-a495-4f77-9952-e8d401c3c340]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[eed20ef0-a495-4f77-9952-e8d401c3c340]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[eed20ef0-a495-4f77-9952-e8d401c3c340]   [1m[36mFollow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "follows" WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2 LIMIT $3[0m  [["follower_id", 1], ["followed_id", 2], ["LIMIT", 1]]
[eed20ef0-a495-4f77-9952-e8d401c3c340]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
[eed20ef0-a495-4f77-9952-e8d401c3c340] Completed 422 Unprocessable Content in 4ms (ActiveRecord: 1.0ms | Allocations: 1577)


[eed20ef0-a495-4f77-9952-e8d401c3c340]   
[eed20ef0-a495-4f77-9952-e8d401c3c340] ActiveRecord::RecordInvalid (Validation failed: Follower has already been taken):
[eed20ef0-a495-4f77-9952-e8d401c3c340]   
[eed20ef0-a495-4f77-9952-e8d401c3c340] app/controllers/api/v1/follows_controller.rb:7:in `create'
[bc56d047-fd77-475f-aa41-f2743ad90b0b] Started POST "/api/v1/users/1/follows" for ::1 at 2025-09-22 16:41:10 +0700
[bc56d047-fd77-475f-aa41-f2743ad90b0b] Processing by Api::V1::FollowsController#create as */*
[bc56d047-fd77-475f-aa41-f2743ad90b0b]   Parameters: {"followed_id"=>1, "user_id"=>"1", "follow"=>{"followed_id"=>1}}
[bc56d047-fd77-475f-aa41-f2743ad90b0b]   [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[bc56d047-fd77-475f-aa41-f2743ad90b0b]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[bc56d047-fd77-475f-aa41-f2743ad90b0b]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[bc56d047-fd77-475f-aa41-f2743ad90b0b]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[bc56d047-fd77-475f-aa41-f2743ad90b0b]   [1m[36mFollow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "follows" WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2 LIMIT $3[0m  [["follower_id", 1], ["followed_id", 1], ["LIMIT", 1]]
[bc56d047-fd77-475f-aa41-f2743ad90b0b]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
[bc56d047-fd77-475f-aa41-f2743ad90b0b] Completed 422 Unprocessable Content in 4ms (ActiveRecord: 1.1ms | Allocations: 1236)


[bc56d047-fd77-475f-aa41-f2743ad90b0b]   
[bc56d047-fd77-475f-aa41-f2743ad90b0b] ActiveRecord::RecordInvalid (Validation failed: cannot follow self):
[bc56d047-fd77-475f-aa41-f2743ad90b0b]   
[bc56d047-fd77-475f-aa41-f2743ad90b0b] app/controllers/api/v1/follows_controller.rb:7:in `create'
[b6c22cc9-8955-4772-98d2-86fdeda57d9d] Started DELETE "/api/v1/users/1/follows/2" for ::1 at 2025-09-22 16:41:10 +0700
[b6c22cc9-8955-4772-98d2-86fdeda57d9d] Processing by Api::V1::FollowsController#destroy as */*
[b6c22cc9-8955-4772-98d2-86fdeda57d9d]   Parameters: {"user_id"=>"1", "followed_id"=>"2"}
[b6c22cc9-8955-4772-98d2-86fdeda57d9d]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[b6c22cc9-8955-4772-98d2-86fdeda57d9d]   [1m[36mFollow Load (0.3ms)[0m  [1m[34mSELECT "follows".* FROM "follows" WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2 LIMIT $3[0m  [["follower_id", 1], ["followed_id", 2], ["LIMIT", 1]]
[b6c22cc9-8955-4772-98d2-86fdeda57d9d]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[b6c22cc9-8955-4772-98d2-86fdeda57d9d]   [1m[36mFollow Destroy (0.3ms)[0m  [1m[31mDELETE FROM "follows" WHERE "follows"."id" = $1[0m  [["id", 11]]
[b6c22cc9-8955-4772-98d2-86fdeda57d9d]   [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
[b6c22cc9-8955-4772-98d2-86fdeda57d9d] Completed 204 No Content in 3ms (ActiveRecord: 1.1ms | Allocations: 836)


[63ad0829-f084-4f07-b2be-90b2b6b1b3e4] Started GET "/api/v1/users/1/feed" for ::1 at 2025-09-22 16:41:10 +0700
[63ad0829-f084-4f07-b2be-90b2b6b1b3e4] Processing by Api::V1::FeedsController#index as */*
[63ad0829-f084-4f07-b2be-90b2b6b1b3e4]   Parameters: {"user_id"=>"1"}
[63ad0829-f084-4f07-b2be-90b2b6b1b3e4]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[63ad0829-f084-4f07-b2be-90b2b6b1b3e4]   [1m[36mSleepSession Load (1.0ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."woke_at" IS NOT NULL AND "sleep_sessions"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "follows" ON "users"."id" = "follows"."followed_id" WHERE "follows"."follower_id" = $1) AND "sleep_sessions"."woke_at" BETWEEN $2 AND $3 ORDER BY "sleep_sessions"."duration_sec" DESC, "sleep_sessions"."woke_at" DESC, "sleep_sessions"."id" DESC[0m  [["follower_id", 1], ["woke_at", "2025-09-15 00:00:00"], ["woke_at", "2025-09-22 23:59:59.999999"]]
[63ad0829-f084-4f07-b2be-90b2b6b1b3e4] Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 1.2ms | Allocations: 1345)


[8a0e5864-9e32-44d2-b36e-1820f65ce39d] Started GET "/api/v1/users/99/feed" for ::1 at 2025-09-22 16:41:10 +0700
[8a0e5864-9e32-44d2-b36e-1820f65ce39d] Processing by Api::V1::FeedsController#index as */*
[8a0e5864-9e32-44d2-b36e-1820f65ce39d]   Parameters: {"user_id"=>"99"}
[8a0e5864-9e32-44d2-b36e-1820f65ce39d]   [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 99], ["LIMIT", 1]]
[8a0e5864-9e32-44d2-b36e-1820f65ce39d] Completed 404 Not Found in 1ms (ActiveRecord: 0.2ms | Allocations: 218)


[8a0e5864-9e32-44d2-b36e-1820f65ce39d]   
[8a0e5864-9e32-44d2-b36e-1820f65ce39d] ActiveRecord::RecordNotFound (Couldn't find User with 'id'="99"):
[8a0e5864-9e32-44d2-b36e-1820f65ce39d]   
[8a0e5864-9e32-44d2-b36e-1820f65ce39d] app/controllers/api/v1/feeds_controller.rb:20:in `set_user'
[591d9a7d-89ba-45c1-98ef-ecc5864216ae] Started POST "/api/v1/users" for ::1 at 2025-09-22 16:41:34 +0700
[591d9a7d-89ba-45c1-98ef-ecc5864216ae]   
[591d9a7d-89ba-45c1-98ef-ecc5864216ae] ActionController::RoutingError (No route matches [POST] "/api/v1/users"):
[591d9a7d-89ba-45c1-98ef-ecc5864216ae]   
[a3e00933-fdfe-4400-aa5a-1e70223f7e41] Started POST "/api/v1/users" for ::1 at 2025-09-22 16:41:35 +0700
[a3e00933-fdfe-4400-aa5a-1e70223f7e41]   
[a3e00933-fdfe-4400-aa5a-1e70223f7e41] ActionController::RoutingError (No route matches [POST] "/api/v1/users"):
[a3e00933-fdfe-4400-aa5a-1e70223f7e41]   
[c42da8ec-b011-471e-ae47-7ade3dd4b89c] Started POST "/api/v1/users/1/sleep_sessions/clock_in" for ::1 at 2025-09-22 16:41:35 +0700
[c42da8ec-b011-471e-ae47-7ade3dd4b89c] Processing by Api::V1::SleepSessionsController#clock_in as */*
[c42da8ec-b011-471e-ae47-7ade3dd4b89c]   Parameters: {"user_id"=>"1"}
[c42da8ec-b011-471e-ae47-7ade3dd4b89c]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[c42da8ec-b011-471e-ae47-7ade3dd4b89c]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
[c42da8ec-b011-471e-ae47-7ade3dd4b89c]   [1m[36mUser Load (0.7ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[c42da8ec-b011-471e-ae47-7ade3dd4b89c]   [1m[36mSleepSession Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[c42da8ec-b011-471e-ae47-7ade3dd4b89c]   [1m[36mSleepSession Create (0.5ms)[0m  [1m[32mINSERT INTO "sleep_sessions" ("user_id", "slept_at", "woke_at", "duration_sec", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 1], ["slept_at", "2025-09-22 09:41:35.026891"], ["woke_at", nil], ["duration_sec", nil], ["created_at", "2025-09-22 09:41:35.027190"], ["updated_at", "2025-09-22 09:41:35.027190"]]
[c42da8ec-b011-471e-ae47-7ade3dd4b89c]   [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
[c42da8ec-b011-471e-ae47-7ade3dd4b89c] Completed 201 Created in 4ms (Views: 0.1ms | ActiveRecord: 2.4ms | Allocations: 1323)


[904a1160-2d45-4ce2-a04c-23eb15571395] Started POST "/api/v1/users/1/sleep_sessions/clock_in" for ::1 at 2025-09-22 16:41:35 +0700
[904a1160-2d45-4ce2-a04c-23eb15571395] Processing by Api::V1::SleepSessionsController#clock_in as */*
[904a1160-2d45-4ce2-a04c-23eb15571395]   Parameters: {"user_id"=>"1"}
[904a1160-2d45-4ce2-a04c-23eb15571395]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[904a1160-2d45-4ce2-a04c-23eb15571395]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[904a1160-2d45-4ce2-a04c-23eb15571395]   [1m[36mUser Load (0.4ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[904a1160-2d45-4ce2-a04c-23eb15571395]   [1m[36mSleepSession Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[904a1160-2d45-4ce2-a04c-23eb15571395]   [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
[904a1160-2d45-4ce2-a04c-23eb15571395] Completed 422 Unprocessable Content in 3ms (Views: 0.1ms | ActiveRecord: 1.4ms | Allocations: 881)


[4cc84b1e-62da-42ca-954d-bc5d66dd3177] Started POST "/api/v1/users/1/sleep_sessions/clock_out" for ::1 at 2025-09-22 16:41:35 +0700
[4cc84b1e-62da-42ca-954d-bc5d66dd3177] Processing by Api::V1::SleepSessionsController#clock_out as */*
[4cc84b1e-62da-42ca-954d-bc5d66dd3177]   Parameters: {"user_id"=>"1"}
[4cc84b1e-62da-42ca-954d-bc5d66dd3177]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[4cc84b1e-62da-42ca-954d-bc5d66dd3177]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[4cc84b1e-62da-42ca-954d-bc5d66dd3177]   [1m[36mUser Load (0.5ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[4cc84b1e-62da-42ca-954d-bc5d66dd3177]   [1m[36mSleepSession Load (0.1ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL ORDER BY "sleep_sessions"."slept_at" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[4cc84b1e-62da-42ca-954d-bc5d66dd3177]   [1m[36mSleepSession Update (0.4ms)[0m  [1m[33mUPDATE "sleep_sessions" SET "woke_at" = $1, "duration_sec" = $2, "updated_at" = $3 WHERE "sleep_sessions"."id" = $4[0m  [["woke_at", "2025-09-22 09:41:35.057135"], ["duration_sec", 0], ["updated_at", "2025-09-22 09:41:35.057280"], ["id", 17]]
[4cc84b1e-62da-42ca-954d-bc5d66dd3177]   [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
[4cc84b1e-62da-42ca-954d-bc5d66dd3177] Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 1.6ms | Allocations: 1301)


[0585fd2f-f3a3-44fb-8bc9-7b57514413af] Started POST "/api/v1/users/1/sleep_sessions/clock_out" for ::1 at 2025-09-22 16:41:35 +0700
[0585fd2f-f3a3-44fb-8bc9-7b57514413af] Processing by Api::V1::SleepSessionsController#clock_out as */*
[0585fd2f-f3a3-44fb-8bc9-7b57514413af]   Parameters: {"user_id"=>"1"}
[0585fd2f-f3a3-44fb-8bc9-7b57514413af]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[0585fd2f-f3a3-44fb-8bc9-7b57514413af]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[0585fd2f-f3a3-44fb-8bc9-7b57514413af]   [1m[36mUser Load (0.4ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[0585fd2f-f3a3-44fb-8bc9-7b57514413af]   [1m[36mSleepSession Load (0.2ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL ORDER BY "sleep_sessions"."slept_at" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[0585fd2f-f3a3-44fb-8bc9-7b57514413af]   [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
[0585fd2f-f3a3-44fb-8bc9-7b57514413af] Completed 422 Unprocessable Content in 3ms (Views: 0.1ms | ActiveRecord: 1.1ms | Allocations: 915)


[bf6e03f0-3c39-403c-9ab5-43918bad7cb3] Started GET "/api/v1/users/1/sleep_sessions" for ::1 at 2025-09-22 16:41:35 +0700
[bf6e03f0-3c39-403c-9ab5-43918bad7cb3] Processing by Api::V1::SleepSessionsController#index as */*
[bf6e03f0-3c39-403c-9ab5-43918bad7cb3]   Parameters: {"user_id"=>"1"}
[bf6e03f0-3c39-403c-9ab5-43918bad7cb3]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[bf6e03f0-3c39-403c-9ab5-43918bad7cb3]   [1m[36mSleepSession Load (0.5ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 ORDER BY "sleep_sessions"."created_at" ASC[0m  [["user_id", 1]]
[bf6e03f0-3c39-403c-9ab5-43918bad7cb3] Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 1236)


[33850583-066f-4de5-b603-2f4bf6aab25c] Started POST "/api/v1/users/1/follows" for ::1 at 2025-09-22 16:41:35 +0700
[33850583-066f-4de5-b603-2f4bf6aab25c] Processing by Api::V1::FollowsController#create as */*
[33850583-066f-4de5-b603-2f4bf6aab25c]   Parameters: {"followed_id"=>2, "user_id"=>"1", "follow"=>{"followed_id"=>2}}
[33850583-066f-4de5-b603-2f4bf6aab25c]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[33850583-066f-4de5-b603-2f4bf6aab25c]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[33850583-066f-4de5-b603-2f4bf6aab25c]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[33850583-066f-4de5-b603-2f4bf6aab25c]   [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[33850583-066f-4de5-b603-2f4bf6aab25c]   [1m[36mFollow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "follows" WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2 LIMIT $3[0m  [["follower_id", 1], ["followed_id", 2], ["LIMIT", 1]]
[33850583-066f-4de5-b603-2f4bf6aab25c]   [1m[36mFollow Create (0.3ms)[0m  [1m[32mINSERT INTO "follows" ("follower_id", "followed_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["follower_id", 1], ["followed_id", 2], ["created_at", "2025-09-22 09:41:35.109772"], ["updated_at", "2025-09-22 09:41:35.109772"]]
[33850583-066f-4de5-b603-2f4bf6aab25c]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
[33850583-066f-4de5-b603-2f4bf6aab25c] Completed 201 Created in 4ms (Views: 0.1ms | ActiveRecord: 1.5ms | Allocations: 1396)


[8bbb96bb-995f-4b4b-b40f-db3806095b49] Started POST "/api/v1/users/1/follows" for ::1 at 2025-09-22 16:41:35 +0700
[8bbb96bb-995f-4b4b-b40f-db3806095b49] Processing by Api::V1::FollowsController#create as */*
[8bbb96bb-995f-4b4b-b40f-db3806095b49]   Parameters: {"followed_id"=>2, "user_id"=>"1", "follow"=>{"followed_id"=>2}}
[8bbb96bb-995f-4b4b-b40f-db3806095b49]   [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[8bbb96bb-995f-4b4b-b40f-db3806095b49]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[8bbb96bb-995f-4b4b-b40f-db3806095b49]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[8bbb96bb-995f-4b4b-b40f-db3806095b49]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[8bbb96bb-995f-4b4b-b40f-db3806095b49]   [1m[36mFollow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "follows" WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2 LIMIT $3[0m  [["follower_id", 1], ["followed_id", 2], ["LIMIT", 1]]
[8bbb96bb-995f-4b4b-b40f-db3806095b49]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
[8bbb96bb-995f-4b4b-b40f-db3806095b49] Completed 422 Unprocessable Content in 4ms (ActiveRecord: 1.3ms | Allocations: 1547)


[8bbb96bb-995f-4b4b-b40f-db3806095b49]   
[8bbb96bb-995f-4b4b-b40f-db3806095b49] ActiveRecord::RecordInvalid (Validation failed: Follower has already been taken):
[8bbb96bb-995f-4b4b-b40f-db3806095b49]   
[8bbb96bb-995f-4b4b-b40f-db3806095b49] app/controllers/api/v1/follows_controller.rb:7:in `create'
[dfef135b-4e32-4b50-88b5-8a1af3142249] Started POST "/api/v1/users/1/follows" for ::1 at 2025-09-22 16:41:35 +0700
[dfef135b-4e32-4b50-88b5-8a1af3142249] Processing by Api::V1::FollowsController#create as */*
[dfef135b-4e32-4b50-88b5-8a1af3142249]   Parameters: {"followed_id"=>1, "user_id"=>"1", "follow"=>{"followed_id"=>1}}
[dfef135b-4e32-4b50-88b5-8a1af3142249]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[dfef135b-4e32-4b50-88b5-8a1af3142249]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[dfef135b-4e32-4b50-88b5-8a1af3142249]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[dfef135b-4e32-4b50-88b5-8a1af3142249]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[dfef135b-4e32-4b50-88b5-8a1af3142249]   [1m[36mFollow Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "follows" WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2 LIMIT $3[0m  [["follower_id", 1], ["followed_id", 1], ["LIMIT", 1]]
[dfef135b-4e32-4b50-88b5-8a1af3142249]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
[dfef135b-4e32-4b50-88b5-8a1af3142249] Completed 422 Unprocessable Content in 3ms (ActiveRecord: 1.1ms | Allocations: 1236)


[dfef135b-4e32-4b50-88b5-8a1af3142249]   
[dfef135b-4e32-4b50-88b5-8a1af3142249] ActiveRecord::RecordInvalid (Validation failed: cannot follow self):
[dfef135b-4e32-4b50-88b5-8a1af3142249]   
[dfef135b-4e32-4b50-88b5-8a1af3142249] app/controllers/api/v1/follows_controller.rb:7:in `create'
[7f68d027-c5c6-4c20-a409-27731fd43d37] Started DELETE "/api/v1/users/1/follows/2" for ::1 at 2025-09-22 16:41:35 +0700
[7f68d027-c5c6-4c20-a409-27731fd43d37] Processing by Api::V1::FollowsController#destroy as */*
[7f68d027-c5c6-4c20-a409-27731fd43d37]   Parameters: {"user_id"=>"1", "followed_id"=>"2"}
[7f68d027-c5c6-4c20-a409-27731fd43d37]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[7f68d027-c5c6-4c20-a409-27731fd43d37]   [1m[36mFollow Load (0.4ms)[0m  [1m[34mSELECT "follows".* FROM "follows" WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2 LIMIT $3[0m  [["follower_id", 1], ["followed_id", 2], ["LIMIT", 1]]
[7f68d027-c5c6-4c20-a409-27731fd43d37]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[7f68d027-c5c6-4c20-a409-27731fd43d37]   [1m[36mFollow Destroy (0.3ms)[0m  [1m[31mDELETE FROM "follows" WHERE "follows"."id" = $1[0m  [["id", 12]]
[7f68d027-c5c6-4c20-a409-27731fd43d37]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
[7f68d027-c5c6-4c20-a409-27731fd43d37] Completed 204 No Content in 2ms (ActiveRecord: 1.2ms | Allocations: 738)


[72fb8af5-e222-4d50-b114-9ea3afdc8f5d] Started GET "/api/v1/users/1/feed" for ::1 at 2025-09-22 16:41:35 +0700
[72fb8af5-e222-4d50-b114-9ea3afdc8f5d] Processing by Api::V1::FeedsController#index as */*
[72fb8af5-e222-4d50-b114-9ea3afdc8f5d]   Parameters: {"user_id"=>"1"}
[72fb8af5-e222-4d50-b114-9ea3afdc8f5d]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[72fb8af5-e222-4d50-b114-9ea3afdc8f5d]   [1m[36mSleepSession Load (1.0ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."woke_at" IS NOT NULL AND "sleep_sessions"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "follows" ON "users"."id" = "follows"."followed_id" WHERE "follows"."follower_id" = $1) AND "sleep_sessions"."woke_at" BETWEEN $2 AND $3 ORDER BY "sleep_sessions"."duration_sec" DESC, "sleep_sessions"."woke_at" DESC, "sleep_sessions"."id" DESC[0m  [["follower_id", 1], ["woke_at", "2025-09-15 00:00:00"], ["woke_at", "2025-09-22 23:59:59.999999"]]
[72fb8af5-e222-4d50-b114-9ea3afdc8f5d] Completed 200 OK in 3ms (Views: 0.0ms | ActiveRecord: 1.2ms | Allocations: 1098)


  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
[14b6b0cc-5be8-4233-bea8-658463529e80] Started POST "/api/v1/users" for ::1 at 2025-09-22 16:43:39 +0700
[14b6b0cc-5be8-4233-bea8-658463529e80]   
[14b6b0cc-5be8-4233-bea8-658463529e80] ActionController::RoutingError (No route matches [POST] "/api/v1/users"):
[14b6b0cc-5be8-4233-bea8-658463529e80]   
[868f9951-9ea1-4bc1-9965-1e77f254b49e] Started POST "/api/v1/users" for ::1 at 2025-09-22 16:43:39 +0700
[868f9951-9ea1-4bc1-9965-1e77f254b49e]   
[868f9951-9ea1-4bc1-9965-1e77f254b49e] ActionController::RoutingError (No route matches [POST] "/api/v1/users"):
[868f9951-9ea1-4bc1-9965-1e77f254b49e]   
[74bb99f9-f47e-43e5-a779-b0b4a506152d] Started POST "/api/v1/users/1/sleep_sessions/clock_in" for ::1 at 2025-09-22 16:43:39 +0700
[74bb99f9-f47e-43e5-a779-b0b4a506152d] Processing by Api::V1::SleepSessionsController#clock_in as */*
[74bb99f9-f47e-43e5-a779-b0b4a506152d]   Parameters: {"user_id"=>"1"}
[74bb99f9-f47e-43e5-a779-b0b4a506152d]   [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[74bb99f9-f47e-43e5-a779-b0b4a506152d]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
[74bb99f9-f47e-43e5-a779-b0b4a506152d]   [1m[36mUser Load (0.9ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[74bb99f9-f47e-43e5-a779-b0b4a506152d]   [1m[36mSleepSession Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[74bb99f9-f47e-43e5-a779-b0b4a506152d]   [1m[36mSleepSession Create (0.6ms)[0m  [1m[32mINSERT INTO "sleep_sessions" ("user_id", "slept_at", "woke_at", "duration_sec", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 1], ["slept_at", "2025-09-22 09:43:39.633108"], ["woke_at", nil], ["duration_sec", nil], ["created_at", "2025-09-22 09:43:39.633674"], ["updated_at", "2025-09-22 09:43:39.633674"]]
[74bb99f9-f47e-43e5-a779-b0b4a506152d]   [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
[74bb99f9-f47e-43e5-a779-b0b4a506152d] Completed 201 Created in 10ms (Views: 0.1ms | ActiveRecord: 5.5ms | Allocations: 1320)


[47fea78d-06f1-49b9-9f0a-1e66e954a00e] Started POST "/api/v1/users/1/sleep_sessions/clock_in" for ::1 at 2025-09-22 16:43:39 +0700
[47fea78d-06f1-49b9-9f0a-1e66e954a00e] Processing by Api::V1::SleepSessionsController#clock_in as */*
[47fea78d-06f1-49b9-9f0a-1e66e954a00e]   Parameters: {"user_id"=>"1"}
[47fea78d-06f1-49b9-9f0a-1e66e954a00e]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[47fea78d-06f1-49b9-9f0a-1e66e954a00e]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[47fea78d-06f1-49b9-9f0a-1e66e954a00e]   [1m[36mUser Load (0.6ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[47fea78d-06f1-49b9-9f0a-1e66e954a00e]   [1m[36mSleepSession Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[47fea78d-06f1-49b9-9f0a-1e66e954a00e]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
[47fea78d-06f1-49b9-9f0a-1e66e954a00e] Completed 422 Unprocessable Content in 3ms (Views: 0.1ms | ActiveRecord: 1.3ms | Allocations: 880)


[74b91e73-d213-4a86-9147-b7b3867034b8] Started POST "/api/v1/users/1/sleep_sessions/clock_out" for ::1 at 2025-09-22 16:43:39 +0700
[74b91e73-d213-4a86-9147-b7b3867034b8] Processing by Api::V1::SleepSessionsController#clock_out as */*
[74b91e73-d213-4a86-9147-b7b3867034b8]   Parameters: {"user_id"=>"1"}
[74b91e73-d213-4a86-9147-b7b3867034b8]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[74b91e73-d213-4a86-9147-b7b3867034b8]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[74b91e73-d213-4a86-9147-b7b3867034b8]   [1m[36mUser Load (0.5ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[74b91e73-d213-4a86-9147-b7b3867034b8]   [1m[36mSleepSession Load (0.2ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL ORDER BY "sleep_sessions"."slept_at" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[74b91e73-d213-4a86-9147-b7b3867034b8]   [1m[36mSleepSession Update (0.3ms)[0m  [1m[33mUPDATE "sleep_sessions" SET "woke_at" = $1, "duration_sec" = $2, "updated_at" = $3 WHERE "sleep_sessions"."id" = $4[0m  [["woke_at", "2025-09-22 09:43:39.665109"], ["duration_sec", 0], ["updated_at", "2025-09-22 09:43:39.665278"], ["id", 18]]
[74b91e73-d213-4a86-9147-b7b3867034b8]   [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
[74b91e73-d213-4a86-9147-b7b3867034b8] Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 1.5ms | Allocations: 1300)


[f22d499d-3d75-418d-8741-9ed766215768] Started POST "/api/v1/users/1/sleep_sessions/clock_out" for ::1 at 2025-09-22 16:43:39 +0700
[f22d499d-3d75-418d-8741-9ed766215768] Processing by Api::V1::SleepSessionsController#clock_out as */*
[f22d499d-3d75-418d-8741-9ed766215768]   Parameters: {"user_id"=>"1"}
[f22d499d-3d75-418d-8741-9ed766215768]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[f22d499d-3d75-418d-8741-9ed766215768]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[f22d499d-3d75-418d-8741-9ed766215768]   [1m[36mUser Load (0.5ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[f22d499d-3d75-418d-8741-9ed766215768]   [1m[36mSleepSession Load (0.1ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL ORDER BY "sleep_sessions"."slept_at" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[f22d499d-3d75-418d-8741-9ed766215768]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
[f22d499d-3d75-418d-8741-9ed766215768] Completed 422 Unprocessable Content in 2ms (Views: 0.2ms | ActiveRecord: 1.2ms | Allocations: 914)


[58179ff7-d27d-49f3-92f4-c879f70e1b7d] Started GET "/api/v1/users/1/sleep_sessions" for ::1 at 2025-09-22 16:43:39 +0700
[58179ff7-d27d-49f3-92f4-c879f70e1b7d] Processing by Api::V1::SleepSessionsController#index as */*
[58179ff7-d27d-49f3-92f4-c879f70e1b7d]   Parameters: {"user_id"=>"1"}
[58179ff7-d27d-49f3-92f4-c879f70e1b7d]   [1m[36mUser Load (4.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[58179ff7-d27d-49f3-92f4-c879f70e1b7d]   [1m[36mSleepSession Load (1.7ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 ORDER BY "sleep_sessions"."created_at" ASC[0m  [["user_id", 1]]
[58179ff7-d27d-49f3-92f4-c879f70e1b7d] Completed 200 OK in 16ms (Views: 0.2ms | ActiveRecord: 6.3ms | Allocations: 1277)


[1a9ff140-284d-4fc7-87e7-368344abb4ec] Started POST "/api/v1/users/1/follows" for ::1 at 2025-09-22 16:43:39 +0700
[1a9ff140-284d-4fc7-87e7-368344abb4ec] Processing by Api::V1::FollowsController#create as */*
[1a9ff140-284d-4fc7-87e7-368344abb4ec]   Parameters: {"followed_id"=>2, "user_id"=>"1", "follow"=>{"followed_id"=>2}}
[1a9ff140-284d-4fc7-87e7-368344abb4ec]   [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[1a9ff140-284d-4fc7-87e7-368344abb4ec]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[1a9ff140-284d-4fc7-87e7-368344abb4ec]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[1a9ff140-284d-4fc7-87e7-368344abb4ec]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[1a9ff140-284d-4fc7-87e7-368344abb4ec]   [1m[36mFollow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "follows" WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2 LIMIT $3[0m  [["follower_id", 1], ["followed_id", 2], ["LIMIT", 1]]
[1a9ff140-284d-4fc7-87e7-368344abb4ec]   [1m[36mFollow Create (0.5ms)[0m  [1m[32mINSERT INTO "follows" ("follower_id", "followed_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["follower_id", 1], ["followed_id", 2], ["created_at", "2025-09-22 09:43:39.750270"], ["updated_at", "2025-09-22 09:43:39.750270"]]
[1a9ff140-284d-4fc7-87e7-368344abb4ec]   [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
[1a9ff140-284d-4fc7-87e7-368344abb4ec] Completed 201 Created in 4ms (Views: 0.1ms | ActiveRecord: 1.9ms | Allocations: 1395)


[410732ee-e714-4df9-a327-d90da30c21a6] Started POST "/api/v1/users/1/follows" for ::1 at 2025-09-22 16:43:39 +0700
[410732ee-e714-4df9-a327-d90da30c21a6] Processing by Api::V1::FollowsController#create as */*
[410732ee-e714-4df9-a327-d90da30c21a6]   Parameters: {"followed_id"=>2, "user_id"=>"1", "follow"=>{"followed_id"=>2}}
[410732ee-e714-4df9-a327-d90da30c21a6]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[410732ee-e714-4df9-a327-d90da30c21a6]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[410732ee-e714-4df9-a327-d90da30c21a6]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[410732ee-e714-4df9-a327-d90da30c21a6]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[410732ee-e714-4df9-a327-d90da30c21a6]   [1m[36mFollow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "follows" WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2 LIMIT $3[0m  [["follower_id", 1], ["followed_id", 2], ["LIMIT", 1]]
[410732ee-e714-4df9-a327-d90da30c21a6]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
[410732ee-e714-4df9-a327-d90da30c21a6] Completed 422 Unprocessable Content in 3ms (ActiveRecord: 1.2ms | Allocations: 1547)


[410732ee-e714-4df9-a327-d90da30c21a6]   
[410732ee-e714-4df9-a327-d90da30c21a6] ActiveRecord::RecordInvalid (Validation failed: Follower has already been taken):
[410732ee-e714-4df9-a327-d90da30c21a6]   
[410732ee-e714-4df9-a327-d90da30c21a6] app/controllers/api/v1/follows_controller.rb:7:in `create'
[750eadf8-15f1-4d9c-8b46-266be1eb5353] Started POST "/api/v1/users/1/follows" for ::1 at 2025-09-22 16:43:39 +0700
[750eadf8-15f1-4d9c-8b46-266be1eb5353] Processing by Api::V1::FollowsController#create as */*
[750eadf8-15f1-4d9c-8b46-266be1eb5353]   Parameters: {"followed_id"=>1, "user_id"=>"1", "follow"=>{"followed_id"=>1}}
[750eadf8-15f1-4d9c-8b46-266be1eb5353]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[750eadf8-15f1-4d9c-8b46-266be1eb5353]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[750eadf8-15f1-4d9c-8b46-266be1eb5353]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[750eadf8-15f1-4d9c-8b46-266be1eb5353]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[750eadf8-15f1-4d9c-8b46-266be1eb5353]   [1m[36mFollow Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "follows" WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2 LIMIT $3[0m  [["follower_id", 1], ["followed_id", 1], ["LIMIT", 1]]
[750eadf8-15f1-4d9c-8b46-266be1eb5353]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
[750eadf8-15f1-4d9c-8b46-266be1eb5353] Completed 422 Unprocessable Content in 3ms (ActiveRecord: 1.1ms | Allocations: 1236)


[750eadf8-15f1-4d9c-8b46-266be1eb5353]   
[750eadf8-15f1-4d9c-8b46-266be1eb5353] ActiveRecord::RecordInvalid (Validation failed: cannot follow self):
[750eadf8-15f1-4d9c-8b46-266be1eb5353]   
[750eadf8-15f1-4d9c-8b46-266be1eb5353] app/controllers/api/v1/follows_controller.rb:7:in `create'
[382d7d14-78f0-43fb-9bc6-bf080610f637] Started DELETE "/api/v1/users/1/follows/2" for ::1 at 2025-09-22 16:43:39 +0700
[382d7d14-78f0-43fb-9bc6-bf080610f637] Processing by Api::V1::FollowsController#destroy as */*
[382d7d14-78f0-43fb-9bc6-bf080610f637]   Parameters: {"user_id"=>"1", "followed_id"=>"2"}
[382d7d14-78f0-43fb-9bc6-bf080610f637]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[382d7d14-78f0-43fb-9bc6-bf080610f637]   [1m[36mFollow Load (0.2ms)[0m  [1m[34mSELECT "follows".* FROM "follows" WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2 LIMIT $3[0m  [["follower_id", 1], ["followed_id", 2], ["LIMIT", 1]]
[382d7d14-78f0-43fb-9bc6-bf080610f637]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[382d7d14-78f0-43fb-9bc6-bf080610f637]   [1m[36mFollow Destroy (0.4ms)[0m  [1m[31mDELETE FROM "follows" WHERE "follows"."id" = $1[0m  [["id", 13]]
[382d7d14-78f0-43fb-9bc6-bf080610f637]   [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
[382d7d14-78f0-43fb-9bc6-bf080610f637] Completed 204 No Content in 2ms (ActiveRecord: 1.3ms | Allocations: 738)


[2be229b7-80cf-411b-8af6-229e63c42cfb] Started GET "/api/v1/users/1/feed" for ::1 at 2025-09-22 16:43:39 +0700
[2be229b7-80cf-411b-8af6-229e63c42cfb] Processing by Api::V1::FeedsController#index as */*
[2be229b7-80cf-411b-8af6-229e63c42cfb]   Parameters: {"user_id"=>"1"}
[2be229b7-80cf-411b-8af6-229e63c42cfb]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[2be229b7-80cf-411b-8af6-229e63c42cfb]   [1m[36mSleepSession Load (0.9ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."woke_at" IS NOT NULL AND "sleep_sessions"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "follows" ON "users"."id" = "follows"."followed_id" WHERE "follows"."follower_id" = $1) AND "sleep_sessions"."woke_at" BETWEEN $2 AND $3 ORDER BY "sleep_sessions"."duration_sec" DESC, "sleep_sessions"."woke_at" DESC, "sleep_sessions"."id" DESC[0m  [["follower_id", 1], ["woke_at", "2025-09-15 00:00:00"], ["woke_at", "2025-09-22 23:59:59.999999"]]
[2be229b7-80cf-411b-8af6-229e63c42cfb] Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 1.2ms | Allocations: 1098)


[be008a18-86b9-44ef-96b2-95f95eadbc60] Started POST "/api/v1/users" for ::1 at 2025-09-24 17:14:28 +0700
[be008a18-86b9-44ef-96b2-95f95eadbc60]   
[be008a18-86b9-44ef-96b2-95f95eadbc60] ActionController::RoutingError (No route matches [POST] "/api/v1/users"):
[be008a18-86b9-44ef-96b2-95f95eadbc60]   
[d30a222f-7975-4b1d-8841-7f00855abfbd] Started POST "/api/v1/users" for ::1 at 2025-09-24 17:14:28 +0700
[d30a222f-7975-4b1d-8841-7f00855abfbd]   
[d30a222f-7975-4b1d-8841-7f00855abfbd] ActionController::RoutingError (No route matches [POST] "/api/v1/users"):
[d30a222f-7975-4b1d-8841-7f00855abfbd]   
[13f0916d-6176-4d8e-b736-22d4818dabd8] Started POST "/api/v1/users/1/sleep_sessions/clock_in" for ::1 at 2025-09-24 17:14:28 +0700
[13f0916d-6176-4d8e-b736-22d4818dabd8] Processing by Api::V1::SleepSessionsController#clock_in as */*
[13f0916d-6176-4d8e-b736-22d4818dabd8]   Parameters: {"user_id"=>"1"}
[13f0916d-6176-4d8e-b736-22d4818dabd8]   [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[13f0916d-6176-4d8e-b736-22d4818dabd8]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[13f0916d-6176-4d8e-b736-22d4818dabd8]   [1m[36mUser Load (0.7ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[13f0916d-6176-4d8e-b736-22d4818dabd8]   [1m[36mSleepSession Exists? (2.2ms)[0m  [1m[34mSELECT 1 AS one FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[13f0916d-6176-4d8e-b736-22d4818dabd8]   [1m[36mSleepSession Create (2.6ms)[0m  [1m[32mINSERT INTO "sleep_sessions" ("user_id", "slept_at", "woke_at", "duration_sec", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 1], ["slept_at", "2025-09-24 10:14:28.571674"], ["woke_at", nil], ["duration_sec", nil], ["created_at", "2025-09-24 10:14:28.573971"], ["updated_at", "2025-09-24 10:14:28.573971"]]
[13f0916d-6176-4d8e-b736-22d4818dabd8]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
[13f0916d-6176-4d8e-b736-22d4818dabd8] Completed 201 Created in 99ms (Views: 0.2ms | ActiveRecord: 59.5ms | Allocations: 33587)


[074bcc79-de55-4d48-a920-4591dda50344] Started POST "/api/v1/users/1/sleep_sessions/clock_in" for ::1 at 2025-09-24 17:14:28 +0700
[074bcc79-de55-4d48-a920-4591dda50344] Processing by Api::V1::SleepSessionsController#clock_in as */*
[074bcc79-de55-4d48-a920-4591dda50344]   Parameters: {"user_id"=>"1"}
[074bcc79-de55-4d48-a920-4591dda50344]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[074bcc79-de55-4d48-a920-4591dda50344]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[074bcc79-de55-4d48-a920-4591dda50344]   [1m[36mUser Load (0.4ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[074bcc79-de55-4d48-a920-4591dda50344]   [1m[36mSleepSession Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[074bcc79-de55-4d48-a920-4591dda50344]   [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
[074bcc79-de55-4d48-a920-4591dda50344] Completed 422 Unprocessable Content in 3ms (Views: 0.1ms | ActiveRecord: 1.2ms | Allocations: 916)


[93d6868a-4a82-4b82-bbf9-265971dd792d] Started POST "/api/v1/users/1/sleep_sessions/clock_out" for ::1 at 2025-09-24 17:14:28 +0700
[93d6868a-4a82-4b82-bbf9-265971dd792d] Processing by Api::V1::SleepSessionsController#clock_out as */*
[93d6868a-4a82-4b82-bbf9-265971dd792d]   Parameters: {"user_id"=>"1"}
[93d6868a-4a82-4b82-bbf9-265971dd792d]   [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[93d6868a-4a82-4b82-bbf9-265971dd792d]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[93d6868a-4a82-4b82-bbf9-265971dd792d]   [1m[36mUser Load (0.6ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[93d6868a-4a82-4b82-bbf9-265971dd792d]   [1m[36mSleepSession Load (0.4ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL ORDER BY "sleep_sessions"."slept_at" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[93d6868a-4a82-4b82-bbf9-265971dd792d]   [1m[36mSleepSession Update (1.4ms)[0m  [1m[33mUPDATE "sleep_sessions" SET "woke_at" = $1, "duration_sec" = $2, "updated_at" = $3 WHERE "sleep_sessions"."id" = $4[0m  [["woke_at", "2025-09-24 10:14:28.610344"], ["duration_sec", 0], ["updated_at", "2025-09-24 10:14:28.610482"], ["id", 19]]
[93d6868a-4a82-4b82-bbf9-265971dd792d]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
[93d6868a-4a82-4b82-bbf9-265971dd792d] Completed 200 OK in 6ms (Views: 0.3ms | ActiveRecord: 3.1ms | Allocations: 1604)


[db1071a7-27cb-4313-9acb-9313d50ba615] Started POST "/api/v1/users/1/sleep_sessions/clock_out" for ::1 at 2025-09-24 17:14:28 +0700
[db1071a7-27cb-4313-9acb-9313d50ba615] Processing by Api::V1::SleepSessionsController#clock_out as */*
[db1071a7-27cb-4313-9acb-9313d50ba615]   Parameters: {"user_id"=>"1"}
[db1071a7-27cb-4313-9acb-9313d50ba615]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[db1071a7-27cb-4313-9acb-9313d50ba615]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[db1071a7-27cb-4313-9acb-9313d50ba615]   [1m[36mUser Load (0.5ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[db1071a7-27cb-4313-9acb-9313d50ba615]   [1m[36mSleepSession Load (0.2ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL ORDER BY "sleep_sessions"."slept_at" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[db1071a7-27cb-4313-9acb-9313d50ba615]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
[db1071a7-27cb-4313-9acb-9313d50ba615] Completed 422 Unprocessable Content in 2ms (Views: 0.1ms | ActiveRecord: 1.2ms | Allocations: 926)


[b8ecc37f-f058-4203-836c-894b5ce024ef] Started GET "/api/v1/users/1/sleep_sessions" for ::1 at 2025-09-24 17:14:28 +0700
[b8ecc37f-f058-4203-836c-894b5ce024ef] Processing by Api::V1::SleepSessionsController#index as */*
[b8ecc37f-f058-4203-836c-894b5ce024ef]   Parameters: {"user_id"=>"1"}
[b8ecc37f-f058-4203-836c-894b5ce024ef]   [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[b8ecc37f-f058-4203-836c-894b5ce024ef]   [1m[36mSleepSession Load (0.9ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 ORDER BY "sleep_sessions"."created_at" ASC[0m  [["user_id", 1]]
[b8ecc37f-f058-4203-836c-894b5ce024ef] Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 1.2ms | Allocations: 1354)


[42580b47-4e14-4bd9-9476-80cf169bdb15] Started POST "/api/v1/users/1/follows" for ::1 at 2025-09-24 17:14:28 +0700
[42580b47-4e14-4bd9-9476-80cf169bdb15] Processing by Api::V1::FollowsController#create as */*
[42580b47-4e14-4bd9-9476-80cf169bdb15]   Parameters: {"followed_id"=>2, "user_id"=>"1", "follow"=>{"followed_id"=>2}}
[42580b47-4e14-4bd9-9476-80cf169bdb15]   [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[42580b47-4e14-4bd9-9476-80cf169bdb15]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[42580b47-4e14-4bd9-9476-80cf169bdb15]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[42580b47-4e14-4bd9-9476-80cf169bdb15]   [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[42580b47-4e14-4bd9-9476-80cf169bdb15]   [1m[36mFollow Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "follows" WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2 LIMIT $3[0m  [["follower_id", 1], ["followed_id", 2], ["LIMIT", 1]]
[42580b47-4e14-4bd9-9476-80cf169bdb15]   [1m[36mFollow Create (1.1ms)[0m  [1m[32mINSERT INTO "follows" ("follower_id", "followed_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["follower_id", 1], ["followed_id", 2], ["created_at", "2025-09-24 10:14:28.676455"], ["updated_at", "2025-09-24 10:14:28.676455"]]
[42580b47-4e14-4bd9-9476-80cf169bdb15]   [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
[42580b47-4e14-4bd9-9476-80cf169bdb15] Completed 201 Created in 9ms (Views: 0.1ms | ActiveRecord: 7.1ms | Allocations: 5173)


[43682ff1-b02c-4955-9173-0c1c53893520] Started POST "/api/v1/users/1/follows" for ::1 at 2025-09-24 17:14:28 +0700
[43682ff1-b02c-4955-9173-0c1c53893520] Processing by Api::V1::FollowsController#create as */*
[43682ff1-b02c-4955-9173-0c1c53893520]   Parameters: {"followed_id"=>2, "user_id"=>"1", "follow"=>{"followed_id"=>2}}
[43682ff1-b02c-4955-9173-0c1c53893520]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[43682ff1-b02c-4955-9173-0c1c53893520]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[43682ff1-b02c-4955-9173-0c1c53893520]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[43682ff1-b02c-4955-9173-0c1c53893520]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[43682ff1-b02c-4955-9173-0c1c53893520]   [1m[36mFollow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "follows" WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2 LIMIT $3[0m  [["follower_id", 1], ["followed_id", 2], ["LIMIT", 1]]
[43682ff1-b02c-4955-9173-0c1c53893520]   [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
[43682ff1-b02c-4955-9173-0c1c53893520] Completed 422 Unprocessable Content in 107ms (ActiveRecord: 1.2ms | Allocations: 283660)


[43682ff1-b02c-4955-9173-0c1c53893520]   
[43682ff1-b02c-4955-9173-0c1c53893520] ActiveRecord::RecordInvalid (Validation failed: Follower has already been taken):
[43682ff1-b02c-4955-9173-0c1c53893520]   
[43682ff1-b02c-4955-9173-0c1c53893520] app/controllers/api/v1/follows_controller.rb:7:in `create'
[88a22c02-23dd-4065-9596-cf42f9b4e4a8] Started POST "/api/v1/users/1/follows" for ::1 at 2025-09-24 17:14:28 +0700
[88a22c02-23dd-4065-9596-cf42f9b4e4a8] Processing by Api::V1::FollowsController#create as */*
[88a22c02-23dd-4065-9596-cf42f9b4e4a8]   Parameters: {"followed_id"=>1, "user_id"=>"1", "follow"=>{"followed_id"=>1}}
[88a22c02-23dd-4065-9596-cf42f9b4e4a8]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[88a22c02-23dd-4065-9596-cf42f9b4e4a8]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[88a22c02-23dd-4065-9596-cf42f9b4e4a8]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[88a22c02-23dd-4065-9596-cf42f9b4e4a8]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[88a22c02-23dd-4065-9596-cf42f9b4e4a8]   [1m[36mFollow Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "follows" WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2 LIMIT $3[0m  [["follower_id", 1], ["followed_id", 1], ["LIMIT", 1]]
[88a22c02-23dd-4065-9596-cf42f9b4e4a8]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
[88a22c02-23dd-4065-9596-cf42f9b4e4a8] Completed 422 Unprocessable Content in 3ms (ActiveRecord: 1.2ms | Allocations: 1253)


[88a22c02-23dd-4065-9596-cf42f9b4e4a8]   
[88a22c02-23dd-4065-9596-cf42f9b4e4a8] ActiveRecord::RecordInvalid (Validation failed: cannot follow self):
[88a22c02-23dd-4065-9596-cf42f9b4e4a8]   
[88a22c02-23dd-4065-9596-cf42f9b4e4a8] app/controllers/api/v1/follows_controller.rb:7:in `create'
[22fc753a-403c-449a-9572-e01f322f560c] Started DELETE "/api/v1/users/1/follows/2" for ::1 at 2025-09-24 17:14:28 +0700
[22fc753a-403c-449a-9572-e01f322f560c] Processing by Api::V1::FollowsController#destroy as */*
[22fc753a-403c-449a-9572-e01f322f560c]   Parameters: {"user_id"=>"1", "followed_id"=>"2"}
[22fc753a-403c-449a-9572-e01f322f560c]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[22fc753a-403c-449a-9572-e01f322f560c]   [1m[36mFollow Load (0.4ms)[0m  [1m[34mSELECT "follows".* FROM "follows" WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2 LIMIT $3[0m  [["follower_id", 1], ["followed_id", 2], ["LIMIT", 1]]
[22fc753a-403c-449a-9572-e01f322f560c]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[22fc753a-403c-449a-9572-e01f322f560c]   [1m[36mFollow Destroy (0.5ms)[0m  [1m[31mDELETE FROM "follows" WHERE "follows"."id" = $1[0m  [["id", 14]]
[22fc753a-403c-449a-9572-e01f322f560c]   [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
[22fc753a-403c-449a-9572-e01f322f560c] Completed 204 No Content in 3ms (ActiveRecord: 1.5ms | Allocations: 901)


[3aa4481c-e11c-4ed5-81eb-46828c74cc69] Started GET "/api/v1/users/1/feed" for ::1 at 2025-09-24 17:14:28 +0700
[3aa4481c-e11c-4ed5-81eb-46828c74cc69] Processing by Api::V1::FeedsController#index as */*
[3aa4481c-e11c-4ed5-81eb-46828c74cc69]   Parameters: {"user_id"=>"1"}
[3aa4481c-e11c-4ed5-81eb-46828c74cc69]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[3aa4481c-e11c-4ed5-81eb-46828c74cc69]   [1m[36mSleepSession Load (1.8ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."woke_at" IS NOT NULL AND "sleep_sessions"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "follows" ON "users"."id" = "follows"."followed_id" WHERE "follows"."follower_id" = $1) AND "sleep_sessions"."woke_at" BETWEEN $2 AND $3 ORDER BY "sleep_sessions"."duration_sec" DESC, "sleep_sessions"."woke_at" DESC, "sleep_sessions"."id" DESC[0m  [["follower_id", 1], ["woke_at", "2025-09-17 00:00:00"], ["woke_at", "2025-09-24 23:59:59.999999"]]
[3aa4481c-e11c-4ed5-81eb-46828c74cc69] Completed 200 OK in 13ms (Views: 0.1ms | ActiveRecord: 2.0ms | Allocations: 5776)


  [1m[36mActiveRecord::SchemaMigration Load (3.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (7444.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "goodnight_development"[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (106.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "goodnight_test"[0m
  [1m[35m (294.1ms)[0m  [1m[35mCREATE DATABASE "goodnight_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (1.4ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "follows" CASCADE[0m
  [1m[35m (12.1ms)[0m  [1m[35mCREATE TABLE "follows" ("id" bigserial primary key, "follower_id" bigint NOT NULL, "followed_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE INDEX "index_follows_on_followed_id" ON "follows" ("followed_id")[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_follows_on_follower_id_and_followed_id" ON "follows" ("follower_id", "followed_id")[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_follows_on_follower_id" ON "follows" ("follower_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "sleep_sessions" CASCADE[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE "sleep_sessions" ("id" bigserial primary key, "user_id" bigint NOT NULL, "slept_at" timestamp(6) NOT NULL, "woke_at" timestamp(6), "duration_sec" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT slept_before_woke CHECK (woke_at IS NULL OR slept_at < woke_at))[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE INDEX "index_sleep_sessions_on_user_id_and_slept_at" ON "sleep_sessions" ("user_id", "slept_at")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_sleep_sessions_on_user_id_and_woke_at" ON "sleep_sessions" ("user_id", "woke_at")[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "idx_unique_open_sleep_session" ON "sleep_sessions" ("user_id") WHERE (woke_at IS NULL)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_sleep_sessions_on_woke_at" ON "sleep_sessions" ("woke_at")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_users_on_name" ON "users" ("name")[0m
  [1m[35m (4.8ms)[0m  [1m[35mALTER TABLE "follows" ADD CONSTRAINT "fk_rails_5ef72a3867"
FOREIGN KEY ("followed_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "follows" ADD CONSTRAINT "fk_rails_622d34a301"
FOREIGN KEY ("follower_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (2.6ms)[0m  [1m[35mALTER TABLE "sleep_sessions" ADD CONSTRAINT "fk_rails_d7d074e0ae"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250922000300)[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20250922000200),
(20250922000100);[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-09-24 10:24:52.812972', '2025-09-24 10:24:52.812979') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Update (0.7ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = 'test', "updated_at" = '2025-09-24 10:24:52.816030' WHERE "ar_internal_metadata"."key" = 'environment'[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '08b3ef4091bd1f941d53941f40f2e33c7f53aa07', '2025-09-24 10:24:52.817821', '2025-09-24 10:24:52.817825') RETURNING "key"[0m
[905e287b-35d8-4bc4-b1b2-cfdb4a7671a0] Started POST "/api/v1/users" for ::1 at 2025-09-24 17:30:47 +0700
[905e287b-35d8-4bc4-b1b2-cfdb4a7671a0]   
[905e287b-35d8-4bc4-b1b2-cfdb4a7671a0] ActionController::RoutingError (No route matches [POST] "/api/v1/users"):
[905e287b-35d8-4bc4-b1b2-cfdb4a7671a0]   
[4b8df328-cec0-43be-be71-5451cc0ab904] Started POST "/api/v1/users" for ::1 at 2025-09-24 17:30:47 +0700
[4b8df328-cec0-43be-be71-5451cc0ab904]   
[4b8df328-cec0-43be-be71-5451cc0ab904] ActionController::RoutingError (No route matches [POST] "/api/v1/users"):
[4b8df328-cec0-43be-be71-5451cc0ab904]   
[74ccef39-3b3e-4547-905a-6dcf58da1fe2] Started POST "/api/v1/users/1/sleep_sessions/clock_in" for ::1 at 2025-09-24 17:30:47 +0700
[74ccef39-3b3e-4547-905a-6dcf58da1fe2] Processing by Api::V1::SleepSessionsController#clock_in as */*
[74ccef39-3b3e-4547-905a-6dcf58da1fe2]   Parameters: {"user_id"=>"1"}
[74ccef39-3b3e-4547-905a-6dcf58da1fe2]   [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[74ccef39-3b3e-4547-905a-6dcf58da1fe2]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[74ccef39-3b3e-4547-905a-6dcf58da1fe2]   [1m[36mUser Load (0.7ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[74ccef39-3b3e-4547-905a-6dcf58da1fe2]   [1m[36mSleepSession Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[74ccef39-3b3e-4547-905a-6dcf58da1fe2]   [1m[36mSleepSession Create (1.1ms)[0m  [1m[32mINSERT INTO "sleep_sessions" ("user_id", "slept_at", "woke_at", "duration_sec", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 1], ["slept_at", "2025-09-24 10:30:47.557088"], ["woke_at", nil], ["duration_sec", nil], ["created_at", "2025-09-24 10:30:47.559178"], ["updated_at", "2025-09-24 10:30:47.559178"]]
[74ccef39-3b3e-4547-905a-6dcf58da1fe2]   [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
[74ccef39-3b3e-4547-905a-6dcf58da1fe2] Completed 201 Created in 60ms (Views: 0.1ms | ActiveRecord: 23.6ms | Allocations: 33585)


[f18181e1-a58e-4a8b-92e9-ef279b8f24e4] Started POST "/api/v1/users/1/sleep_sessions/clock_in" for ::1 at 2025-09-24 17:30:47 +0700
[f18181e1-a58e-4a8b-92e9-ef279b8f24e4] Processing by Api::V1::SleepSessionsController#clock_in as */*
[f18181e1-a58e-4a8b-92e9-ef279b8f24e4]   Parameters: {"user_id"=>"1"}
[f18181e1-a58e-4a8b-92e9-ef279b8f24e4]   [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[f18181e1-a58e-4a8b-92e9-ef279b8f24e4]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[f18181e1-a58e-4a8b-92e9-ef279b8f24e4]   [1m[36mUser Load (0.5ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[f18181e1-a58e-4a8b-92e9-ef279b8f24e4]   [1m[36mSleepSession Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[f18181e1-a58e-4a8b-92e9-ef279b8f24e4]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
[f18181e1-a58e-4a8b-92e9-ef279b8f24e4] Completed 422 Unprocessable Content in 3ms (Views: 0.1ms | ActiveRecord: 1.5ms | Allocations: 917)


[db1c4134-e747-479a-93cf-accbb085bb22] Started POST "/api/v1/users/1/sleep_sessions/clock_out" for ::1 at 2025-09-24 17:30:47 +0700
[db1c4134-e747-479a-93cf-accbb085bb22] Processing by Api::V1::SleepSessionsController#clock_out as */*
[db1c4134-e747-479a-93cf-accbb085bb22]   Parameters: {"user_id"=>"1"}
[db1c4134-e747-479a-93cf-accbb085bb22]   [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[db1c4134-e747-479a-93cf-accbb085bb22]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
[db1c4134-e747-479a-93cf-accbb085bb22]   [1m[36mUser Load (0.6ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[db1c4134-e747-479a-93cf-accbb085bb22]   [1m[36mSleepSession Load (0.2ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL ORDER BY "sleep_sessions"."slept_at" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[db1c4134-e747-479a-93cf-accbb085bb22]   [1m[36mSleepSession Update (1.0ms)[0m  [1m[33mUPDATE "sleep_sessions" SET "woke_at" = $1, "duration_sec" = $2, "updated_at" = $3 WHERE "sleep_sessions"."id" = $4[0m  [["woke_at", "2025-09-24 10:30:47.589306"], ["duration_sec", 0], ["updated_at", "2025-09-24 10:30:47.589471"], ["id", 20]]
[db1c4134-e747-479a-93cf-accbb085bb22]   [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
[db1c4134-e747-479a-93cf-accbb085bb22] Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 2.6ms | Allocations: 1600)


[fb74f424-8be9-4452-b2a0-fe19558b5303] Started POST "/api/v1/users/1/sleep_sessions/clock_out" for ::1 at 2025-09-24 17:30:47 +0700
[fb74f424-8be9-4452-b2a0-fe19558b5303] Processing by Api::V1::SleepSessionsController#clock_out as */*
[fb74f424-8be9-4452-b2a0-fe19558b5303]   Parameters: {"user_id"=>"1"}
[fb74f424-8be9-4452-b2a0-fe19558b5303]   [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[fb74f424-8be9-4452-b2a0-fe19558b5303]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[fb74f424-8be9-4452-b2a0-fe19558b5303]   [1m[36mUser Load (0.6ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[fb74f424-8be9-4452-b2a0-fe19558b5303]   [1m[36mSleepSession Load (0.4ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL ORDER BY "sleep_sessions"."slept_at" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[fb74f424-8be9-4452-b2a0-fe19558b5303]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
[fb74f424-8be9-4452-b2a0-fe19558b5303] Completed 422 Unprocessable Content in 3ms (Views: 0.3ms | ActiveRecord: 1.7ms | Allocations: 926)


[9c5e368b-85d9-4a05-a2cd-fca9374fe0b2] Started GET "/api/v1/users/1/sleep_sessions" for ::1 at 2025-09-24 17:30:47 +0700
[9c5e368b-85d9-4a05-a2cd-fca9374fe0b2] Processing by Api::V1::SleepSessionsController#index as */*
[9c5e368b-85d9-4a05-a2cd-fca9374fe0b2]   Parameters: {"user_id"=>"1"}
[9c5e368b-85d9-4a05-a2cd-fca9374fe0b2]   [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[9c5e368b-85d9-4a05-a2cd-fca9374fe0b2]   [1m[36mSleepSession Load (0.5ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 ORDER BY "sleep_sessions"."created_at" ASC[0m  [["user_id", 1]]
[9c5e368b-85d9-4a05-a2cd-fca9374fe0b2] Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 1397)


[155bf51a-5db1-4400-80d1-a31941776949] Started POST "/api/v1/users/1/follows" for ::1 at 2025-09-24 17:30:47 +0700
[155bf51a-5db1-4400-80d1-a31941776949] Processing by Api::V1::FollowsController#create as */*
[155bf51a-5db1-4400-80d1-a31941776949]   Parameters: {"followed_id"=>2, "user_id"=>"1", "follow"=>{"followed_id"=>2}}
[155bf51a-5db1-4400-80d1-a31941776949]   [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mBEGIN[0m
[155bf51a-5db1-4400-80d1-a31941776949]   [1m[36mUser Load (4.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[155bf51a-5db1-4400-80d1-a31941776949]   [1m[36mUser Load (6.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[155bf51a-5db1-4400-80d1-a31941776949]   [1m[36mFollow Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "follows" WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2 LIMIT $3[0m  [["follower_id", 1], ["followed_id", 2], ["LIMIT", 1]]
[155bf51a-5db1-4400-80d1-a31941776949]   [1m[36mFollow Create (0.9ms)[0m  [1m[32mINSERT INTO "follows" ("follower_id", "followed_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["follower_id", 1], ["followed_id", 2], ["created_at", "2025-09-24 10:30:47.695031"], ["updated_at", "2025-09-24 10:30:47.695031"]]
[155bf51a-5db1-4400-80d1-a31941776949]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
[155bf51a-5db1-4400-80d1-a31941776949] Completed 201 Created in 44ms (Views: 0.2ms | ActiveRecord: 22.2ms | Allocations: 5008)


[29aca120-3646-472a-a84f-d930d0747543] Started POST "/api/v1/users/1/follows" for ::1 at 2025-09-24 17:30:47 +0700
[29aca120-3646-472a-a84f-d930d0747543] Processing by Api::V1::FollowsController#create as */*
[29aca120-3646-472a-a84f-d930d0747543]   Parameters: {"followed_id"=>2, "user_id"=>"1", "follow"=>{"followed_id"=>2}}
[29aca120-3646-472a-a84f-d930d0747543]   [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
[29aca120-3646-472a-a84f-d930d0747543]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[29aca120-3646-472a-a84f-d930d0747543]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[29aca120-3646-472a-a84f-d930d0747543]   [1m[36mFollow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "follows" WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2 LIMIT $3[0m  [["follower_id", 1], ["followed_id", 2], ["LIMIT", 1]]
[29aca120-3646-472a-a84f-d930d0747543]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
[29aca120-3646-472a-a84f-d930d0747543] Completed 422 Unprocessable Content in 123ms (Views: 0.1ms | ActiveRecord: 1.3ms | Allocations: 283707)


[d4997dfb-25ec-4461-88dd-8b192cf14abf] Started POST "/api/v1/users/1/follows" for ::1 at 2025-09-24 17:30:47 +0700
[d4997dfb-25ec-4461-88dd-8b192cf14abf] Processing by Api::V1::FollowsController#create as */*
[d4997dfb-25ec-4461-88dd-8b192cf14abf]   Parameters: {"followed_id"=>1, "user_id"=>"1", "follow"=>{"followed_id"=>1}}
[d4997dfb-25ec-4461-88dd-8b192cf14abf]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
[d4997dfb-25ec-4461-88dd-8b192cf14abf]   [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[d4997dfb-25ec-4461-88dd-8b192cf14abf]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[d4997dfb-25ec-4461-88dd-8b192cf14abf]   [1m[36mFollow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "follows" WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2 LIMIT $3[0m  [["follower_id", 1], ["followed_id", 1], ["LIMIT", 1]]
[d4997dfb-25ec-4461-88dd-8b192cf14abf]   [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
[d4997dfb-25ec-4461-88dd-8b192cf14abf] Completed 422 Unprocessable Content in 2ms (Views: 0.1ms | ActiveRecord: 1.3ms | Allocations: 1052)


[b6590924-3abc-47f3-8341-18030601bf5d] Started DELETE "/api/v1/users/1/follows/2" for ::1 at 2025-09-24 17:30:47 +0700
[b6590924-3abc-47f3-8341-18030601bf5d] Processing by Api::V1::FollowsController#destroy as */*
[b6590924-3abc-47f3-8341-18030601bf5d]   Parameters: {"user_id"=>"1", "id"=>"2"}
[b6590924-3abc-47f3-8341-18030601bf5d]   [1m[36mFollow Load (0.2ms)[0m  [1m[34mSELECT "follows".* FROM "follows" WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2 LIMIT $3[0m  [["follower_id", 1], ["followed_id", 2], ["LIMIT", 1]]
[b6590924-3abc-47f3-8341-18030601bf5d]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[b6590924-3abc-47f3-8341-18030601bf5d]   [1m[36mFollow Destroy (0.5ms)[0m  [1m[31mDELETE FROM "follows" WHERE "follows"."id" = $1[0m  [["id", 15]]
[b6590924-3abc-47f3-8341-18030601bf5d]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
[b6590924-3abc-47f3-8341-18030601bf5d] Completed 204 No Content in 2ms (ActiveRecord: 0.9ms | Allocations: 650)


[302b1d81-8c50-4e0e-bc7e-814b8ae08bcd] Started GET "/api/v1/users/1/feed" for ::1 at 2025-09-24 17:30:47 +0700
[302b1d81-8c50-4e0e-bc7e-814b8ae08bcd] Processing by Api::V1::FeedsController#index as */*
[302b1d81-8c50-4e0e-bc7e-814b8ae08bcd]   Parameters: {"user_id"=>"1"}
[302b1d81-8c50-4e0e-bc7e-814b8ae08bcd]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[302b1d81-8c50-4e0e-bc7e-814b8ae08bcd]   [1m[36mSleepSession Load (1.7ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."woke_at" IS NOT NULL AND "sleep_sessions"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "follows" ON "users"."id" = "follows"."followed_id" WHERE "follows"."follower_id" = $1) AND "sleep_sessions"."woke_at" BETWEEN $2 AND $3 ORDER BY "sleep_sessions"."duration_sec" DESC, "sleep_sessions"."woke_at" DESC, "sleep_sessions"."id" DESC[0m  [["follower_id", 1], ["woke_at", "2025-09-17 00:00:00"], ["woke_at", "2025-09-24 23:59:59.999999"]]
[302b1d81-8c50-4e0e-bc7e-814b8ae08bcd] Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 1.8ms | Allocations: 3065)


  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" /* loading for pp */ LIMIT $1[0m  [["LIMIT", 11]]
[15f3697c-f5b0-4bb9-a7b6-72ffdeac26bb] Started POST "/api/v1/users" for ::1 at 2025-09-24 17:31:27 +0700
[15f3697c-f5b0-4bb9-a7b6-72ffdeac26bb]   
[15f3697c-f5b0-4bb9-a7b6-72ffdeac26bb] ActionController::RoutingError (No route matches [POST] "/api/v1/users"):
[15f3697c-f5b0-4bb9-a7b6-72ffdeac26bb]   
[f1ffccc0-300e-4c2b-a986-d35936f85c48] Started POST "/api/v1/users" for ::1 at 2025-09-24 17:31:27 +0700
[f1ffccc0-300e-4c2b-a986-d35936f85c48]   
[f1ffccc0-300e-4c2b-a986-d35936f85c48] ActionController::RoutingError (No route matches [POST] "/api/v1/users"):
[f1ffccc0-300e-4c2b-a986-d35936f85c48]   
[ca1929db-4882-4a8e-ae74-68f033c23826] Started POST "/api/v1/users/1/sleep_sessions/clock_in" for ::1 at 2025-09-24 17:31:27 +0700
[ca1929db-4882-4a8e-ae74-68f033c23826] Processing by Api::V1::SleepSessionsController#clock_in as */*
[ca1929db-4882-4a8e-ae74-68f033c23826]   Parameters: {"user_id"=>"1"}
[ca1929db-4882-4a8e-ae74-68f033c23826]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ca1929db-4882-4a8e-ae74-68f033c23826]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[ca1929db-4882-4a8e-ae74-68f033c23826]   [1m[36mUser Load (0.6ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[ca1929db-4882-4a8e-ae74-68f033c23826]   [1m[36mSleepSession Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[ca1929db-4882-4a8e-ae74-68f033c23826]   [1m[36mSleepSession Create (0.6ms)[0m  [1m[32mINSERT INTO "sleep_sessions" ("user_id", "slept_at", "woke_at", "duration_sec", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 1], ["slept_at", "2025-09-24 10:31:27.299635"], ["woke_at", nil], ["duration_sec", nil], ["created_at", "2025-09-24 10:31:27.299935"], ["updated_at", "2025-09-24 10:31:27.299935"]]
[ca1929db-4882-4a8e-ae74-68f033c23826]   [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
[ca1929db-4882-4a8e-ae74-68f033c23826] Completed 201 Created in 5ms (Views: 0.1ms | ActiveRecord: 2.3ms | Allocations: 1324)


[44b67054-af6f-450a-aa71-dce0dfe944c8] Started POST "/api/v1/users/1/sleep_sessions/clock_in" for ::1 at 2025-09-24 17:31:27 +0700
[44b67054-af6f-450a-aa71-dce0dfe944c8] Processing by Api::V1::SleepSessionsController#clock_in as */*
[44b67054-af6f-450a-aa71-dce0dfe944c8]   Parameters: {"user_id"=>"1"}
[44b67054-af6f-450a-aa71-dce0dfe944c8]   [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[44b67054-af6f-450a-aa71-dce0dfe944c8]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[44b67054-af6f-450a-aa71-dce0dfe944c8]   [1m[36mUser Load (0.4ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[44b67054-af6f-450a-aa71-dce0dfe944c8]   [1m[36mSleepSession Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[44b67054-af6f-450a-aa71-dce0dfe944c8]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
[44b67054-af6f-450a-aa71-dce0dfe944c8] Completed 422 Unprocessable Content in 4ms (Views: 0.1ms | ActiveRecord: 1.3ms | Allocations: 880)


[57cac561-b548-41dd-a310-e4091ff34765] Started POST "/api/v1/users/1/sleep_sessions/clock_out" for ::1 at 2025-09-24 17:31:27 +0700
[57cac561-b548-41dd-a310-e4091ff34765] Processing by Api::V1::SleepSessionsController#clock_out as */*
[57cac561-b548-41dd-a310-e4091ff34765]   Parameters: {"user_id"=>"1"}
[57cac561-b548-41dd-a310-e4091ff34765]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[57cac561-b548-41dd-a310-e4091ff34765]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[57cac561-b548-41dd-a310-e4091ff34765]   [1m[36mUser Load (0.7ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[57cac561-b548-41dd-a310-e4091ff34765]   [1m[36mSleepSession Load (0.3ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL ORDER BY "sleep_sessions"."slept_at" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[57cac561-b548-41dd-a310-e4091ff34765]   [1m[36mSleepSession Update (0.4ms)[0m  [1m[33mUPDATE "sleep_sessions" SET "woke_at" = $1, "duration_sec" = $2, "updated_at" = $3 WHERE "sleep_sessions"."id" = $4[0m  [["woke_at", "2025-09-24 10:31:27.332193"], ["duration_sec", 0], ["updated_at", "2025-09-24 10:31:27.332341"], ["id", 21]]
[57cac561-b548-41dd-a310-e4091ff34765]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
[57cac561-b548-41dd-a310-e4091ff34765] Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 1.9ms | Allocations: 1301)


[f5e9f722-8396-4b3b-b19e-7bbeafa963f8] Started POST "/api/v1/users/1/sleep_sessions/clock_out" for ::1 at 2025-09-24 17:31:27 +0700
[f5e9f722-8396-4b3b-b19e-7bbeafa963f8] Processing by Api::V1::SleepSessionsController#clock_out as */*
[f5e9f722-8396-4b3b-b19e-7bbeafa963f8]   Parameters: {"user_id"=>"1"}
[f5e9f722-8396-4b3b-b19e-7bbeafa963f8]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[f5e9f722-8396-4b3b-b19e-7bbeafa963f8]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[f5e9f722-8396-4b3b-b19e-7bbeafa963f8]   [1m[36mUser Load (0.6ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[f5e9f722-8396-4b3b-b19e-7bbeafa963f8]   [1m[36mSleepSession Load (0.2ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL ORDER BY "sleep_sessions"."slept_at" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[f5e9f722-8396-4b3b-b19e-7bbeafa963f8]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
[f5e9f722-8396-4b3b-b19e-7bbeafa963f8] Completed 422 Unprocessable Content in 3ms (Views: 0.1ms | ActiveRecord: 1.4ms | Allocations: 914)


[f4bfe732-84a1-4b07-a88e-0d578e500209] Started GET "/api/v1/users/1/sleep_sessions" for ::1 at 2025-09-24 17:31:27 +0700
[f4bfe732-84a1-4b07-a88e-0d578e500209] Processing by Api::V1::SleepSessionsController#index as */*
[f4bfe732-84a1-4b07-a88e-0d578e500209]   Parameters: {"user_id"=>"1"}
[f4bfe732-84a1-4b07-a88e-0d578e500209]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[f4bfe732-84a1-4b07-a88e-0d578e500209]   [1m[36mSleepSession Load (0.3ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 ORDER BY "sleep_sessions"."created_at" ASC[0m  [["user_id", 1]]
[f4bfe732-84a1-4b07-a88e-0d578e500209] Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 1406)


[70a2f6a4-e273-49a6-b43f-4c896af069d2] Started POST "/api/v1/users/1/follows" for ::1 at 2025-09-24 17:31:27 +0700
[70a2f6a4-e273-49a6-b43f-4c896af069d2] Processing by Api::V1::FollowsController#create as */*
[70a2f6a4-e273-49a6-b43f-4c896af069d2]   Parameters: {"followed_id"=>2, "user_id"=>"1", "follow"=>{"followed_id"=>2}}
[70a2f6a4-e273-49a6-b43f-4c896af069d2]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
[70a2f6a4-e273-49a6-b43f-4c896af069d2]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[70a2f6a4-e273-49a6-b43f-4c896af069d2]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[70a2f6a4-e273-49a6-b43f-4c896af069d2]   [1m[36mFollow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "follows" WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2 LIMIT $3[0m  [["follower_id", 1], ["followed_id", 2], ["LIMIT", 1]]
[70a2f6a4-e273-49a6-b43f-4c896af069d2]   [1m[36mFollow Create (0.3ms)[0m  [1m[32mINSERT INTO "follows" ("follower_id", "followed_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["follower_id", 1], ["followed_id", 2], ["created_at", "2025-09-24 10:31:27.383529"], ["updated_at", "2025-09-24 10:31:27.383529"]]
[70a2f6a4-e273-49a6-b43f-4c896af069d2]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
[70a2f6a4-e273-49a6-b43f-4c896af069d2] Completed 201 Created in 3ms (Views: 0.1ms | ActiveRecord: 1.3ms | Allocations: 1187)


[8bf0700d-13ac-4e4c-bc3f-1ac48102e3be] Started POST "/api/v1/users/1/follows" for ::1 at 2025-09-24 17:31:27 +0700
[8bf0700d-13ac-4e4c-bc3f-1ac48102e3be] Processing by Api::V1::FollowsController#create as */*
[8bf0700d-13ac-4e4c-bc3f-1ac48102e3be]   Parameters: {"followed_id"=>2, "user_id"=>"1", "follow"=>{"followed_id"=>2}}
[8bf0700d-13ac-4e4c-bc3f-1ac48102e3be]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
[8bf0700d-13ac-4e4c-bc3f-1ac48102e3be]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[8bf0700d-13ac-4e4c-bc3f-1ac48102e3be]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[8bf0700d-13ac-4e4c-bc3f-1ac48102e3be]   [1m[36mFollow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "follows" WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2 LIMIT $3[0m  [["follower_id", 1], ["followed_id", 2], ["LIMIT", 1]]
[8bf0700d-13ac-4e4c-bc3f-1ac48102e3be]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
[8bf0700d-13ac-4e4c-bc3f-1ac48102e3be] Completed 422 Unprocessable Content in 2ms (Views: 0.1ms | ActiveRecord: 0.9ms | Allocations: 1348)


[a9553063-bf57-462b-8eaf-2169d7608168] Started POST "/api/v1/users/1/follows" for ::1 at 2025-09-24 17:31:27 +0700
[a9553063-bf57-462b-8eaf-2169d7608168] Processing by Api::V1::FollowsController#create as */*
[a9553063-bf57-462b-8eaf-2169d7608168]   Parameters: {"followed_id"=>1, "user_id"=>"1", "follow"=>{"followed_id"=>1}}
[a9553063-bf57-462b-8eaf-2169d7608168]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
[a9553063-bf57-462b-8eaf-2169d7608168]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[a9553063-bf57-462b-8eaf-2169d7608168]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[a9553063-bf57-462b-8eaf-2169d7608168]   [1m[36mFollow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "follows" WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2 LIMIT $3[0m  [["follower_id", 1], ["followed_id", 1], ["LIMIT", 1]]
[a9553063-bf57-462b-8eaf-2169d7608168]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
[a9553063-bf57-462b-8eaf-2169d7608168] Completed 422 Unprocessable Content in 3ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 1032)


[d58879b1-0cd4-4c31-bfe2-e60b7db53f72] Started DELETE "/api/v1/users/1/follows/2" for ::1 at 2025-09-24 17:31:27 +0700
[d58879b1-0cd4-4c31-bfe2-e60b7db53f72] Processing by Api::V1::FollowsController#destroy as */*
[d58879b1-0cd4-4c31-bfe2-e60b7db53f72]   Parameters: {"user_id"=>"1", "id"=>"2"}
[d58879b1-0cd4-4c31-bfe2-e60b7db53f72]   [1m[36mFollow Load (0.4ms)[0m  [1m[34mSELECT "follows".* FROM "follows" WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2 LIMIT $3[0m  [["follower_id", 1], ["followed_id", 2], ["LIMIT", 1]]
[d58879b1-0cd4-4c31-bfe2-e60b7db53f72]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[d58879b1-0cd4-4c31-bfe2-e60b7db53f72]   [1m[36mFollow Destroy (0.6ms)[0m  [1m[31mDELETE FROM "follows" WHERE "follows"."id" = $1[0m  [["id", 16]]
[d58879b1-0cd4-4c31-bfe2-e60b7db53f72]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
[d58879b1-0cd4-4c31-bfe2-e60b7db53f72] Completed 204 No Content in 2ms (ActiveRecord: 1.3ms | Allocations: 408)


[e0a6bc20-8b98-475f-835d-f4ed2688e755] Started GET "/api/v1/users/1/feed" for ::1 at 2025-09-24 17:31:27 +0700
[e0a6bc20-8b98-475f-835d-f4ed2688e755] Processing by Api::V1::FeedsController#index as */*
[e0a6bc20-8b98-475f-835d-f4ed2688e755]   Parameters: {"user_id"=>"1"}
[e0a6bc20-8b98-475f-835d-f4ed2688e755]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[e0a6bc20-8b98-475f-835d-f4ed2688e755]   [1m[36mSleepSession Load (0.7ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."woke_at" IS NOT NULL AND "sleep_sessions"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "follows" ON "users"."id" = "follows"."followed_id" WHERE "follows"."follower_id" = $1) AND "sleep_sessions"."woke_at" BETWEEN $2 AND $3 ORDER BY "sleep_sessions"."duration_sec" DESC, "sleep_sessions"."woke_at" DESC, "sleep_sessions"."id" DESC[0m  [["follower_id", 1], ["woke_at", "2025-09-17 00:00:00"], ["woke_at", "2025-09-24 23:59:59.999999"]]
[e0a6bc20-8b98-475f-835d-f4ed2688e755] Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.9ms | Allocations: 1101)


[e09887b3-2c29-4f17-90bb-b2c3bb29e304] Started GET "/api/v1/users/1" for ::1 at 2025-09-24 17:33:07 +0700
[e09887b3-2c29-4f17-90bb-b2c3bb29e304] Processing by Api::V1::UsersController#show as */*
[e09887b3-2c29-4f17-90bb-b2c3bb29e304]   Parameters: {"id"=>"1"}
[e09887b3-2c29-4f17-90bb-b2c3bb29e304]   [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[e09887b3-2c29-4f17-90bb-b2c3bb29e304] Completed 200 OK in 3ms (Views: 0.7ms | ActiveRecord: 0.5ms | Allocations: 311)


[9e8a7eb9-7cb6-4411-8a0e-b96b5b8a9b1b] Started GET "/api/v1/users/2" for ::1 at 2025-09-24 17:33:07 +0700
[9e8a7eb9-7cb6-4411-8a0e-b96b5b8a9b1b] Processing by Api::V1::UsersController#show as */*
[9e8a7eb9-7cb6-4411-8a0e-b96b5b8a9b1b]   Parameters: {"id"=>"2"}
[9e8a7eb9-7cb6-4411-8a0e-b96b5b8a9b1b]   [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[9e8a7eb9-7cb6-4411-8a0e-b96b5b8a9b1b] Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 228)


[18cdb376-f142-4350-84c1-b10630741f0e] Started POST "/api/v1/users/1/sleep_sessions/clock_in" for ::1 at 2025-09-24 17:33:07 +0700
[18cdb376-f142-4350-84c1-b10630741f0e] Processing by Api::V1::SleepSessionsController#clock_in as */*
[18cdb376-f142-4350-84c1-b10630741f0e]   Parameters: {"user_id"=>"1"}
[18cdb376-f142-4350-84c1-b10630741f0e]   [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[18cdb376-f142-4350-84c1-b10630741f0e]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[18cdb376-f142-4350-84c1-b10630741f0e]   [1m[36mUser Load (0.8ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[18cdb376-f142-4350-84c1-b10630741f0e]   [1m[36mSleepSession Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[18cdb376-f142-4350-84c1-b10630741f0e]   [1m[36mSleepSession Create (0.8ms)[0m  [1m[32mINSERT INTO "sleep_sessions" ("user_id", "slept_at", "woke_at", "duration_sec", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 1], ["slept_at", "2025-09-24 10:33:07.554363"], ["woke_at", nil], ["duration_sec", nil], ["created_at", "2025-09-24 10:33:07.554811"], ["updated_at", "2025-09-24 10:33:07.554811"]]
[18cdb376-f142-4350-84c1-b10630741f0e]   [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
[18cdb376-f142-4350-84c1-b10630741f0e] Completed 201 Created in 6ms (Views: 0.1ms | ActiveRecord: 3.9ms | Allocations: 1321)


[9d9b1b28-ef0d-40ac-a0ae-7e32377a464d] Started POST "/api/v1/users/1/sleep_sessions/clock_in" for ::1 at 2025-09-24 17:33:07 +0700
[9d9b1b28-ef0d-40ac-a0ae-7e32377a464d] Processing by Api::V1::SleepSessionsController#clock_in as */*
[9d9b1b28-ef0d-40ac-a0ae-7e32377a464d]   Parameters: {"user_id"=>"1"}
[9d9b1b28-ef0d-40ac-a0ae-7e32377a464d]   [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[9d9b1b28-ef0d-40ac-a0ae-7e32377a464d]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
[9d9b1b28-ef0d-40ac-a0ae-7e32377a464d]   [1m[36mUser Load (0.8ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[9d9b1b28-ef0d-40ac-a0ae-7e32377a464d]   [1m[36mSleepSession Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[9d9b1b28-ef0d-40ac-a0ae-7e32377a464d]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
[9d9b1b28-ef0d-40ac-a0ae-7e32377a464d] Completed 422 Unprocessable Content in 3ms (Views: 0.1ms | ActiveRecord: 1.8ms | Allocations: 881)


[0e087ddd-3e7d-43d5-b8a3-31a802464fdd] Started POST "/api/v1/users/1/sleep_sessions/clock_out" for ::1 at 2025-09-24 17:33:07 +0700
[0e087ddd-3e7d-43d5-b8a3-31a802464fdd] Processing by Api::V1::SleepSessionsController#clock_out as */*
[0e087ddd-3e7d-43d5-b8a3-31a802464fdd]   Parameters: {"user_id"=>"1"}
[0e087ddd-3e7d-43d5-b8a3-31a802464fdd]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[0e087ddd-3e7d-43d5-b8a3-31a802464fdd]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[0e087ddd-3e7d-43d5-b8a3-31a802464fdd]   [1m[36mUser Load (0.5ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[0e087ddd-3e7d-43d5-b8a3-31a802464fdd]   [1m[36mSleepSession Load (0.2ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL ORDER BY "sleep_sessions"."slept_at" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[0e087ddd-3e7d-43d5-b8a3-31a802464fdd]   [1m[36mSleepSession Update (0.5ms)[0m  [1m[33mUPDATE "sleep_sessions" SET "woke_at" = $1, "duration_sec" = $2, "updated_at" = $3 WHERE "sleep_sessions"."id" = $4[0m  [["woke_at", "2025-09-24 10:33:07.585611"], ["duration_sec", 0], ["updated_at", "2025-09-24 10:33:07.585769"], ["id", 22]]
[0e087ddd-3e7d-43d5-b8a3-31a802464fdd]   [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
[0e087ddd-3e7d-43d5-b8a3-31a802464fdd] Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 1.8ms | Allocations: 1301)


[e7ad452d-d113-404c-8f24-fe17b3814011] Started POST "/api/v1/users/1/sleep_sessions/clock_out" for ::1 at 2025-09-24 17:33:07 +0700
[e7ad452d-d113-404c-8f24-fe17b3814011] Processing by Api::V1::SleepSessionsController#clock_out as */*
[e7ad452d-d113-404c-8f24-fe17b3814011]   Parameters: {"user_id"=>"1"}
[e7ad452d-d113-404c-8f24-fe17b3814011]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[e7ad452d-d113-404c-8f24-fe17b3814011]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[e7ad452d-d113-404c-8f24-fe17b3814011]   [1m[36mUser Load (0.6ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[e7ad452d-d113-404c-8f24-fe17b3814011]   [1m[36mSleepSession Load (0.2ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL ORDER BY "sleep_sessions"."slept_at" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[e7ad452d-d113-404c-8f24-fe17b3814011]   [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
[e7ad452d-d113-404c-8f24-fe17b3814011] Completed 422 Unprocessable Content in 3ms (Views: 0.1ms | ActiveRecord: 1.6ms | Allocations: 915)


[64a321f1-dbb4-4133-afe9-a065476612ec] Started GET "/api/v1/users/1/sleep_sessions" for ::1 at 2025-09-24 17:33:07 +0700
[64a321f1-dbb4-4133-afe9-a065476612ec] Processing by Api::V1::SleepSessionsController#index as */*
[64a321f1-dbb4-4133-afe9-a065476612ec]   Parameters: {"user_id"=>"1"}
[64a321f1-dbb4-4133-afe9-a065476612ec]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[64a321f1-dbb4-4133-afe9-a065476612ec]   [1m[36mSleepSession Load (0.5ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 ORDER BY "sleep_sessions"."created_at" ASC[0m  [["user_id", 1]]
[64a321f1-dbb4-4133-afe9-a065476612ec] Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 1450)


[1340eda1-cbd3-49f8-bceb-c3b727d5e84a] Started POST "/api/v1/users/1/follows" for ::1 at 2025-09-24 17:33:07 +0700
[1340eda1-cbd3-49f8-bceb-c3b727d5e84a] Processing by Api::V1::FollowsController#create as */*
[1340eda1-cbd3-49f8-bceb-c3b727d5e84a]   Parameters: {"followed_id"=>2, "user_id"=>"1", "follow"=>{"followed_id"=>2}}
[1340eda1-cbd3-49f8-bceb-c3b727d5e84a]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
[1340eda1-cbd3-49f8-bceb-c3b727d5e84a]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[1340eda1-cbd3-49f8-bceb-c3b727d5e84a]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[1340eda1-cbd3-49f8-bceb-c3b727d5e84a]   [1m[36mFollow Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "follows" WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2 LIMIT $3[0m  [["follower_id", 1], ["followed_id", 2], ["LIMIT", 1]]
[1340eda1-cbd3-49f8-bceb-c3b727d5e84a]   [1m[36mFollow Create (0.3ms)[0m  [1m[32mINSERT INTO "follows" ("follower_id", "followed_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["follower_id", 1], ["followed_id", 2], ["created_at", "2025-09-24 10:33:07.638272"], ["updated_at", "2025-09-24 10:33:07.638272"]]
[1340eda1-cbd3-49f8-bceb-c3b727d5e84a]   [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
[1340eda1-cbd3-49f8-bceb-c3b727d5e84a] Completed 201 Created in 4ms (Views: 0.1ms | ActiveRecord: 1.8ms | Allocations: 1187)


[9a956092-7a49-453c-bdb7-b5aa50fef61e] Started POST "/api/v1/users/1/follows" for ::1 at 2025-09-24 17:33:07 +0700
[9a956092-7a49-453c-bdb7-b5aa50fef61e] Processing by Api::V1::FollowsController#create as */*
[9a956092-7a49-453c-bdb7-b5aa50fef61e]   Parameters: {"followed_id"=>2, "user_id"=>"1", "follow"=>{"followed_id"=>2}}
[9a956092-7a49-453c-bdb7-b5aa50fef61e]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
[9a956092-7a49-453c-bdb7-b5aa50fef61e]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[9a956092-7a49-453c-bdb7-b5aa50fef61e]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[9a956092-7a49-453c-bdb7-b5aa50fef61e]   [1m[36mFollow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "follows" WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2 LIMIT $3[0m  [["follower_id", 1], ["followed_id", 2], ["LIMIT", 1]]
[9a956092-7a49-453c-bdb7-b5aa50fef61e]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
[9a956092-7a49-453c-bdb7-b5aa50fef61e] Completed 422 Unprocessable Content in 3ms (Views: 0.1ms | ActiveRecord: 1.0ms | Allocations: 1346)


[bdaf47a6-d660-4522-947c-8e1cb16c69b7] Started POST "/api/v1/users/1/follows" for ::1 at 2025-09-24 17:33:07 +0700
[bdaf47a6-d660-4522-947c-8e1cb16c69b7] Processing by Api::V1::FollowsController#create as */*
[bdaf47a6-d660-4522-947c-8e1cb16c69b7]   Parameters: {"followed_id"=>1, "user_id"=>"1", "follow"=>{"followed_id"=>1}}
[bdaf47a6-d660-4522-947c-8e1cb16c69b7]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
[bdaf47a6-d660-4522-947c-8e1cb16c69b7]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[bdaf47a6-d660-4522-947c-8e1cb16c69b7]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[bdaf47a6-d660-4522-947c-8e1cb16c69b7]   [1m[36mFollow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "follows" WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2 LIMIT $3[0m  [["follower_id", 1], ["followed_id", 1], ["LIMIT", 1]]
[bdaf47a6-d660-4522-947c-8e1cb16c69b7]   [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
[bdaf47a6-d660-4522-947c-8e1cb16c69b7] Completed 422 Unprocessable Content in 2ms (Views: 0.1ms | ActiveRecord: 1.1ms | Allocations: 1032)


[38ecd3eb-6c11-4ad1-a4df-1caf5b5d0684] Started DELETE "/api/v1/users/1/follows/2" for ::1 at 2025-09-24 17:33:07 +0700
[38ecd3eb-6c11-4ad1-a4df-1caf5b5d0684] Processing by Api::V1::FollowsController#destroy as */*
[38ecd3eb-6c11-4ad1-a4df-1caf5b5d0684]   Parameters: {"user_id"=>"1", "id"=>"2"}
[38ecd3eb-6c11-4ad1-a4df-1caf5b5d0684]   [1m[36mFollow Load (0.2ms)[0m  [1m[34mSELECT "follows".* FROM "follows" WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2 LIMIT $3[0m  [["follower_id", 1], ["followed_id", 2], ["LIMIT", 1]]
[38ecd3eb-6c11-4ad1-a4df-1caf5b5d0684]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[38ecd3eb-6c11-4ad1-a4df-1caf5b5d0684]   [1m[36mFollow Destroy (0.5ms)[0m  [1m[31mDELETE FROM "follows" WHERE "follows"."id" = $1[0m  [["id", 17]]
[38ecd3eb-6c11-4ad1-a4df-1caf5b5d0684]   [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
[38ecd3eb-6c11-4ad1-a4df-1caf5b5d0684] Completed 204 No Content in 2ms (ActiveRecord: 1.2ms | Allocations: 408)


[815a67e8-88f3-42e7-a402-869bef217506] Started GET "/api/v1/users/1/feed" for ::1 at 2025-09-24 17:33:07 +0700
[815a67e8-88f3-42e7-a402-869bef217506] Processing by Api::V1::FeedsController#index as */*
[815a67e8-88f3-42e7-a402-869bef217506]   Parameters: {"user_id"=>"1"}
[815a67e8-88f3-42e7-a402-869bef217506]   [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[815a67e8-88f3-42e7-a402-869bef217506]   [1m[36mSleepSession Load (0.9ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."woke_at" IS NOT NULL AND "sleep_sessions"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "follows" ON "users"."id" = "follows"."followed_id" WHERE "follows"."follower_id" = $1) AND "sleep_sessions"."woke_at" BETWEEN $2 AND $3 ORDER BY "sleep_sessions"."duration_sec" DESC, "sleep_sessions"."woke_at" DESC, "sleep_sessions"."id" DESC[0m  [["follower_id", 1], ["woke_at", "2025-09-17 00:00:00"], ["woke_at", "2025-09-24 23:59:59.999999"]]
[815a67e8-88f3-42e7-a402-869bef217506] Completed 200 OK in 3ms (Views: 0.0ms | ActiveRecord: 1.2ms | Allocations: 1101)


[dc2477bb-ac7b-4edb-9bec-d002268de12b] Started GET "/api/v1/users/1" for ::1 at 2025-09-24 17:33:28 +0700
[dc2477bb-ac7b-4edb-9bec-d002268de12b] Processing by Api::V1::UsersController#show as */*
[dc2477bb-ac7b-4edb-9bec-d002268de12b]   Parameters: {"id"=>"1"}
[dc2477bb-ac7b-4edb-9bec-d002268de12b]   [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[dc2477bb-ac7b-4edb-9bec-d002268de12b] Completed 200 OK in 3ms (Views: 0.6ms | ActiveRecord: 0.3ms | Allocations: 228)


[d02dfd76-b05a-4090-bc6e-f8dee9a0d740] Started GET "/api/v1/users/2" for ::1 at 2025-09-24 17:33:28 +0700
[d02dfd76-b05a-4090-bc6e-f8dee9a0d740] Processing by Api::V1::UsersController#show as */*
[d02dfd76-b05a-4090-bc6e-f8dee9a0d740]   Parameters: {"id"=>"2"}
[d02dfd76-b05a-4090-bc6e-f8dee9a0d740]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[d02dfd76-b05a-4090-bc6e-f8dee9a0d740] Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 228)


[09959a14-50a9-4f31-9834-aec22c8b2c42] Started POST "/api/v1/users/1/sleep_sessions/clock_in" for ::1 at 2025-09-24 17:33:28 +0700
[09959a14-50a9-4f31-9834-aec22c8b2c42] Processing by Api::V1::SleepSessionsController#clock_in as */*
[09959a14-50a9-4f31-9834-aec22c8b2c42]   Parameters: {"user_id"=>"1"}
[09959a14-50a9-4f31-9834-aec22c8b2c42]   [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[09959a14-50a9-4f31-9834-aec22c8b2c42]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
[09959a14-50a9-4f31-9834-aec22c8b2c42]   [1m[36mUser Load (0.9ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[09959a14-50a9-4f31-9834-aec22c8b2c42]   [1m[36mSleepSession Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[09959a14-50a9-4f31-9834-aec22c8b2c42]   [1m[36mSleepSession Create (0.9ms)[0m  [1m[32mINSERT INTO "sleep_sessions" ("user_id", "slept_at", "woke_at", "duration_sec", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 1], ["slept_at", "2025-09-24 10:33:28.922396"], ["woke_at", nil], ["duration_sec", nil], ["created_at", "2025-09-24 10:33:28.922943"], ["updated_at", "2025-09-24 10:33:28.922943"]]
[09959a14-50a9-4f31-9834-aec22c8b2c42]   [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
[09959a14-50a9-4f31-9834-aec22c8b2c42] Completed 201 Created in 6ms (Views: 0.1ms | ActiveRecord: 3.1ms | Allocations: 1317)


[d01fb409-e3a7-4dbc-a92c-1201a597a21d] Started POST "/api/v1/users/1/sleep_sessions/clock_in" for ::1 at 2025-09-24 17:33:28 +0700
[d01fb409-e3a7-4dbc-a92c-1201a597a21d] Processing by Api::V1::SleepSessionsController#clock_in as */*
[d01fb409-e3a7-4dbc-a92c-1201a597a21d]   Parameters: {"user_id"=>"1"}
[d01fb409-e3a7-4dbc-a92c-1201a597a21d]   [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[d01fb409-e3a7-4dbc-a92c-1201a597a21d]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[d01fb409-e3a7-4dbc-a92c-1201a597a21d]   [1m[36mUser Load (0.4ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[d01fb409-e3a7-4dbc-a92c-1201a597a21d]   [1m[36mSleepSession Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[d01fb409-e3a7-4dbc-a92c-1201a597a21d]   [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
[d01fb409-e3a7-4dbc-a92c-1201a597a21d] Completed 422 Unprocessable Content in 3ms (Views: 0.1ms | ActiveRecord: 1.5ms | Allocations: 881)


[0fa06ef5-071c-4ecd-91ef-4f3da1d1678e] Started POST "/api/v1/users/1/sleep_sessions/clock_out" for ::1 at 2025-09-24 17:33:28 +0700
[0fa06ef5-071c-4ecd-91ef-4f3da1d1678e] Processing by Api::V1::SleepSessionsController#clock_out as */*
[0fa06ef5-071c-4ecd-91ef-4f3da1d1678e]   Parameters: {"user_id"=>"1"}
[0fa06ef5-071c-4ecd-91ef-4f3da1d1678e]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[0fa06ef5-071c-4ecd-91ef-4f3da1d1678e]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[0fa06ef5-071c-4ecd-91ef-4f3da1d1678e]   [1m[36mUser Load (0.4ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[0fa06ef5-071c-4ecd-91ef-4f3da1d1678e]   [1m[36mSleepSession Load (0.1ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL ORDER BY "sleep_sessions"."slept_at" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[0fa06ef5-071c-4ecd-91ef-4f3da1d1678e]   [1m[36mSleepSession Update (0.3ms)[0m  [1m[33mUPDATE "sleep_sessions" SET "woke_at" = $1, "duration_sec" = $2, "updated_at" = $3 WHERE "sleep_sessions"."id" = $4[0m  [["woke_at", "2025-09-24 10:33:28.953064"], ["duration_sec", 0], ["updated_at", "2025-09-24 10:33:28.953273"], ["id", 23]]
[0fa06ef5-071c-4ecd-91ef-4f3da1d1678e]   [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
[0fa06ef5-071c-4ecd-91ef-4f3da1d1678e] Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 1.4ms | Allocations: 1301)


[83bf548f-002f-431b-9163-b7a0ccbebe7f] Started POST "/api/v1/users/1/sleep_sessions/clock_out" for ::1 at 2025-09-24 17:33:28 +0700
[83bf548f-002f-431b-9163-b7a0ccbebe7f] Processing by Api::V1::SleepSessionsController#clock_out as */*
[83bf548f-002f-431b-9163-b7a0ccbebe7f]   Parameters: {"user_id"=>"1"}
[83bf548f-002f-431b-9163-b7a0ccbebe7f]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[83bf548f-002f-431b-9163-b7a0ccbebe7f]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[83bf548f-002f-431b-9163-b7a0ccbebe7f]   [1m[36mUser Load (0.6ms)[0m  [1m[37mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
[83bf548f-002f-431b-9163-b7a0ccbebe7f]   [1m[36mSleepSession Load (0.2ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 AND "sleep_sessions"."woke_at" IS NULL ORDER BY "sleep_sessions"."slept_at" DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
[83bf548f-002f-431b-9163-b7a0ccbebe7f]   [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
[83bf548f-002f-431b-9163-b7a0ccbebe7f] Completed 422 Unprocessable Content in 2ms (Views: 0.1ms | ActiveRecord: 1.4ms | Allocations: 915)


[0e54be78-31f1-4f1e-aa6f-659a5fe6df81] Started GET "/api/v1/users/1/sleep_sessions" for ::1 at 2025-09-24 17:33:28 +0700
[0e54be78-31f1-4f1e-aa6f-659a5fe6df81] Processing by Api::V1::SleepSessionsController#index as */*
[0e54be78-31f1-4f1e-aa6f-659a5fe6df81]   Parameters: {"user_id"=>"1"}
[0e54be78-31f1-4f1e-aa6f-659a5fe6df81]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[0e54be78-31f1-4f1e-aa6f-659a5fe6df81]   [1m[36mSleepSession Load (0.6ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."user_id" = $1 ORDER BY "sleep_sessions"."created_at" ASC[0m  [["user_id", 1]]
[0e54be78-31f1-4f1e-aa6f-659a5fe6df81] Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 1493)


[72557f92-d210-4445-87fb-a4c36c546151] Started POST "/api/v1/users/1/follows" for ::1 at 2025-09-24 17:33:29 +0700
[72557f92-d210-4445-87fb-a4c36c546151] Processing by Api::V1::FollowsController#create as */*
[72557f92-d210-4445-87fb-a4c36c546151]   Parameters: {"followed_id"=>2, "user_id"=>"1", "follow"=>{"followed_id"=>2}}
[72557f92-d210-4445-87fb-a4c36c546151]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
[72557f92-d210-4445-87fb-a4c36c546151]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[72557f92-d210-4445-87fb-a4c36c546151]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[72557f92-d210-4445-87fb-a4c36c546151]   [1m[36mFollow Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "follows" WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2 LIMIT $3[0m  [["follower_id", 1], ["followed_id", 2], ["LIMIT", 1]]
[72557f92-d210-4445-87fb-a4c36c546151]   [1m[36mFollow Create (0.6ms)[0m  [1m[32mINSERT INTO "follows" ("follower_id", "followed_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["follower_id", 1], ["followed_id", 2], ["created_at", "2025-09-24 10:33:29.006806"], ["updated_at", "2025-09-24 10:33:29.006806"]]
[72557f92-d210-4445-87fb-a4c36c546151]   [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
[72557f92-d210-4445-87fb-a4c36c546151] Completed 201 Created in 4ms (Views: 0.1ms | ActiveRecord: 1.8ms | Allocations: 1187)


[491d6f74-c9a8-4875-acae-cf77ff08618f] Started POST "/api/v1/users/1/follows" for ::1 at 2025-09-24 17:33:29 +0700
[491d6f74-c9a8-4875-acae-cf77ff08618f] Processing by Api::V1::FollowsController#create as */*
[491d6f74-c9a8-4875-acae-cf77ff08618f]   Parameters: {"followed_id"=>2, "user_id"=>"1", "follow"=>{"followed_id"=>2}}
[491d6f74-c9a8-4875-acae-cf77ff08618f]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
[491d6f74-c9a8-4875-acae-cf77ff08618f]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[491d6f74-c9a8-4875-acae-cf77ff08618f]   [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[491d6f74-c9a8-4875-acae-cf77ff08618f]   [1m[36mFollow Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "follows" WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2 LIMIT $3[0m  [["follower_id", 1], ["followed_id", 2], ["LIMIT", 1]]
[491d6f74-c9a8-4875-acae-cf77ff08618f]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
[491d6f74-c9a8-4875-acae-cf77ff08618f] Completed 422 Unprocessable Content in 3ms (Views: 0.1ms | ActiveRecord: 1.1ms | Allocations: 1346)


[76f38d9a-2f55-4c1d-9db8-2ddf8b1d760d] Started POST "/api/v1/users/1/follows" for ::1 at 2025-09-24 17:33:29 +0700
[76f38d9a-2f55-4c1d-9db8-2ddf8b1d760d] Processing by Api::V1::FollowsController#create as */*
[76f38d9a-2f55-4c1d-9db8-2ddf8b1d760d]   Parameters: {"followed_id"=>1, "user_id"=>"1", "follow"=>{"followed_id"=>1}}
[76f38d9a-2f55-4c1d-9db8-2ddf8b1d760d]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[76f38d9a-2f55-4c1d-9db8-2ddf8b1d760d]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[76f38d9a-2f55-4c1d-9db8-2ddf8b1d760d]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[76f38d9a-2f55-4c1d-9db8-2ddf8b1d760d]   [1m[36mFollow Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "follows" WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2 LIMIT $3[0m  [["follower_id", 1], ["followed_id", 1], ["LIMIT", 1]]
[76f38d9a-2f55-4c1d-9db8-2ddf8b1d760d]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
[76f38d9a-2f55-4c1d-9db8-2ddf8b1d760d] Completed 422 Unprocessable Content in 2ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 1032)


[bd5b23e4-fd7e-41ca-b4b7-ef18cf56a052] Started DELETE "/api/v1/users/1/follows/2" for ::1 at 2025-09-24 17:33:29 +0700
[bd5b23e4-fd7e-41ca-b4b7-ef18cf56a052] Processing by Api::V1::FollowsController#destroy as */*
[bd5b23e4-fd7e-41ca-b4b7-ef18cf56a052]   Parameters: {"user_id"=>"1", "id"=>"2"}
[bd5b23e4-fd7e-41ca-b4b7-ef18cf56a052]   [1m[36mFollow Load (0.4ms)[0m  [1m[34mSELECT "follows".* FROM "follows" WHERE "follows"."follower_id" = $1 AND "follows"."followed_id" = $2 LIMIT $3[0m  [["follower_id", 1], ["followed_id", 2], ["LIMIT", 1]]
[bd5b23e4-fd7e-41ca-b4b7-ef18cf56a052]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[bd5b23e4-fd7e-41ca-b4b7-ef18cf56a052]   [1m[36mFollow Destroy (0.5ms)[0m  [1m[31mDELETE FROM "follows" WHERE "follows"."id" = $1[0m  [["id", 18]]
[bd5b23e4-fd7e-41ca-b4b7-ef18cf56a052]   [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
[bd5b23e4-fd7e-41ca-b4b7-ef18cf56a052] Completed 204 No Content in 2ms (ActiveRecord: 1.4ms | Allocations: 408)


[d7d342c9-384f-4821-812e-543d78c7c944] Started GET "/api/v1/users/1/feed" for ::1 at 2025-09-24 17:33:29 +0700
[d7d342c9-384f-4821-812e-543d78c7c944] Processing by Api::V1::FeedsController#index as */*
[d7d342c9-384f-4821-812e-543d78c7c944]   Parameters: {"user_id"=>"1"}
[d7d342c9-384f-4821-812e-543d78c7c944]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[d7d342c9-384f-4821-812e-543d78c7c944]   [1m[36mSleepSession Load (0.7ms)[0m  [1m[34mSELECT "sleep_sessions".* FROM "sleep_sessions" WHERE "sleep_sessions"."woke_at" IS NOT NULL AND "sleep_sessions"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "follows" ON "users"."id" = "follows"."followed_id" WHERE "follows"."follower_id" = $1) AND "sleep_sessions"."woke_at" BETWEEN $2 AND $3 ORDER BY "sleep_sessions"."duration_sec" DESC, "sleep_sessions"."woke_at" DESC, "sleep_sessions"."id" DESC[0m  [["follower_id", 1], ["woke_at", "2025-09-17 00:00:00"], ["woke_at", "2025-09-24 23:59:59.999999"]]
[d7d342c9-384f-4821-812e-543d78c7c944] Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 1.0ms | Allocations: 1101)


